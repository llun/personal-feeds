{"title":"สวัสดี OpenTelemetry","link":"https://www.somkiat.cc/hello-opentelemetry/","date":1615620429000,"content":"<div id=\"readability-page-1\" class=\"page\"><div id=\"page\"><article><div id=\"content_box\"><header><div><p><time>March 13, 2021</time> <span><a href=\"https://www.somkiat.cc/category/architecture-2/\" rel=\"category tag\">Architecture</a>, <a href=\"https://www.somkiat.cc/category/tools/\" rel=\"category tag\">Tools</a></span></p></div></header><div><p>หลังจากที่ใช้งาน OpenTracing มานาน<br>ซึ่งตอนนี้ OpenTracing ได้รวมเข้ากับ OpenCensus แล้ว<br>มีชื่อว่า <strong><a href=\"https://opentelemetry.io/\" target=\"_blank\" rel=\"noreferrer noopener\">OpenTelemetry</a></strong><br>จึงมาลองศึกษาและใช้งานดูกันหน่อย</p><p><strong><em>ปล. พบว่า library มีการเปลี่ยนเยอะมาก ๆ<br>ก็พอจะนำไปใช้งานได้<br>แต่ต้องเรียนรู้เพิ่มกันหน่อย</em></strong></p><p><strong>OpenTelemetry คืออะไร</strong></p><figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/03/architecture-647x1024.png\" alt=\"\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/03/architecture-647x1024.png 647w, https://www.somkiat.cc/wp-content/uploads/2021/03/architecture-189x300.png 189w, https://www.somkiat.cc/wp-content/uploads/2021/03/architecture-768x1216.png 768w, https://www.somkiat.cc/wp-content/uploads/2021/03/architecture.png 800w\" sizes=\"(max-width: 647px) 100vw, 647px\"><figcaption><a href=\"https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/overview.md\" target=\"_blank\" rel=\"noreferrer noopener\">https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/overview.md</a></figcaption></figure><p>คือกลุ่มของ API, SDK, เครื่องมือ<br>รวมทั้งแนวทางการ integrate เข้ากับระบบงานต่าง ๆ<br>สำหรับการสร้างและดูแลรูปแบบข้อมูล telemetry ให้เป็นมาตรฐาน<br>นั่นก็คือรูปแบบข้อมูลของทั้ง <strong>trace, metric และ log</strong><br>จะต่างกับ OpenTracing ที่เน้นเฉพาะเรื่องของ trace เท่านั้น<br>ซึ่งจะเรียกว่า <strong><a rel=\"noreferrer noopener\" href=\"https://opentelemetry.io/docs/concepts/data-sources/\" target=\"_blank\">Data Source</a></strong></p><p><strong>โครงสร้างของการทำงานดังรูป</strong></p><figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/03/Screen-Shot-2564-03-13-at-12.16.41-1024x553.png\" alt=\"\" width=\"544\" height=\"294\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/03/Screen-Shot-2564-03-13-at-12.16.41-1024x553.png 1024w, https://www.somkiat.cc/wp-content/uploads/2021/03/Screen-Shot-2564-03-13-at-12.16.41-300x162.png 300w, https://www.somkiat.cc/wp-content/uploads/2021/03/Screen-Shot-2564-03-13-at-12.16.41-768x415.png 768w, https://www.somkiat.cc/wp-content/uploads/2021/03/Screen-Shot-2564-03-13-at-12.16.41.png 1178w\" sizes=\"(max-width: 544px) 100vw, 544px\"></figure><p><strong>โดยเป้าหมายหลัก ๆ คือ เรื่องของความยืดหยุ่นในการใช้งาน</strong></p><p>เพื่อให้ทำงานได้ระบบที่เป็น opensource และ commercial<br>รวมทั้งสามารถนำข้อมูลที่ได้ ไปเก็บยังที่จัดเก็บต่าง ๆ ได้อีกด้วย<br>ซึ่งเป็นงานในส่วนของ <strong><a rel=\"noreferrer noopener\" href=\"https://opentelemetry.io/docs/concepts/data-collection/\" target=\"_blank\">Data Collection</a></strong><br>ยกตัวอย่างเช่น Jaeger, Zipkin, Prometheus และ Fluent Bit เป็นต้น<br>แน่นอนว่า อาจจะเป็นระบบอื่น ๆ ก็ได้ ซึ่งไม่ผูกมัดแน่นอน</p><p><strong>โครงสร้างของการทำงานดังรูป</strong></p><figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/03/Screen-Shot-2564-03-13-at-14.09.29-1024x560.png\" alt=\"\" width=\"569\" height=\"311\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/03/Screen-Shot-2564-03-13-at-14.09.29-1024x560.png 1024w, https://www.somkiat.cc/wp-content/uploads/2021/03/Screen-Shot-2564-03-13-at-14.09.29-300x164.png 300w, https://www.somkiat.cc/wp-content/uploads/2021/03/Screen-Shot-2564-03-13-at-14.09.29-768x420.png 768w, https://www.somkiat.cc/wp-content/uploads/2021/03/Screen-Shot-2564-03-13-at-14.09.29.png 1316w\" sizes=\"(max-width: 569px) 100vw, 569px\"></figure><p><strong>มีตัวอย่างของการจัดเก็บข้อมูลให้ด้วย</strong></p><p>ยกตัวอย่างเช่น การพัฒนาด้วย<strong><a href=\"https://github.com/open-telemetry/opentelemetry-go/tree/main/example\" target=\"_blank\" rel=\"noreferrer noopener\">ภาษา Go</a></strong></p><ul><li>Jaeger</li><li>Prometheus</li><li>Zipkin</li></ul><p>เดี๋ยวมาเขียน code เพื่อสร้างและจัดเก็บข้อมูล Metric ใน service ด้วยภาษา Go กันต่อไป</p></div><div><p><img alt=\"\" src=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=90&amp;d=mm&amp;r=g\" srcset=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=180&amp;d=mm&amp;r=g 2x\" height=\"90\" width=\"90\"></p><h4>Article by <a href=\"https://www.facebook.com/somkiatspns\">Somkiat Puisungnoen</a></h4><p>To be Craftmanship</p></div></div></article></div></div>","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"2813544133140e1ee133fc025c58bc047a7c6918f9151bacd39caab06224d3a0","category":"Thai"}