{"title":"Elasticsearch 7.11 :: ว่าด้วยเรื่อง Schema on read","link":"https://www.somkiat.cc/elasticsearch-schema-on-read/","date":1614176472000,"content":"<div id=\"readability-page-1\" class=\"page\"><div id=\"page\"><article><div id=\"content_box\"><header><div><p><time>February 24, 2021</time> <span><a href=\"https://www.somkiat.cc/category/bigdata/\" rel=\"category tag\">BigData</a>, <a href=\"https://www.somkiat.cc/category/tools/\" rel=\"category tag\">Tools</a></span></p></div></header><div><figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/02/schema-on-read-vs-schema-on-write-1024x767.jpg\" alt=\"\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/02/schema-on-read-vs-schema-on-write-1024x767.jpg 1024w, https://www.somkiat.cc/wp-content/uploads/2021/02/schema-on-read-vs-schema-on-write-300x225.jpg 300w, https://www.somkiat.cc/wp-content/uploads/2021/02/schema-on-read-vs-schema-on-write-768x575.jpg 768w, https://www.somkiat.cc/wp-content/uploads/2021/02/schema-on-read-vs-schema-on-write.jpg 1400w\" sizes=\"(max-width: 1024px) 100vw, 1024px\"></figure><p>ปกติ Elasticsaearch ข้อมูลต่าง ๆ ที่จัดเก็บในแต่ละ index<br>จะสามารถค้นหาได้ก็ต่อเมื่อ ทำการบันทึกลงใน disk แล้วเท่านั้น<br>หรือเรียกว่า Schema on write<br>โดย schema หรือโครงสร้างข้อมูลจะต้องถูกวางแผนก่อนเสมอ<br>ว่าจะมีโครงสร้างอย่างไร<br>ว่าแต่ละ field จะมีชนิดอะไร</p><p>แน่นอนว่าต้องใช้เวลาที่สูงขึ้นในการออกแบบและวางแผน<br>เพื่อทำให้ Elasticsearch มี performance ที่ดี<br>การทำงานที่รวดเร็ว และ ถูกต้อง</p><p><strong>ดังนั้นทาง <a href=\"https://www.elastic.co/blog/whats-new-elastic-7-11-0-searchable-snapshots-schema-on-read\" target=\"_blank\" rel=\"noreferrer noopener\">Elasticsearch 7.1</a>1 จึงได้คิดแนวทางที่จะลดเวลาในการออกแบบและวางแผน</strong></p><p>สำหรับการสร้าง schema ลงไปได้ไหม<br>สำหรับการทดลองหรือการปรับเปลี่ยน schema ที่มีบ่อยครั้ง<br>จึงได้สร้างสิ่งที่เรียกว่า <strong>Schema on read</strong> ขึ้นมา<br>ด้วยสิ่งที่เรียกว่า <strong><a rel=\"noreferrer noopener\" href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.11/runtime.html\" target=\"_blank\">Runtime fields</a></strong> แต่ยังเป็น beta version อยู่นะ<br>พร้อมเปลี่ยนแปลงได้เสมอ<br>ดังนั้นลองไปใช้งานกันดู</p><p>โดยที่เราสามารถกำหนดได้ในระดับ field/property ได้เลยว่า<br>จะให้ทำงานแบบใดระหว่าง write หรือ read<br>น่าสนใจมาก ๆ</p><p><strong>Reference Websites</strong></p><p><a href=\"https://luminousmen.com/post/schema-on-read-vs-schema-on-write\">https://luminousmen.com/post/schema-on-read-vs-schema-on-write</a></p></div><div><p><img alt=\"\" src=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=90&amp;d=mm&amp;r=g\" srcset=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=180&amp;d=mm&amp;r=g 2x\" height=\"90\" width=\"90\"></p><h4>Article by <a href=\"https://www.facebook.com/somkiatspns\">Somkiat Puisungnoen</a></h4><p>To be Craftmanship</p></div></div></article></div></div>","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"22a8aaabc684894dcd3da1c8cc0abdf4f9af287a4dc65aabe1fb90ee7cc65dc2","category":"Thai"}