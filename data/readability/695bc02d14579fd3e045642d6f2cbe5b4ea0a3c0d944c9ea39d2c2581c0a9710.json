{"title":"ว่าด้วยเรื่อง Chain of Services ที่อาจะก่อให้เกิดปัญหา","link":"https://www.somkiat.cc/chain-of-services-patterns/","date":1620027828000,"content":"<div id=\"readability-page-1\" class=\"page\"><div id=\"page\"><article><div id=\"content_box\"><header></header><div><figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/05/good-bad-services.jpeg\" alt=\"\" width=\"562\" height=\"322\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/05/good-bad-services.jpeg 698w, https://www.somkiat.cc/wp-content/uploads/2021/05/good-bad-services-300x172.jpeg 300w\" sizes=\"(max-width: 562px) 100vw, 562px\"></figure><p>ในการออกแบบ service ของระบบงานนั้น<br>มีรูปแบบหนึ่งที่เจอบ่อยมาก ๆ คือเรามักจะแยกเป็น service ย่อย ๆ<br>โดยแต่ละ service ทำงานอย่างใดอย่างหนึ่งไปเลย (Single Responsibility)<br>เป็นสิ่งที่ดีมาก ๆ เพราะว่าแต่ละ service มีขอบเขตการทำงานชัดเจน<br>แต่เมื่อนำ service ต่าง ๆ มาทำงานร่วมกัน<br>จะเกิดรูปแบบต่าง ๆ มากมาย<br>หนึ่งในรูปแบบคือ <strong>Chain of Responsibility หรือ Chain of Services</strong></p><p>แสดงดังรูป</p><figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-03-at-14.40.57-1024x431.png\" alt=\"\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-03-at-14.40.57-1024x431.png 1024w, https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-03-at-14.40.57-300x126.png 300w, https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-03-at-14.40.57-768x323.png 768w, https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-03-at-14.40.57.png 1326w\" sizes=\"(max-width: 1024px) 100vw, 1024px\"></figure><p><strong>คำอธิบาย</strong></p><p>การทำงานจะเริ่มจาก Main API หรือ product หรือระบบงานหลักนั่นเอง<br>จากนั้นจะเรียกใช้งาน service 1<br>จากนั้น service 1 ก็ไปเรียกใช้งาน service อื่น ๆ ต่อไปเรื่อย ๆ<br>ในรูปแบบของ chain of service นั่นเอง<br></p><p><strong>ผลที่ตามมาคือ</strong></p><div><p>ความซับซ้อนซ่อนเงื่อนของการทำงานที่สูงขึ้น<br>จำนวน service ที่เรียกใช้งานกันเยอะมาก ๆ<br>ผลกระทบต่อการทำงานและเปลี่ยนแปลง<br>ที่ต้องพูดคุยและวางแผนมากขึ้น<br>ผลกระทบของ response time ที่มีแนวโน้มว่าสูงขึ้น<br>จุดของการพังมากขึ้น<br>พังตรงไหน หาเจอง่ายหรือไม่<br>หรือมีระบบแจ้งและระบุจุดเกิดปัญหาให้เลย<br>ยิ่งติดต่อสื่อสารกับแบบ synchronous ยิ่งอาจจะทำให้เกิดปัญหาได้อีกมาก<br>แต่ก็พอทุเลาได้ด้วย Circuit Breaker pattern</p><p>ดังนั้นต้องเลือกรูปแบบการติดต่อสื่อสารให้ดี<br>รวมทั้งลดจำนวนของ service หรือความลึกของ service ลงไปอีกด้วย<br>ถามว่าลึกเท่าไรดี บอกได้เลยแค่เกิน 2-3 ชั้น ก็บรรลัยแล้วนะ !!</p></div><p><strong><em>ใครเจอปัญหานี้อยู่บ้าง ?<br>คำถามต่อมาคือ ถ้าเจอปัญหาแบบนี้ แล้วจะแยกไปทำไม ?</em></strong></p></div><div><p><img alt=\"\" src=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=90&amp;d=mm&amp;r=g\" srcset=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=180&amp;d=mm&amp;r=g 2x\" height=\"90\" width=\"90\"></p><h4>Article by <a href=\"https://www.facebook.com/somkiatspns\">Somkiat Puisungnoen</a></h4><p>To be Craftmanship</p></div></div></article></div></div>","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"695bc02d14579fd3e045642d6f2cbe5b4ea0a3c0d944c9ea39d2c2581c0a9710","category":"Thai"}