{"title":"มาลองใช้ BDD ใน Flutter กัน","link":"https://www.somkiat.cc/bdd-in-flutter/","date":1624204525000,"content":"<div id=\"readability-page-1\" class=\"page\"><div id=\"page\"><article><div id=\"content_box\"><header><div><p><time>June 20, 2021</time> <span><a href=\"https://www.somkiat.cc/category/programming/\" rel=\"category tag\">Programming</a></span></p></div></header><div><figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/06/flutter-bdd.png\" alt=\"\" width=\"558\" height=\"350\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/06/flutter-bdd.png 900w, https://www.somkiat.cc/wp-content/uploads/2021/06/flutter-bdd-300x189.png 300w, https://www.somkiat.cc/wp-content/uploads/2021/06/flutter-bdd-768x483.png 768w\" sizes=\"(max-width: 558px) 100vw, 558px\"></figure><p>ในการพัฒนา Flutter App นั้น เรื่องของการทำงานร่วมกัน<br>ของคนในส่วนต่าง ๆ อย่างราบรื่น ทั้ง tech และ non-tech<br>หนึ่งในแนวทางคือ BDD (Behaviour Driven Development)<br>ด้วยการสร้างหรือกำหนดภาษาในการทำงานร่วมกัน<br>ทั้งส่วนของทีม business, product, development และ QA/Tester<br>รูปแบบที่เรามักจะเห็นบ่อย ๆ คือ <strong>Given-When-Then</strong></p><p><strong>ดังนั้นจึงไปดูว่ามี library อะไรให้ใช้ใน Flutter บ้าง ?</strong></p><p>ก็ไปเจอ library ชื่อว่า <strong><a rel=\"noreferrer noopener\" href=\"https://pub.dev/packages/ogurets\" target=\"_blank\">Ogurets</a></strong><br>ซึ่งสนับสนุน Null-safty แล้วอีกด้วย ตั้งแต่ version 4.0.0<br>ทำให้สามารถเขียน test ในรูปแบบของ <a rel=\"noreferrer noopener\" href=\"http://cukes.info/\" target=\"_blank\">Gherkin</a> ได้เลย</p><p><strong>โดยที่ library จะเตรียม annotation รูปแบบเดียวกับภาษา Java ไว้ดังนี้</strong></p><ul><li>@Given</li><li>@When</li><li>@Then</li><li>@And</li><li>@But</li><li>@Before และ @After สำหรับ Hook ใน test หรือ Test Life Cycle นั่นเอง</li></ul><p><strong>ในการพัฒนายังคงแยกเป็น 2 ไฟล์ เช่นเดิมคือ</strong></p><ul><li>Feature file</li><li>Step definition (Stepdef)</li></ul><p><strong>สิ่งที่สำคัญคือ การ run test ที่เขียนขึ้นมานั่นเอง</strong></p><div itemprop=\"text\" id=\"gist110209011\" translate=\"no\"><table data-tab-size=\"8\" data-paste-markdown-skip=\"\"><tbody><tr><td id=\"file-bdd_test-dart-L1\" data-line-number=\"1\"></td><td id=\"file-bdd_test-dart-LC1\"><span>import</span> <span>'package:ogurets/ogurets.dart'</span>;</td></tr><tr><td id=\"file-bdd_test-dart-L2\" data-line-number=\"2\"></td><td id=\"file-bdd_test-dart-LC2\"><span>Future</span> <span>main</span>() <span>async</span> {</td></tr><tr><td id=\"file-bdd_test-dart-L3\" data-line-number=\"3\"></td><td id=\"file-bdd_test-dart-LC3\"><span>final</span> def <span>=</span> <span>OguretsOpts</span>()</td></tr><tr><td id=\"file-bdd_test-dart-L4\" data-line-number=\"4\"></td><td id=\"file-bdd_test-dart-LC4\">..<span>feature</span>(<span>\"acceptance_test/features\"</span>)</td></tr><tr><td id=\"file-bdd_test-dart-L5\" data-line-number=\"5\"></td><td id=\"file-bdd_test-dart-LC5\">..<span>steps</span>(<span>\"acceptance_test/steps\"</span>)</td></tr><tr><td id=\"file-bdd_test-dart-L6\" data-line-number=\"6\"></td><td id=\"file-bdd_test-dart-LC6\">..<span>debug</span>()</td></tr><tr><td id=\"file-bdd_test-dart-L7\" data-line-number=\"7\"></td><td id=\"file-bdd_test-dart-LC7\">..<span>failOnMissingSteps</span>(<span>true</span>);</td></tr><tr><td id=\"file-bdd_test-dart-L8\" data-line-number=\"8\"></td><td id=\"file-bdd_test-dart-LC8\"><span>await</span> def.<span>run</span>();</td></tr><tr><td id=\"file-bdd_test-dart-L9\" data-line-number=\"9\"></td><td id=\"file-bdd_test-dart-LC9\">}</td></tr><tr><td id=\"file-bdd_test-dart-L10\" data-line-number=\"10\"></td><td id=\"file-bdd_test-dart-LC10\"></td></tr><tr><td id=\"file-bdd_test-dart-L11\" data-line-number=\"11\"></td><td id=\"file-bdd_test-dart-LC11\"><span>// ทำการ run test</span></td></tr><tr><td id=\"file-bdd_test-dart-L12\" data-line-number=\"12\"></td><td id=\"file-bdd_test-dart-LC12\"></td></tr><tr><td id=\"file-bdd_test-dart-L13\" data-line-number=\"13\"></td><td id=\"file-bdd_test-dart-LC13\">$dart —enable<span>-</span>asserts bdd_tests.dart</td></tr></tbody></table></div><p>เพียงเท่านี้ก็เขียนชุดการทดสอบแบบง่าย ๆ ได้แล้ว</p></div><div><p><img alt=\"\" src=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=90&amp;d=mm&amp;r=g\" srcset=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=180&amp;d=mm&amp;r=g 2x\" height=\"90\" width=\"90\"></p><h4>Article by <a href=\"https://www.facebook.com/somkiatspns\">Somkiat Puisungnoen</a></h4><p>To be Craftmanship</p></div></div></article></div></div>","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"3f9fc23f6dd0b6ff2b2a19033c10832100c0ca88717efcc678e190b6741526fc","category":"Thai"}