{"title":"Announcing HashiCorp Vault 1.7","link":"https://www.hashicorp.com/blog/vault-1-7","date":1616688000000,"content":"<div id=\"readability-page-1\" class=\"page\"><section><p>We are pleased to announce the general availability of HashiCorp Vault 1.7. Vault provides secrets management, data encryption, and identity management for any application on any infrastructure.</p><p>Vault 1.7 focuses on improving Vault’s core workflows and making key features production-ready to better serve your use cases. In this release, we added an Autopilot feature to Integrated Storage for a more operator-friendly experience, promoted Tokenization via Transform and the Key Management Secret Engine to general availability, made performance and reliability improvements, as well as many smaller improvements across the project.</p><p>This release includes the following key features and improvements:</p><ul><li><strong>Integrated Storage Autopilot</strong>: Added dead server cleanup, server stabilization for new nodes joining a cluster, and a health check API to our integrated storage backend.</li><li><strong>Tokenization (Enterprise; ADP Module)</strong>: Tokenization support is out of technical preview and is now production ready using the Transform Secret Engine. Tokenization creates irreversible “tokens” from sensitive data, thus protecting the original data.</li><li><strong>Key Management Secrets Engine (Enterprise)</strong>: The engine is now generally available with support for Azure Key Vault. Support for AWS KMS has been added (beta).</li><li><strong>Performance and reliability</strong>: We have improved how Vault resources are consumed during lease revocations, resulting in better performance. We have also added configurable headers to control the consistency of reads after writes to performance secondary clusters and performance standby nodes. We also added an option to configure the size of the logshipper buffer to control memory utilization when dealing with replication updates to secondary nodes.</li><li><strong>Database Secrets Engine (UI)</strong>: Added a UI to configure database secrets engines and dynamic database credential generations for MongoDB.</li></ul><p>This release also includes many additional new features, workflow enhancements, general improvements, and bug fixes. The Vault 1.7 <a href=\"https://github.com/hashicorp/vault/blob/master/CHANGELOG.md\">changelog</a> and <a href=\"https://www.vaultproject.io/docs/release-notes/1.7.0\">release notes</a> provide a list of all changes.</p><h2><a href=\"#integrated-storage-autopilot\" aria-label=\"integrated storage autopilot permalink\">»</a><a id=\"integrated-storage-autopilot\" aria-hidden=\"\"></a>Integrated Storage Autopilot</h2><p>We introduced Integrated Storage in Vault 1.2, which allows Vault admins to configure an internal storage option for storing Vault’s persistent data rather than using an external storage backend. With each subsequent Vault release, we have continued to improve the operational experience and we are pleased to announce a highly requested feature called Autopilot.</p><p>The Autopilot features allow for automatic, operator-friendly management of the Integrated Storage servers (similar to Consul’s Autopilot subsystem). The autopilot includes:</p><ul><li><strong>Monitoring</strong>: Perform cluster node health checks.</li><li><strong>Server stabilization</strong>: Prevent disruption to the raft quorum due to an unstable new node by watching the newly added node health and then deciding promotion to voter status.</li><li><strong>Dead server cleanup:</strong> Periodically check and automatically clean-up of failed servers.</li></ul><p>For more information on either of these Integrated Storage enhancements, please see our <a href=\"https://www.vaultproject.io/docs/concepts/integrated-storage\">documentation</a> and a detailed <a href=\"https://learn.hashicorp.com/tutorials/vault/raft-autopilot\">Learn Guide</a>.</p><h2><a href=\"#tokenization-using-transform-secrets-engine\" aria-label=\"tokenization using transform secrets engine permalink\">»</a><a id=\"tokenization-using-transform-secrets-engine\" aria-hidden=\"\"></a>Tokenization using Transform Secrets Engine</h2><p>The Transform secrets engine handles secure data transformations and tokenization against user-provided input value and is part of the Vault Enterprise Advanced Data Protection (ADP) module. Transform currently supports format-preserving encryption (FPE), data masking, and tokenization as data transformation types.</p><p>We are happy to announce Tokenization is out of technical preview and is now generally available for production workflows. Using the tokenization transformation you can create irreversible “tokens” from sensitive data often encountered in PCI-DSS use-cases, GDPR regulations, or when handling personally identifiable information (PII).</p><p>For more information on Transform Secret Engine, please see our <a href=\"https://www.vaultproject.io/docs/secrets/transform\">documentation</a> and a detailed <a href=\"https://learn.hashicorp.com/tutorials/vault/tokenization\">Learn Guide</a>.</p><h2><a href=\"#key-management-secrets-engine\" aria-label=\"key management secrets engine permalink\">»</a><a id=\"key-management-secrets-engine\" aria-hidden=\"\"></a>Key Management Secrets Engine</h2><p>Many cloud providers offer a Key Management Service (KMS), where encryption keys can be issued and stored, for maintaining a root of trust. The Key Management secrets engine provides a consistent workflow for distribution and lifecycle management of cryptographic keys in various key management service (KMS) providers. It allows organizations to manage the key lifecycle of keys Vault has distributed and maintain centralized control of those keys in Vault while still taking advantage of cryptographic capabilities native to the KMS providers.</p><p>We are happy to announce that the Key Management Secrets Engine is out of technical preview and is ready for production use for Azure Key Vault. We also added support for AWS KMS as a beta feature in this release. Using this feature you can use Vault to manage keys in Azure Key Vault, for automating many lifecycle operations, such as creation, reading, updating, and rotating keys. This greatly simplifies the process of bringing your own keys to a cloud provider and managing the lifecycle of those keys.</p><p>For more information on the Key Management Secrets Engine, please see our <a href=\"https://www.vaultproject.io/docs/secrets/key-management\">documentation</a> and a detailed <a href=\"https://learn.hashicorp.com/tutorials/vault/key-management-secrets\">Learn Guide</a>.</p><h2><a href=\"#other-features\" aria-label=\"other features permalink\">»</a><a id=\"other-features\" aria-hidden=\"\"></a>Other Features</h2><p>There are many new features in Vault 1.7 that have been developed over the course of the 1.6.x releases. For many of these features you can learn more using detailed hands-on learn guides through the <a href=\"https://learn.hashicorp.com/collections/vault/new-release\">HashiCorp Learn</a> site. We have summarized a few of the larger features below, and you can consult the changelog for full details:</p><ul><li><strong>Automatic Barrier Key Rotation</strong>: Added support for barrier key to be rotated automatically to reduce the risk of nonce reuse cryptanalysis. This is a precaution to ensure the number of encryptions performed by the barrier key is fewer than that recommended by <a href=\"https://csrc.nist.gov/publications/detail/sp/800-38d/final\">NIST SP800-38D</a>.</li><li><strong>Terraform Cloud &amp; Terraform Enterprise Secrets Engine</strong>: Vault can now <a href=\"https://www.vaultproject.io/docs/secrets/terraform\">dynamically generate API tokens</a> for Terraform Cloud and Terraform Enterprise.</li><li><strong>Snowflake Secrets Engine</strong>: Snowflake is now one of the <a href=\"https://www.vaultproject.io/docs/secrets/databases/snowflake\">supported plugins</a> for the database secrets engine. The plugin can generate database credentials dynamically based on configured roles for Snowflake hosted databases, and also supports Static Roles.</li><li><strong>Vault Enterprise Trial License</strong>: We have extended the Vault Enterprise evaluation license from 30 minutes to 6 hours to allow for more complete testing.</li><li><strong>OpenLDAP Secrets Engine</strong>: We have updated the <a href=\"https://www.vaultproject.io/docs/secrets/openldap\">OpenLDAP</a> engine to allow the creation of short-lived dynamic AD user accounts.</li><li><strong>Vault Agent</strong>: <a href=\"https://www.vaultproject.io/docs/agent\">Vault Agent</a> can now support a persistent cache in Kubernetes environments, streamlining the handoff of leases and tokens between an Init and Sidecar container.</li><li><strong>Vault Agent</strong>: We have updated Vault Agent so that it can now run as a Windows Service.</li><li><strong>Secrets Store CSI driver</strong>: Added support for secrets to be pre-populated into a pod’s volume via a daemonset. To learn more, please see the <a href=\"https://github.com/hashicorp/secrets-store-csi-driver-provider-vault\">documentation</a>.</li><li><strong>Username customization</strong>: Allow users to customize dynamically generated usernames</li><li><strong>AWS Secrets</strong>: Updated AWS Identity and <a href=\"https://www.vaultproject.io/api-docs/secret/aws\">Access Management (IAM)</a> tags can now be added to dynamic user credentials via a list of strings representing a key-value pair.</li><li><strong>Aerospike Storage Backend</strong>: Support for using <a href=\"https://www.vaultproject.io/docs/configuration/storage/aerospike\">Aerospike</a> as a community supported storage backend option.</li><li><strong>Okta One-Time Passcode (OTP)</strong>: Added ability for a one-time password to be passed in along with the <a href=\"https://www.vaultproject.io/docs/auth/okta\">Okta login command</a> for users who are unable to accept or respond to an Okta MFA push notification.</li></ul><h2><a href=\"#upgrade-details\" aria-label=\"upgrade details permalink\">»</a><a id=\"upgrade-details\" aria-hidden=\"\"></a>Upgrade Details</h2><p>Vault 1.7 introduces significant new functionality. As such, please review the <a href=\"https://www.vaultproject.io/docs/upgrading\">general upgrade instructions</a> page for details.</p><p>As always, we recommend upgrading and testing this release in an isolated environment. If you experience any issues, please report them on the Vault GitHub issue tracker or post to the <a href=\"https://discuss.hashicorp.com/c/vault/30\">Vault discussion forum</a>. As a reminder, if you believe you have found a security issue in Vault, please responsibly disclose by emailing <a href=\"mailto:security@hashicorp.com\">security@hashicorp.com</a> and do not use the public issue tracker. Our security policy and our PGP key can be found <a href=\"https://www.hashicorp.com/security\">here</a>.</p><p>For more information about Vault Enterprise, visit <a href=\"https://www.hashicorp.com/products/vault\">hashicorp.com/products/vault</a>. Users can download the open source version of Vault at <a href=\"http://vaultproject.io/\">vaultproject.io</a>.</p><p>We hope you enjoy Vault 1.7.</p></section></div>","author":"Justin Weissig","siteTitle":"HashiCorp Blog","siteHash":"219aa6310b3388f2335eba49871f4df9581f2c58eaeb5e498363b54e835b7001","entryHash":"e5b2f97f82c950b63c5e70d7a4264a8665d8c2dc19d6a0905e5bf5db5548dd33","category":"Tech"}