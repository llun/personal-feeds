{"title":"A Russian ISP confirms Roskomnadzor’s Twitter-blocking blooper","link":"https://arstechnica.com/?p=1748765","date":1615479753000,"content":"<div id=\"readability-page-1\" class=\"page\"><div><h4>the t.co fias.co —</h4><h2 itemprop=\"description\">Our source demonstrated heavy throttling of microsoft.com, not just t.co.</h2></div><div itemprop=\"articleBody\"><div><ul><li data-thumb=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/roskomnadzor-speed-test-to-gulag-dot-link-e1615478144279-150x150.png\" data-src=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/roskomnadzor-speed-test-to-gulag-dot-link-e1615478144279.png\" data-responsive=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/roskomnadzor-speed-test-to-gulag-dot-link-980x417.png 1080, https://cdn.arstechnica.net/wp-content/uploads/2021/03/roskomnadzor-speed-test-to-gulag-dot-link-e1615478144279.png 2560\" data-sub-html=\"#caption-1748775\"><figure><figcaption id=\"caption-1748775\"><span></span><p>This is https://speed.gulag.link/, a speedtest application that demonstrates Roskomnadzor throttling to Russian users it impacts.</p><p><span></span> Jim Salter</p></figcaption></figure></li><li data-thumb=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/translated-speedtest-150x150.jpg\" data-src=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/translated-speedtest.jpg\" data-responsive=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/translated-speedtest-980x740.jpg 1080, https://cdn.arstechnica.net/wp-content/uploads/2021/03/translated-speedtest.jpg 2560\" data-sub-html=\"#caption-1748772\"><figure><figcaption id=\"caption-1748772\"><span></span><p>This is the Google-translated version of the gulag.link screenshot to the left.</p><p><span></span> Jim Salter</p></figcaption></figure></li></ul></div><p>Last night, a confidential source at a Russian ISP contacted Ars with confirmation of the titanic mistake Roskomnadzor—Russia's Federal Service for Supervision of Communications, Information Technology, and Mass Media—made when attempting to punitively throttle Twitter's link-shortening service <code>t.co</code>.</p><p>Our source tells us that Roskomnadzor distributes&nbsp;to all Russian ISPs a hardware package that must be connected just behind that ISP's BGP core router. At their small ISP, Roskomnadzor's package includes an <a href=\"https://teleser.ru/products/ecofilter4080\">EcoFilter 4080</a> deep package inspection system, a pair of Russian-made 10Gbps aggregation switches, and two Huawei servers. According to our source, this hardware is \"massive overkill\" for its necessary function and their experienced traffic level—possibly because \"at some point in time, government planned to capture all the traffic there is.\"</p><p>Currently, the Roskomnadzor package does basic filtration for the list of banned resources—and, as of this week, has begun on-the-fly modifications of DNS requests as well. The DNS mangling also caused problems when first enabled—according to our source, YouTube DNS requests were broken for most of a day. Roskomnadzor eventually plans to require all Russian ISPs to replace the real root DNS servers with <a href=\"https://en.wikipedia.org/wiki/Alternative_DNS_root#Russian_National_Domain_Name_System\">its own</a>, but that project has met with resistance and difficulties.</p><div><ul><li data-thumb=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/russia-north-of-rozkombox-150x150.png\" data-src=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/russia-north-of-rozkombox.png\" data-responsive=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/russia-north-of-rozkombox-980x157.png 1080, https://cdn.arstechnica.net/wp-content/uploads/2021/03/russia-north-of-rozkombox.png 2560\" data-sub-html=\"#caption-1748774\"><figure><figcaption id=\"caption-1748774\"><span></span><p>From the core BGP router at this Russian ISP—north of Roskomnadzor's system—this Microsoft resource downloads in 276 ms.</p><p><span></span> Jim Salter</p></figcaption></figure></li><li data-thumb=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/russia-south-of-roskomnadbox-150x150.png\" data-src=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/russia-south-of-roskomnadbox.png\" data-responsive=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/russia-south-of-roskomnadbox-980x210.png 1080, https://cdn.arstechnica.net/wp-content/uploads/2021/03/russia-south-of-roskomnadbox.png 2560\" data-sub-html=\"#caption-1748773\"><figure><figcaption id=\"caption-1748773\"><span></span><p>From behind Roskomnadzor's filtering apparatus, the same Microsoft download takes well over ten minutes to complete!</p><p><span></span> Jim Salter</p></figcaption></figure></li></ul></div><p>The throttling Roskomnadzor applied yesterday could better be described as a <a href=\"https://en.wikipedia.org/wiki/Tarpit_(networking)\">tarpit</a>—as seen in screenshots above, it caused downloads from all affected domains to crawl along at only a few kilobytes per second. This renders affected domains effectively unusable, but it could also be considered an attack against the servers on those domains. Maintaining TCP/IP connections consumes memory and CPU resources on connected servers, which are often in shorter supply than raw bandwidth, and it seems likely that Roskomnadzor hoped for a negative impact on Twitter itself, as well as its own citizens.</p><p>As reported yesterday and confirmed by our source above, however, the tarpit attack did not only affect Twitter's <code>t.co</code>&nbsp;domain as intended—it affected all&nbsp;domains that&nbsp;<em>included</em> the substring <code>t.co</code>, for example <a href=\"http://microsoft.com/\" rel=\"nofollow\">microsoft.com</a> and Russian state-operated news site <a href=\"http://rt.com/\">rt.com</a>. As you can see in the screenshots, a sample document that normally downloaded from Microsoft in a quarter of a second required well over ten&nbsp;minutes to download from behind the Roskomnadzor filtering apparatus.</p><p>According to our source, the mistaken block string was finally corrected with proper match limiting at around 4 am Eastern time today—Twitter's <code>t.co</code> is still affected as intended, but Microsoft, Russia Today, and other \"collateral damage\" sites can once again be browsed at full speed.</p><p><em>Listing image by <a href=\"https://en.wikipedia.org/wiki/Federal_Service_for_Supervision_of_Communications,_Information_Technology_and_Mass_Media\">Roskomnadzor</a></em></p></div></div>","author":"Jim Salter","siteTitle":"Ars Technica","siteHash":"5b0ddf6e8923e49262a7894cfd77962733e43fbcc565a103b48373820b310636","entryHash":"18906401ccfa13c8f4f3f3e9608dd29084fecdc2089035bb05e21c6a70665b48","category":"Tech"}