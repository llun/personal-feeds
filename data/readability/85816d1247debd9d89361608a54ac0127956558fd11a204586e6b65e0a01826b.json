{"title":"Firefox 87 is out today, adds Smart Block for improved private browsing","link":"https://arstechnica.com/?p=1751519","date":1616514143000,"content":"<div id=\"readability-page-1\" class=\"page\"><div><h4>privacyfox —</h4><h2 itemprop=\"description\">An improved referrer policy also trims URLs from embedded images and scripts.</h2></div><div itemprop=\"articleBody\"><figure><img src=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/alaska-fish-and-wildlife-fox-800x600.jpg\" alt=\"You aren't trying to leak any data to third-party sites, are you? No? OK then. Carry on, friend.\"><figcaption><p><a href=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/alaska-fish-and-wildlife-fox.jpg\" data-height=\"1536\" data-width=\"2048\">Enlarge</a> <span>/</span> You aren't trying to leak any data to third-party sites, are you? No? OK then. Carry on, friend.</p></figcaption></figure><p>Mozilla released <a href=\"https://www.mozilla.org/en-US/firefox/87.0/releasenotes/\">Firefox 87.0</a> this morning, the latest version of its open source web browser. Following on the heels of December's <a href=\"https://arstechnica.com/gadgets/2020/12/firefox-v85-will-improve-its-cache-partitioning-for-stronger-privacy/\">Firefox 85</a> and February's <a href=\"https://arstechnica.com/gadgets/2021/02/firefox-86-brings-multiple-picture-in-picture-total-cookie-protection/\">Firefox 86</a>, the new version's most important features—Smart Block and improved referrer trimming—are privacy related.</p><h2>Smart Block</h2><figure><a href=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/firefox-smart-block.gif\" data-height=\"663\" data-width=\"1570\" alt=\"Smart Block (right) provides fake tracking scripts in place of third-party trackers, improving page rendering. (Animated, click to play.)\"><img alt=\"Smart Block (right) provides fake tracking scripts in place of third-party trackers, improving page rendering. (Animated, click to play.)\" src=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/firefox-smart-block-640x270.gif\" width=\"640\" height=\"270\" srcset=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/firefox-smart-block-1280x541.gif 2x\"></a><figcaption><p><a href=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/firefox-smart-block.gif\" data-height=\"663\" data-width=\"1570\">Enlarge</a> <span>/</span> Smart Block (right) provides fake tracking scripts in place of third-party trackers, improving page rendering. (Animated, click to play.)</p></figcaption></figure><p>Firefox has been blocking third-party tracking scripts by default for quite a while now. For the most part, this works pretty seamlessly—but in some cases, missing tracking scripts can interfere with a page's rendering, either delaying it (as seen in the animated image above, on the left) or permanently breaking it.</p><p><a href=\"https://disconnect.me/trackerprotection\">Smart Block</a>&nbsp;takes an additional step to improve the rendering on pages that embed third-party trackers—instead of just pulling the script and leaving a \"hole\" where it used to be, Smart Block replaces it with what Mozilla describes as \"stand-in\" scripts. These stand-in scripts function just enough like the original trackers to restore the intended page-rendering sequence and results without actually leaking data to third parties.</p><p>Mozilla sources much of its data on what is—or is not—a \"common tracking script\" which needs a Smart Block stand-in from the <a href=\"https://disconnect.me/trackerprotection\">Disconnect</a>&nbsp;tracking protection list.</p><h2>Improved referrer trimming</h2><figure><a href=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/referrer-2048x911.jpeg\" data-height=\"911\" data-width=\"2048\" alt=\"Referrer trimming strips everything but the embedding domain from cross-origin web requests.\"><img alt=\"Referrer trimming strips everything but the embedding domain from cross-origin web requests.\" src=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/referrer-2048x911-640x285.jpeg\" width=\"640\" height=\"285\" srcset=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/referrer-2048x911-1280x569.jpeg 2x\"></a><figcaption><p><a href=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/referrer-2048x911.jpeg\" data-height=\"911\" data-width=\"2048\">Enlarge</a> <span>/</span> Referrer trimming strips everything but the embedding domain from cross-origin web requests.</p></figcaption></figure><p>When you embed an image from some other website in your own website, information about your site's viewers leaks to the other website's operators. To illustrate this, let's imagine that the operators of <code>greatsearch.tld</code>, a fictitious search engine, include an image of a sheep from <code>sheep-pictures.tld</code>&nbsp;on every results page.</p><p>The HTML code for the embedded image is simple:</p><p><code>src=https://sheep-pictures.tld/sheep1.jpg&gt;</code></p><p>When users of <code>greatsearch.tld</code>&nbsp;use that site, their browsers see that tag and automatically download <code>https://sheep-pictures.tld/sheep1.jpg</code>&nbsp;while rendering the page.</p><figure><a href=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/gettyimages-498178753.jpg\" data-height=\"1414\" data-width=\"2121\" alt=\"Why does greatsearch.tld include a free lamb with every search result? Don't ask us.\"><img alt=\"Why does greatsearch.tld include a free lamb with every search result? Don't ask us.\" src=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/gettyimages-498178753-640x427.jpg\" width=\"640\" height=\"427\" srcset=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/gettyimages-498178753-1280x853.jpg 2x\"></a><figcaption><p><a href=\"https://cdn.arstechnica.net/wp-content/uploads/2021/03/gettyimages-498178753.jpg\" data-height=\"1414\" data-width=\"2121\">Enlarge</a> <span>/</span> Why does greatsearch.tld include a free lamb with every search result? Don't ask us.</p></figcaption></figure><p>Traditionally, the entire URL of the referring page is included in that web request... which means information leakage to the operators of <code>sheep-pictures.tld</code>, who would see something like this in their logs:</p><pre>240.163.255.110 - - [15/Mar/2021:10:28:57 -0400] \"GET /sheep1.jpg\n                    HTTP/1.1\" 200 11676 \"http://greatsearch.tld/res\n                    ults?really-embarrassing-medical-condition\"</pre><p>Now that we understand the referrer field itself, it's pretty clear what \"referrer trimming\" means—and why Mozilla is getting more aggressive about it. If the user above were using Firefox 87 when making the same search, the operators of <code>sheep-pictures.tld</code>&nbsp;would instead see the following log entry:</p><pre>240.163.255.110 - - [15/Mar/2021:10:28:57 -0400] \"GET /sheep1.jpg\n                    HTTP/1.1\" 200 11676 \"http://greatsearch.tld/\"</pre><h2>Additional fixes and features</h2><p>Firefox 87.0 also offers improvements in the Highlight All feature of Find in Page, full support for macOS'&nbsp;built-in screen reader <a href=\"https://blog.mozilla.org/accessibility/voiceover-support-for-macos-in-firefox-87/\">VoiceOver</a>, and several minor UI enhancements, security fixes, and general tweaks. For the full list, head on over to Mozilla's own Firefox 87.0 <a href=\"https://www.mozilla.org/en-US/firefox/87.0/releasenotes/\">release notes</a>.</p></div></div>","author":"Jim Salter","siteTitle":"Ars Technica","siteHash":"5b0ddf6e8923e49262a7894cfd77962733e43fbcc565a103b48373820b310636","entryHash":"85816d1247debd9d89361608a54ac0127956558fd11a204586e6b65e0a01826b","category":"Tech"}