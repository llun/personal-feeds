{"title":"สวัสดี OpenSearch Beta 1","link":"https://www.somkiat.cc/opensearch-beta-1/","date":1622387239000,"content":"<div id=\"readability-page-1\" class=\"page\"><div id=\"page\"><article><div id=\"content_box\"><header></header><div><figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/05/opensearch-1024x593.png\" alt=\"\" width=\"544\" height=\"314\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/05/opensearch-1024x593.png 1024w, https://www.somkiat.cc/wp-content/uploads/2021/05/opensearch-300x174.png 300w, https://www.somkiat.cc/wp-content/uploads/2021/05/opensearch-768x445.png 768w, https://www.somkiat.cc/wp-content/uploads/2021/05/opensearch.png 1460w\" sizes=\"(max-width: 544px) 100vw, 544px\"></figure><p>จากการประกาศของ AWS ในเรื่องของ <a rel=\"noreferrer noopener\" href=\"https://aws.amazon.com/blogs/opensource/introducing-opensearch/\" target=\"_blank\">OpenSearch project</a> ก่อนหน้านี้<br>ตอนนี้ <strong><a rel=\"noreferrer noopener\" href=\"https://www.opensearch.org/downloads.html\" target=\"_blank\">OpenSearch Beta 1</a></strong> ปล่อยออกมาให้ลองใช้งานแล้ว<br>โดยจะเป็น open source ที่อยู่บนพื้นฐานของ</p><ul><li>Elasticsearch 7.10.2 จะเรียกว่า <strong>OpenSearch</strong></li><li>Kibana 7.10.2 จะเรียกว่า <strong>OpenSearch Dashboard</strong></li></ul><p><strong>ลอง start ด้วย Docker compose ตามนี้</strong></p><div itemprop=\"text\" id=\"gist109794472\"><table data-tab-size=\"8\" data-paste-markdown-skip=\"\"><tbody><tr><td id=\"file-docker-compose-yml-L1\" data-line-number=\"1\"></td><td id=\"file-docker-compose-yml-LC1\"><span>version</span>: <span><span>'</span>3<span>'</span></span></td></tr><tr><td id=\"file-docker-compose-yml-L2\" data-line-number=\"2\"></td><td id=\"file-docker-compose-yml-LC2\"><span>services</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L3\" data-line-number=\"3\"></td><td id=\"file-docker-compose-yml-LC3\"><span>opensearch-node1</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L4\" data-line-number=\"4\"></td><td id=\"file-docker-compose-yml-LC4\"><span>image</span>: <span>opensearchproject/opensearch:latest</span></td></tr><tr><td id=\"file-docker-compose-yml-L5\" data-line-number=\"5\"></td><td id=\"file-docker-compose-yml-LC5\"><span>container_name</span>: <span>opensearch-node1</span></td></tr><tr><td id=\"file-docker-compose-yml-L6\" data-line-number=\"6\"></td><td id=\"file-docker-compose-yml-LC6\"><span>environment</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L7\" data-line-number=\"7\"></td><td id=\"file-docker-compose-yml-LC7\">- <span>cluster.name=opensearch-cluster</span></td></tr><tr><td id=\"file-docker-compose-yml-L8\" data-line-number=\"8\"></td><td id=\"file-docker-compose-yml-LC8\">- <span>node.name=opensearch-node1</span></td></tr><tr><td id=\"file-docker-compose-yml-L9\" data-line-number=\"9\"></td><td id=\"file-docker-compose-yml-LC9\">- <span>discovery.seed_hosts=opensearch-node1,opensearch-node2</span></td></tr><tr><td id=\"file-docker-compose-yml-L10\" data-line-number=\"10\"></td><td id=\"file-docker-compose-yml-LC10\">- <span>cluster.initial_master_nodes=opensearch-node1,opensearch-node2</span></td></tr><tr><td id=\"file-docker-compose-yml-L11\" data-line-number=\"11\"></td><td id=\"file-docker-compose-yml-LC11\">- <span>bootstrap.memory_lock=true </span><span><span>#</span> along with the memlock settings below, disables swapping</span></td></tr><tr><td id=\"file-docker-compose-yml-L12\" data-line-number=\"12\"></td><td id=\"file-docker-compose-yml-LC12\">- <span><span>\"</span>OPENSEARCH_JAVA_OPTS=-Xms512m -Xmx512m<span>\"</span></span> <span><span>#</span> minimum and maximum Java heap size, recommend setting both to 50% of system RAM</span></td></tr><tr><td id=\"file-docker-compose-yml-L13\" data-line-number=\"13\"></td><td id=\"file-docker-compose-yml-LC13\"><span>ulimits</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L14\" data-line-number=\"14\"></td><td id=\"file-docker-compose-yml-LC14\"><span>memlock</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L15\" data-line-number=\"15\"></td><td id=\"file-docker-compose-yml-LC15\"><span>soft</span>: <span>-1</span></td></tr><tr><td id=\"file-docker-compose-yml-L16\" data-line-number=\"16\"></td><td id=\"file-docker-compose-yml-LC16\"><span>hard</span>: <span>-1</span></td></tr><tr><td id=\"file-docker-compose-yml-L17\" data-line-number=\"17\"></td><td id=\"file-docker-compose-yml-LC17\"><span>nofile</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L18\" data-line-number=\"18\"></td><td id=\"file-docker-compose-yml-LC18\"><span>soft</span>: <span>65536</span> <span><span>#</span> maximum number of open files for the OpenSearch user, set to at least 65536 on modern systems</span></td></tr><tr><td id=\"file-docker-compose-yml-L19\" data-line-number=\"19\"></td><td id=\"file-docker-compose-yml-LC19\"><span>hard</span>: <span>65536</span></td></tr><tr><td id=\"file-docker-compose-yml-L20\" data-line-number=\"20\"></td><td id=\"file-docker-compose-yml-LC20\"><span>volumes</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L21\" data-line-number=\"21\"></td><td id=\"file-docker-compose-yml-LC21\">- <span>opensearch-data1:/usr/share/opensearch/data</span></td></tr><tr><td id=\"file-docker-compose-yml-L22\" data-line-number=\"22\"></td><td id=\"file-docker-compose-yml-LC22\"><span>ports</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L23\" data-line-number=\"23\"></td><td id=\"file-docker-compose-yml-LC23\">- <span>9200:9200</span></td></tr><tr><td id=\"file-docker-compose-yml-L24\" data-line-number=\"24\"></td><td id=\"file-docker-compose-yml-LC24\">- <span>9600:9600</span> <span><span>#</span> required for Performance Analyzer</span></td></tr><tr><td id=\"file-docker-compose-yml-L25\" data-line-number=\"25\"></td><td id=\"file-docker-compose-yml-LC25\"><span>networks</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L26\" data-line-number=\"26\"></td><td id=\"file-docker-compose-yml-LC26\">- <span>opensearch-net</span></td></tr><tr><td id=\"file-docker-compose-yml-L27\" data-line-number=\"27\"></td><td id=\"file-docker-compose-yml-LC27\"><span>opensearch-node2</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L28\" data-line-number=\"28\"></td><td id=\"file-docker-compose-yml-LC28\"><span>image</span>: <span>opensearchproject/opensearch:latest</span></td></tr><tr><td id=\"file-docker-compose-yml-L29\" data-line-number=\"29\"></td><td id=\"file-docker-compose-yml-LC29\"><span>container_name</span>: <span>opensearch-node2</span></td></tr><tr><td id=\"file-docker-compose-yml-L30\" data-line-number=\"30\"></td><td id=\"file-docker-compose-yml-LC30\"><span>environment</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L31\" data-line-number=\"31\"></td><td id=\"file-docker-compose-yml-LC31\">- <span>cluster.name=opensearch-cluster</span></td></tr><tr><td id=\"file-docker-compose-yml-L32\" data-line-number=\"32\"></td><td id=\"file-docker-compose-yml-LC32\">- <span>node.name=opensearch-node2</span></td></tr><tr><td id=\"file-docker-compose-yml-L33\" data-line-number=\"33\"></td><td id=\"file-docker-compose-yml-LC33\">- <span>discovery.seed_hosts=opensearch-node1,opensearch-node2</span></td></tr><tr><td id=\"file-docker-compose-yml-L34\" data-line-number=\"34\"></td><td id=\"file-docker-compose-yml-LC34\">- <span>cluster.initial_master_nodes=opensearch-node1,opensearch-node2</span></td></tr><tr><td id=\"file-docker-compose-yml-L35\" data-line-number=\"35\"></td><td id=\"file-docker-compose-yml-LC35\">- <span>bootstrap.memory_lock=true</span></td></tr><tr><td id=\"file-docker-compose-yml-L36\" data-line-number=\"36\"></td><td id=\"file-docker-compose-yml-LC36\">- <span><span>\"</span>OPENSEARCH_JAVA_OPTS=-Xms512m -Xmx512m<span>\"</span></span></td></tr><tr><td id=\"file-docker-compose-yml-L37\" data-line-number=\"37\"></td><td id=\"file-docker-compose-yml-LC37\"><span>ulimits</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L38\" data-line-number=\"38\"></td><td id=\"file-docker-compose-yml-LC38\"><span>memlock</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L39\" data-line-number=\"39\"></td><td id=\"file-docker-compose-yml-LC39\"><span>soft</span>: <span>-1</span></td></tr><tr><td id=\"file-docker-compose-yml-L40\" data-line-number=\"40\"></td><td id=\"file-docker-compose-yml-LC40\"><span>hard</span>: <span>-1</span></td></tr><tr><td id=\"file-docker-compose-yml-L41\" data-line-number=\"41\"></td><td id=\"file-docker-compose-yml-LC41\"><span>nofile</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L42\" data-line-number=\"42\"></td><td id=\"file-docker-compose-yml-LC42\"><span>soft</span>: <span>65536</span></td></tr><tr><td id=\"file-docker-compose-yml-L43\" data-line-number=\"43\"></td><td id=\"file-docker-compose-yml-LC43\"><span>hard</span>: <span>65536</span></td></tr><tr><td id=\"file-docker-compose-yml-L44\" data-line-number=\"44\"></td><td id=\"file-docker-compose-yml-LC44\"><span>volumes</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L45\" data-line-number=\"45\"></td><td id=\"file-docker-compose-yml-LC45\">- <span>opensearch-data2:/usr/share/opensearch/data</span></td></tr><tr><td id=\"file-docker-compose-yml-L46\" data-line-number=\"46\"></td><td id=\"file-docker-compose-yml-LC46\"><span>networks</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L47\" data-line-number=\"47\"></td><td id=\"file-docker-compose-yml-LC47\">- <span>opensearch-net</span></td></tr><tr><td id=\"file-docker-compose-yml-L48\" data-line-number=\"48\"></td><td id=\"file-docker-compose-yml-LC48\"><span>opensearch-dashboards</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L49\" data-line-number=\"49\"></td><td id=\"file-docker-compose-yml-LC49\"><span>image</span>: <span>opensearchproject/opensearch-dashboards:latest</span></td></tr><tr><td id=\"file-docker-compose-yml-L50\" data-line-number=\"50\"></td><td id=\"file-docker-compose-yml-LC50\"><span>container_name</span>: <span>opensearch-dashboards</span></td></tr><tr><td id=\"file-docker-compose-yml-L51\" data-line-number=\"51\"></td><td id=\"file-docker-compose-yml-LC51\"><span>ports</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L52\" data-line-number=\"52\"></td><td id=\"file-docker-compose-yml-LC52\">- <span>5601:5601</span></td></tr><tr><td id=\"file-docker-compose-yml-L53\" data-line-number=\"53\"></td><td id=\"file-docker-compose-yml-LC53\"><span>expose</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L54\" data-line-number=\"54\"></td><td id=\"file-docker-compose-yml-LC54\">- <span><span>\"</span>5601<span>\"</span></span></td></tr><tr><td id=\"file-docker-compose-yml-L55\" data-line-number=\"55\"></td><td id=\"file-docker-compose-yml-LC55\"><span>environment</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L56\" data-line-number=\"56\"></td><td id=\"file-docker-compose-yml-LC56\"><span>OPENSEARCH_HOSTS</span>: <span>https://opensearch-node1:9200</span></td></tr><tr><td id=\"file-docker-compose-yml-L57\" data-line-number=\"57\"></td><td id=\"file-docker-compose-yml-LC57\"><span>networks</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L58\" data-line-number=\"58\"></td><td id=\"file-docker-compose-yml-LC58\">- <span>opensearch-net</span></td></tr><tr><td id=\"file-docker-compose-yml-L59\" data-line-number=\"59\"></td><td id=\"file-docker-compose-yml-LC59\"></td></tr><tr><td id=\"file-docker-compose-yml-L60\" data-line-number=\"60\"></td><td id=\"file-docker-compose-yml-LC60\"><span>volumes</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L61\" data-line-number=\"61\"></td><td id=\"file-docker-compose-yml-LC61\"><span>opensearch-data1</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L62\" data-line-number=\"62\"></td><td id=\"file-docker-compose-yml-LC62\"><span>opensearch-data2</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L63\" data-line-number=\"63\"></td><td id=\"file-docker-compose-yml-LC63\"></td></tr><tr><td id=\"file-docker-compose-yml-L64\" data-line-number=\"64\"></td><td id=\"file-docker-compose-yml-LC64\"><span>networks</span>:</td></tr><tr><td id=\"file-docker-compose-yml-L65\" data-line-number=\"65\"></td><td id=\"file-docker-compose-yml-LC65\"><span>opensearch-net</span>:</td></tr></tbody></table></div><p><strong>ลองเข้าใช้งานที่ OpenSearch Dashboard</strong></p><p>ไม่ต่างจาก Kibana เท่าไร</p><figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-30-at-21.53.16-1024x699.png\" alt=\"\" width=\"556\" height=\"379\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-30-at-21.53.16-1024x699.png 1024w, https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-30-at-21.53.16-300x205.png 300w, https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-30-at-21.53.16-768x524.png 768w, https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-30-at-21.53.16-1536x1048.png 1536w, https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-30-at-21.53.16-2048x1398.png 2048w\" sizes=\"(max-width: 556px) 100vw, 556px\"></figure><p><strong>ลองใช้ DevTool นิดหน่อย</strong></p><figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-30-at-22.09.55-1024x312.png\" alt=\"\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-30-at-22.09.55-1024x312.png 1024w, https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-30-at-22.09.55-300x91.png 300w, https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-30-at-22.09.55-768x234.png 768w, https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-30-at-22.09.55-1536x468.png 1536w, https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-30-at-22.09.55-2048x624.png 2048w\" sizes=\"(max-width: 1024px) 100vw, 1024px\"></figure><p>อ่าน<strong><a rel=\"noreferrer noopener\" href=\"https://docs-beta.opensearch.org/\" target=\"_blank\">เอกสารเพิ่มเติมได้ที่นี่</a></strong></p></div><div><p><img alt=\"\" src=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=90&amp;d=mm&amp;r=g\" srcset=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=180&amp;d=mm&amp;r=g 2x\" height=\"90\" width=\"90\"></p><h4>Article by <a href=\"https://www.facebook.com/somkiatspns\">Somkiat Puisungnoen</a></h4><p>To be Craftmanship</p></div></div></article></div></div>","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"66d56e2eddb69043f54ea3dada8aeb4833dbbdb16cf941aca61af2aa832fa7e7","category":"Thai"}