{"title":"Dart :: มาพัฒนาส่วนของ backend กันหน่อย ๆ","link":"https://www.somkiat.cc/dart-backend-full-stack/","date":1615267860000,"content":"<div id=\"readability-page-1\" class=\"page\"><div id=\"page\"><article><div id=\"content_box\"><header><div><p><time>March 9, 2021</time> <span><a href=\"https://www.somkiat.cc/category/programming/\" rel=\"category tag\">Programming</a></span></p></div></header><div><figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/03/dart-logo-for-shares-1024x575.png\" alt=\"\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/03/dart-logo-for-shares-1024x575.png 1024w, https://www.somkiat.cc/wp-content/uploads/2021/03/dart-logo-for-shares-300x168.png 300w, https://www.somkiat.cc/wp-content/uploads/2021/03/dart-logo-for-shares-768x431.png 768w, https://www.somkiat.cc/wp-content/uploads/2021/03/dart-logo-for-shares-1536x862.png 1536w, https://www.somkiat.cc/wp-content/uploads/2021/03/dart-logo-for-shares-2048x1150.png 2048w\" sizes=\"(max-width: 1024px) 100vw, 1024px\"></figure><p>ไหน ๆ ฝั่ง Frontend ก็พัฒนาด้วย Flutter ด้วย Dart แล้ว<br>ดังนั้นเพื่อความเป็น full stack ด้วยภาษา Dart<br>ก็พัฒนาฝั่ง Backend ด้วยภาษา Dart กันต่อเลย<br>จะได้จบทั้งกระบวนการด้วยภาษา Dart เพียงตัวเดียว<br>มาเริ่มกันเลย</p><p><strong>ปกติ Backend อาจจะใช้ระบบต่าง ๆ ที่มีให้แล้ว</strong></p><p>ไม่ว่าจะเป็น BaSS(Backend as a Service) เช่น</p><ul><li>Firebase</li><li>Parse</li><li>Backendless</li><li>AWS Amplify</li></ul><p><strong>แต่เราก็สามารถพัฒนา Backend เองได้ด้วยภาษา Dart</strong></p><p>โดยที่เตรียม package <a href=\"https://dart.dev/tutorials/server/httpserver\" target=\"_blank\" rel=\"noreferrer noopener\">httpserver</a> มาไว้ให้<br>หรือไปดูเพิ่มเติมใน <a href=\"https://dart.dev/web/libraries\" target=\"_blank\" rel=\"noreferrer noopener\">Web library and package</a> ได้เลยตัวอย่าง</p><p>ตัวอย่างการใช้งานแบบง่าย ๆ</p><div itemprop=\"text\" id=\"gist108343646\"><table data-tab-size=\"8\" data-paste-markdown-skip=\"\"><tbody><tr><td id=\"file-server-dart-L1\" data-line-number=\"1\"></td><td id=\"file-server-dart-LC1\"><span>import</span> <span>'dart:io'</span>;</td></tr><tr><td id=\"file-server-dart-L2\" data-line-number=\"2\"></td><td id=\"file-server-dart-LC2\"></td></tr><tr><td id=\"file-server-dart-L3\" data-line-number=\"3\"></td><td id=\"file-server-dart-LC3\"><span>Future</span> <span>main</span>() <span>async</span> {</td></tr><tr><td id=\"file-server-dart-L4\" data-line-number=\"4\"></td><td id=\"file-server-dart-LC4\"><span>// #docregion bind</span></td></tr><tr><td id=\"file-server-dart-L5\" data-line-number=\"5\"></td><td id=\"file-server-dart-LC5\"><span>var</span> server <span>=</span> <span>await</span> <span>HttpServer</span>.<span>bind</span>(</td></tr><tr><td id=\"file-server-dart-L6\" data-line-number=\"6\"></td><td id=\"file-server-dart-LC6\"><span>InternetAddress</span>.loopbackIPv4,</td></tr><tr><td id=\"file-server-dart-L7\" data-line-number=\"7\"></td><td id=\"file-server-dart-LC7\"><span>3000</span>,</td></tr><tr><td id=\"file-server-dart-L8\" data-line-number=\"8\"></td><td id=\"file-server-dart-LC8\">);</td></tr><tr><td id=\"file-server-dart-L9\" data-line-number=\"9\"></td><td id=\"file-server-dart-LC9\"><span>// #enddocregion bind</span></td></tr><tr><td id=\"file-server-dart-L10\" data-line-number=\"10\"></td><td id=\"file-server-dart-LC10\"><span>print</span>(<span>'Listening on localhost:${<span>server.port</span>}'</span>);</td></tr><tr><td id=\"file-server-dart-L11\" data-line-number=\"11\"></td><td id=\"file-server-dart-LC11\"></td></tr><tr><td id=\"file-server-dart-L12\" data-line-number=\"12\"></td><td id=\"file-server-dart-LC12\"><span>// #docregion listen</span></td></tr><tr><td id=\"file-server-dart-L13\" data-line-number=\"13\"></td><td id=\"file-server-dart-LC13\"><span>await</span> <span>for</span> (<span>HttpRequest</span> request <span>in</span> server) {</td></tr><tr><td id=\"file-server-dart-L14\" data-line-number=\"14\"></td><td id=\"file-server-dart-LC14\">request.response.<span>write</span>(<span>'Hello, world!'</span>);</td></tr><tr><td id=\"file-server-dart-L15\" data-line-number=\"15\"></td><td id=\"file-server-dart-LC15\"><span>await</span> request.response.<span>close</span>();</td></tr><tr><td id=\"file-server-dart-L16\" data-line-number=\"16\"></td><td id=\"file-server-dart-LC16\">}</td></tr><tr><td id=\"file-server-dart-L17\" data-line-number=\"17\"></td><td id=\"file-server-dart-LC17\"><span>// #enddocregion listen</span></td></tr><tr><td id=\"file-server-dart-L18\" data-line-number=\"18\"></td><td id=\"file-server-dart-LC18\">}</td></tr></tbody></table></div><p><strong>ลองทำการยิง load test ก็ใช้ได้เลยนะ</strong></p><div itemprop=\"text\" id=\"gist108343646\"><table data-tab-size=\"8\" data-paste-markdown-skip=\"\"><tbody><tr><td id=\"file-1-txt-L1\" data-line-number=\"1\"></td><td id=\"file-1-txt-LC1\">$wrk -c 100 -c 5 -d 10s http://localhost:3000</td></tr><tr><td id=\"file-1-txt-L2\" data-line-number=\"2\"></td><td id=\"file-1-txt-LC2\"></td></tr><tr><td id=\"file-1-txt-L3\" data-line-number=\"3\"></td><td id=\"file-1-txt-LC3\">Running 10s test @ http://localhost:3000</td></tr><tr><td id=\"file-1-txt-L4\" data-line-number=\"4\"></td><td id=\"file-1-txt-LC4\">2 threads and 5 connections</td></tr><tr><td id=\"file-1-txt-L5\" data-line-number=\"5\"></td><td id=\"file-1-txt-LC5\">d Thread Stats Avg Stdev Max +/- Stdev</td></tr><tr><td id=\"file-1-txt-L6\" data-line-number=\"6\"></td><td id=\"file-1-txt-LC6\">Latency 192.15us 131.44us 5.65ms 94.17%</td></tr><tr><td id=\"file-1-txt-L7\" data-line-number=\"7\"></td><td id=\"file-1-txt-LC7\">Req/Sec 10.80k 2.05k 12.06k 91.09%</td></tr><tr><td id=\"file-1-txt-L8\" data-line-number=\"8\"></td><td id=\"file-1-txt-LC8\">217101 requests in 10.10s, 42.65MB read</td></tr><tr><td id=\"file-1-txt-L9\" data-line-number=\"9\"></td><td id=\"file-1-txt-LC9\">Requests/sec: 21496.14</td></tr><tr><td id=\"file-1-txt-L10\" data-line-number=\"10\"></td><td id=\"file-1-txt-LC10\">Transfer/sec: 4.22MB</td></tr></tbody></table></div><p><strong>แต่ถ้าต้องการให้พัฒนาได้ง่ายขึ้น สามารถใช้งานพวก framework หรือ library อื่น ๆ ได้</strong></p><p>สามารถดูเพิ่มเติมได้ที่ <a href=\"https://github.com/yissachar/awesome-dart\" target=\"_blank\" rel=\"noreferrer noopener\">Dart Awesome</a><br>ยกตัวอย่างเช่น</p><ul><li>Angel</li><li>Jaguar</li><li>Aqueduct</li><li>Start</li></ul><p>ดูไม่ค่อย active มากเท่าไรนัก<br>แต่ก็เป็นอีกแนวทางในการพัฒนาระบบงานทั้ง stack ด้วยภาษา Dart ได้เลย</p></div><div><p><img alt=\"\" src=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=90&amp;d=mm&amp;r=g\" srcset=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=180&amp;d=mm&amp;r=g 2x\" height=\"90\" width=\"90\"></p><h4>Article by <a href=\"https://www.facebook.com/somkiatspns\">Somkiat Puisungnoen</a></h4><p>To be Craftmanship</p></div></div></article></div></div>","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"a25daa7d003f94f18cc8de07941b352bd1f0680cce4f1d513efbc5ead6184143","category":"Thai"}