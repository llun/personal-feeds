{"title":"Go 1.17 ทำการ run test แบบไม่เรียงลำดับ","link":"https://www.somkiat.cc/go-1-17-shuffle-test/","date":1622276565000,"content":"<div id=\"readability-page-1\" class=\"page\"><div id=\"page\"><article><div id=\"content_box\"><header></header><div><figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-29-at-15.13.52-1024x635.png\" alt=\"\" width=\"566\" height=\"350\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-29-at-15.13.52-1024x635.png 1024w, https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-29-at-15.13.52-300x186.png 300w, https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-29-at-15.13.52-768x476.png 768w, https://www.somkiat.cc/wp-content/uploads/2021/05/Screen-Shot-2564-05-29-at-15.13.52.png 1500w\" sizes=\"(max-width: 566px) 100vw, 566px\"></figure><p>เพิ่งเห็นว่าใน Go 1.17 ที่กำลังจะปล่อยออกมานั้น<br>เพิ่มความสามารถในการทดสอบ คือ<br>ทำการ run test แบบไม่เรียงลำดับ test case เข้ามา<br>ช่วยให้เรามั่นใจว่า แต่ละ test case ทำงานเป็นอิสระต่อกัน<br>เนื่องจากถ้าแต่ละ test case ต้องทำงานตามลำดับ<br>อาจจะส่งผลให้การทดสอบมีปัญหาขึ้นมาได้เยอะ<br>เป็นอีกความสามารถที่มีประโยชน์มาก ๆ</p><p>โดยความสามารถนี้ถูกเปิดมา<strong><a href=\"https://github.com/golang/go/issues/10655\">ตั้งแต่ปี 2005 แล้ว</a></strong></p><p><strong>การทำงานเป็นดังนี้</strong></p><div itemprop=\"text\" id=\"gist109778897\"><table data-tab-size=\"8\" data-paste-markdown-skip=\"\"><tbody><tr><td id=\"file-1-txt-L1\" data-line-number=\"1\"></td><td id=\"file-1-txt-LC1\">$go version</td></tr><tr><td id=\"file-1-txt-L2\" data-line-number=\"2\"></td><td id=\"file-1-txt-LC2\">go version devel go1.17-79bda65041 Sat May 29 01:59:17 2021 +0000 darwin/amd64</td></tr><tr><td id=\"file-1-txt-L3\" data-line-number=\"3\"></td><td id=\"file-1-txt-LC3\"></td></tr><tr><td id=\"file-1-txt-L4\" data-line-number=\"4\"></td><td id=\"file-1-txt-LC4\"># Run test แบบปกติ</td></tr><tr><td id=\"file-1-txt-L5\" data-line-number=\"5\"></td><td id=\"file-1-txt-LC5\"></td></tr><tr><td id=\"file-1-txt-L6\" data-line-number=\"6\"></td><td id=\"file-1-txt-LC6\">$go test ./... -v</td></tr><tr><td id=\"file-1-txt-L7\" data-line-number=\"7\"></td><td id=\"file-1-txt-LC7\">=== RUN TestCase01</td></tr><tr><td id=\"file-1-txt-L8\" data-line-number=\"8\"></td><td id=\"file-1-txt-LC8\">--- PASS: TestCase01 (0.00s)</td></tr><tr><td id=\"file-1-txt-L9\" data-line-number=\"9\"></td><td id=\"file-1-txt-LC9\">=== RUN TestCase02</td></tr><tr><td id=\"file-1-txt-L10\" data-line-number=\"10\"></td><td id=\"file-1-txt-LC10\">--- PASS: TestCase02 (0.00s)</td></tr><tr><td id=\"file-1-txt-L11\" data-line-number=\"11\"></td><td id=\"file-1-txt-LC11\">=== RUN TestCase03</td></tr><tr><td id=\"file-1-txt-L12\" data-line-number=\"12\"></td><td id=\"file-1-txt-LC12\">--- PASS: TestCase03 (0.00s)</td></tr><tr><td id=\"file-1-txt-L13\" data-line-number=\"13\"></td><td id=\"file-1-txt-LC13\">=== RUN TestCase04</td></tr><tr><td id=\"file-1-txt-L14\" data-line-number=\"14\"></td><td id=\"file-1-txt-LC14\">--- PASS: TestCase04 (0.00s)</td></tr><tr><td id=\"file-1-txt-L15\" data-line-number=\"15\"></td><td id=\"file-1-txt-LC15\">=== RUN TestCase05</td></tr><tr><td id=\"file-1-txt-L16\" data-line-number=\"16\"></td><td id=\"file-1-txt-LC16\">--- PASS: TestCase05 (0.00s)</td></tr><tr><td id=\"file-1-txt-L17\" data-line-number=\"17\"></td><td id=\"file-1-txt-LC17\">PASS</td></tr><tr><td id=\"file-1-txt-L18\" data-line-number=\"18\"></td><td id=\"file-1-txt-LC18\"></td></tr><tr><td id=\"file-1-txt-L19\" data-line-number=\"19\"></td><td id=\"file-1-txt-LC19\"># Run test แบบไม่เรียงลำดับ test case</td></tr><tr><td id=\"file-1-txt-L20\" data-line-number=\"20\"></td><td id=\"file-1-txt-LC20\"></td></tr><tr><td id=\"file-1-txt-L21\" data-line-number=\"21\"></td><td id=\"file-1-txt-LC21\">$go test ./... -shuffle=on -v</td></tr><tr><td id=\"file-1-txt-L22\" data-line-number=\"22\"></td><td id=\"file-1-txt-LC22\">-test.shuffle 1622276347055892000</td></tr><tr><td id=\"file-1-txt-L23\" data-line-number=\"23\"></td><td id=\"file-1-txt-LC23\">=== RUN TestCase03</td></tr><tr><td id=\"file-1-txt-L24\" data-line-number=\"24\"></td><td id=\"file-1-txt-LC24\">--- PASS: TestCase03 (0.00s)</td></tr><tr><td id=\"file-1-txt-L25\" data-line-number=\"25\"></td><td id=\"file-1-txt-LC25\">=== RUN TestCase02</td></tr><tr><td id=\"file-1-txt-L26\" data-line-number=\"26\"></td><td id=\"file-1-txt-LC26\">--- PASS: TestCase02 (0.00s)</td></tr><tr><td id=\"file-1-txt-L27\" data-line-number=\"27\"></td><td id=\"file-1-txt-LC27\">=== RUN TestCase05</td></tr><tr><td id=\"file-1-txt-L28\" data-line-number=\"28\"></td><td id=\"file-1-txt-LC28\">--- PASS: TestCase05 (0.00s)</td></tr><tr><td id=\"file-1-txt-L29\" data-line-number=\"29\"></td><td id=\"file-1-txt-LC29\">=== RUN TestCase01</td></tr><tr><td id=\"file-1-txt-L30\" data-line-number=\"30\"></td><td id=\"file-1-txt-LC30\">--- PASS: TestCase01 (0.00s)</td></tr><tr><td id=\"file-1-txt-L31\" data-line-number=\"31\"></td><td id=\"file-1-txt-LC31\">=== RUN TestCase04</td></tr><tr><td id=\"file-1-txt-L32\" data-line-number=\"32\"></td><td id=\"file-1-txt-LC32\">--- PASS: TestCase04 (0.00s)</td></tr><tr><td id=\"file-1-txt-L33\" data-line-number=\"33\"></td><td id=\"file-1-txt-LC33\">PASS</td></tr></tbody></table></div></div><div><p><img alt=\"\" src=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=90&amp;d=mm&amp;r=g\" srcset=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=180&amp;d=mm&amp;r=g 2x\" height=\"90\" width=\"90\"></p><h4>Article by <a href=\"https://www.facebook.com/somkiatspns\">Somkiat Puisungnoen</a></h4><p>To be Craftmanship</p></div></div></article></div></div>","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"c5c6c0179de013411f13f0b2b27973c827261b702c6f0d1e3c9ab1556e4f8655","category":"Thai"}