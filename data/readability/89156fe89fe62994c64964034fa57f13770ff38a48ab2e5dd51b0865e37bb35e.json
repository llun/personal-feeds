{"title":"[PostgreSQL] How to verify if replication catch up with master change","link":"http://visibletrap.blogspot.com/2016/09/postgresql-how-to-verify-if-replication.html","date":1472724840001,"content":"<div id=\"readability-page-1\" class=\"page\"><div id=\"post-body-7877430215890170589\" itemprop=\"description articleBody\"><p>[Run on master] Check master location with</p><blockquote>SELECT pg_current_xlog_location();</blockquote><p>&nbsp;[Run on replica] Check replica replayed location with</p><blockquote>SELECT pg_last_xlog_replay_location();</blockquote><p>[Run on master] Check replica status from master</p><blockquote>SELECT client_addr, state, sent_location, write_location, flush_location, replay_location FROM pg_stat_replication;</blockquote><p>*write, flush, replay are status of replica</p><p>[Run on replica] Check time from the latest reply</p><blockquote>SELECT now() - pg_last_xact_replay_timestamp() AS replication_delay;</blockquote><p><span>Credit:</span></p><ul><li><span>Bullet 12th of <a href=\"https://wiki.postgresql.org/wiki/Streaming_Replication\">https://wiki.postgresql.org/wiki/Streaming_Replication</a></span></li><li><span><a href=\"https://www.niwi.nz/2013/02/16/replication-status-in-postgresql/\">https://www.niwi.nz/2013/02/16/replication-status-in-postgresql/</a></span></li></ul></div></div>","author":"Tap","siteTitle":"tAp's blog","siteHash":"ec0b5758aa5280680c8b6839677ce27021dd9d4295725ce4f0e9f298aad77c91","entryHash":"89156fe89fe62994c64964034fa57f13770ff38a48ab2e5dd51b0865e37bb35e","category":"Tech"}