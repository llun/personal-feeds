{"title":"IMO 2020: จัดกลุ่มก้อนกรวด","link":"https://neizod.github.io/2020/09/27/imo-2020-arrange-pebbles.html","date":1601188413000,"content":"<div id=\"readability-page-1\" class=\"page\"><div><p>ปรกติไม่ได้ตามการแข่งขันโอลิมปิกวิชาการลึกถึงขั้นหยิบโจทย์มาวิเคราะห์ กระทั่งวันก่อน <a href=\"https://twitter.com/vacharapat\">@vacharapat</a> เอาโจทย์โอลิมปิกคณิตศาสตร์ปีนี้มา<del>หลอกถาม</del>ให้ดูเล่น ตอนแรกกะจะไม่ทำเพราะโจทย์พวกนี้มักจะยากเกินกำลังที่จะคิดออก แต่ไม่รู้ทำไมยิ่งพยายามลืมเท่าไหร่โจทย์มันก็ยิ่งวนเวียนหลอกหลอนในหัวจนนอนไม่หลับ สุดท้ายเลยกลั้นใจลุกขึ้นมาลุยกับมันดูซักตั้ง</p><blockquote><p><strong>Problem 3.</strong> There are <span id=\"MathJax-Element-1-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-1\"><span><span><span id=\"MathJax-Span-2\"><span id=\"MathJax-Span-3\">4</span><span id=\"MathJax-Span-4\">n</span></span><span></span></span></span><span></span></span></nobr></span> pebbles of weights <span id=\"MathJax-Element-2-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-5\"><span><span><span id=\"MathJax-Span-6\"><span id=\"MathJax-Span-7\">1</span><span id=\"MathJax-Span-8\">,</span><span id=\"MathJax-Span-9\">2</span><span id=\"MathJax-Span-10\">,</span><span id=\"MathJax-Span-11\">3</span><span id=\"MathJax-Span-12\">,</span><span id=\"MathJax-Span-13\">…</span><span id=\"MathJax-Span-14\">,</span><span id=\"MathJax-Span-15\">4</span><span id=\"MathJax-Span-16\">n</span></span><span></span></span></span><span></span></span></nobr></span>. Each pebble is coloured in one of <span id=\"MathJax-Element-3-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-17\"><span><span><span id=\"MathJax-Span-18\"><span id=\"MathJax-Span-19\">n</span></span><span></span></span></span><span></span></span></nobr></span> colours and there are four pebbles of each colour. Show that we can arrange the pebbles into two piles so that the following two conditions are both satisfied:</p><ul><li>The total weights of both piles are the same.</li><li>Each pile contains two pebbles of each colour.</li></ul><p>International Mathematical Olympiad, 2020</p></blockquote><p>โจทย์ขอแค่ให้แสดงซักวิธีที่เป็นไปได้ในการจัดกลุ่มก้อนกรวดให้เป็นไปตามเงื่อนไข ซึ่งเราแอบโกงนิดหน่อยด้วยการเขียนโปรแกรมทุ่นแรงเพื่อดูรูปแบบคำตอบ แม้คำตอบที่เป็นไปได้จะมีมากมายมหาศาล แต่หลังจากมองหารูปแบบไปซักพักก็พบว่ามีอยู่รูปแบบหนึ่งที่ง่ายและเป็นระเบียบสวยงามพอที่จะนำมาอธิบาย</p><p>เราเริ่มจากลองมองโจทย์ให้ง่ายลงโดยตัดเงื่อนไขให้เหลือเพียงข้อแรก ซึ่งก็คือแบ่งกรวดเป็น <span id=\"MathJax-Element-4-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-20\"><span><span><span id=\"MathJax-Span-21\"><span id=\"MathJax-Span-22\">2</span></span><span></span></span></span><span></span></span></nobr></span> กอง โดยที่แต่ละกองมีน้ำหนักรวมเท่ากัน สังเกตว่าเรายังสามารถแบ่งได้หลายแบบอยู่ดี แต่เราควรจะแบ่งยังไงให้เป็นระบบเหมาะสมกับโจทย์ข้อนี้หละ?</p><p>วิธีหนึ่งที่สวยงามน่าสนใจและเหมาะสม คือ เราจะจับคู่ก้อนกรวดให้เหลือ <span id=\"MathJax-Element-5-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-23\"><span><span><span id=\"MathJax-Span-24\"><span id=\"MathJax-Span-25\">2</span><span id=\"MathJax-Span-26\">n</span></span><span></span></span></span><span></span></span></nobr></span> คู่ก่อน โดยที่ทุกคู่มีน้ำหนักรวมเท่ากัน ซึ่งก็คือจับคู่กรวดน้ำหนัก <span id=\"MathJax-Element-6-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-27\"><span><span><span id=\"MathJax-Span-28\"><span id=\"MathJax-Span-29\">i</span></span><span></span></span></span><span></span></span></nobr></span> กับ <span id=\"MathJax-Element-7-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-30\"><span><span><span id=\"MathJax-Span-31\"><span id=\"MathJax-Span-32\">4</span><span id=\"MathJax-Span-33\">n</span><span id=\"MathJax-Span-34\">+</span><span id=\"MathJax-Span-35\">1</span><span id=\"MathJax-Span-36\">−</span><span id=\"MathJax-Span-37\">i</span></span><span></span></span></span><span></span></span></nobr></span> เข้าด้วยกัน ดังนั้นกรวดแต่ละคู่ก็จะมีน้ำหนัก <span id=\"MathJax-Element-8-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-38\"><span><span><span id=\"MathJax-Span-39\"><span id=\"MathJax-Span-40\">4</span><span id=\"MathJax-Span-41\">n</span><span id=\"MathJax-Span-42\">+</span><span id=\"MathJax-Span-43\">1</span></span><span></span></span></span><span></span></span></nobr></span> นั่นเอง<sup id=\"fnref:1\" role=\"doc-noteref\"><a href=\"#fn:1\">1</a></sup> เมื่อแต่ละคู่น้ำหนักเท่ากันแล้ว เราก็ไม่ต้องสนใจน้ำหนักอีก สนใจเพียงแค่หยิบกรวดออกมา <span id=\"MathJax-Element-9-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-44\"><span><span><span id=\"MathJax-Span-45\"><span id=\"MathJax-Span-46\">n</span></span><span></span></span></span><span></span></span></nobr></span> คู่เป็นกองที่หนึ่ง และให้กรวดที่เหลืออีก <span id=\"MathJax-Element-10-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-47\"><span><span><span id=\"MathJax-Span-48\"><span id=\"MathJax-Span-49\">n</span></span><span></span></span></span><span></span></span></nobr></span> คู่เป็นกองที่สอง ก็จะเห็นว่าทั้งสองกองมีน้ำหนักเท่ากันแล้ว</p><p>ต่อมาพิจารณาเพิ่มเงื่อนไขข้อที่สองเข้าไป โดยเราจะเริ่มจากจับคู่กรวด <span id=\"MathJax-Element-11-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-50\"><span><span><span id=\"MathJax-Span-51\"><span id=\"MathJax-Span-52\">2</span><span id=\"MathJax-Span-53\">n</span></span><span></span></span></span><span></span></span></nobr></span> คู่ตามวิธีข้างต้น สิ่งที่เพิ่มมาคือคราวนี้คือเราสนใจสีของกรวดแต่ละคู่ด้วย ให้กรวดก้อนที่น้ำหนัก <span id=\"MathJax-Element-12-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-54\"><span><span><span id=\"MathJax-Span-55\"><span id=\"MathJax-Span-56\">i</span></span><span></span></span></span><span></span></span></nobr></span> มีสีเป็น <span id=\"MathJax-Element-13-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-57\"><span><span><span id=\"MathJax-Span-58\"><span id=\"MathJax-Span-59\"><span><span><span id=\"MathJax-Span-60\">c</span><span></span></span><span><span id=\"MathJax-Span-61\">i</span><span></span></span></span></span></span><span></span></span></span><span></span></span></nobr></span> จะเห็นว่าหากเราเลือกหยิบกรวดคู่ที่น้ำหนัก <span id=\"MathJax-Element-14-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-62\"><span><span><span id=\"MathJax-Span-63\"><span id=\"MathJax-Span-64\">(</span><span id=\"MathJax-Span-65\">i</span><span id=\"MathJax-Span-66\">,</span><span id=\"MathJax-Span-67\">4</span><span id=\"MathJax-Span-68\">n</span><span id=\"MathJax-Span-69\">+</span><span id=\"MathJax-Span-70\">1</span><span id=\"MathJax-Span-71\">−</span><span id=\"MathJax-Span-72\">i</span><span id=\"MathJax-Span-73\">)</span></span><span></span></span></span><span></span></span></nobr></span> เราก็จะต้องหยิบกรวดสองสีคือ <span id=\"MathJax-Element-15-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-74\"><span><span><span id=\"MathJax-Span-75\"><span id=\"MathJax-Span-76\">(</span><span id=\"MathJax-Span-77\"><span><span><span id=\"MathJax-Span-78\">c</span><span></span></span><span><span id=\"MathJax-Span-79\">i</span><span></span></span></span></span><span id=\"MathJax-Span-80\">,</span><span id=\"MathJax-Span-81\"><span><span><span id=\"MathJax-Span-82\">c</span><span></span></span><span><span id=\"MathJax-Span-83\"><span id=\"MathJax-Span-84\"><span id=\"MathJax-Span-85\">4</span><span id=\"MathJax-Span-86\">n</span><span id=\"MathJax-Span-87\">+</span><span id=\"MathJax-Span-88\">1</span><span id=\"MathJax-Span-89\">−</span><span id=\"MathJax-Span-90\">i</span></span></span><span></span></span></span></span><span id=\"MathJax-Span-91\">)</span></span><span></span></span></span><span></span></span></nobr></span> มาพร้อมกัน</p><p>สร้าง<a href=\"https://en.wikipedia.org/wiki/Multigraph\">มัลติกราฟ</a>โดยให้แต่ละจุดยอดแทนสีทั้งหมด แล้วลากเส้นเชื่อมโดยเชื่อมจุดยอดทั้งสองสีจากก้อนกรวดแต่ละคู่ ถึงตอนนี้จะเห็นว่ากราฟมีจุดยอด <span id=\"MathJax-Element-16-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-92\"><span><span><span id=\"MathJax-Span-93\"><span id=\"MathJax-Span-94\">n</span></span><span></span></span></span><span></span></span></nobr></span> จุด มีเส้นเชื่อม <span id=\"MathJax-Element-17-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-95\"><span><span><span id=\"MathJax-Span-96\"><span id=\"MathJax-Span-97\">2</span><span id=\"MathJax-Span-98\">n</span></span><span></span></span></span><span></span></span></nobr></span> เส้น และแต่ละจุดยอดมีดีกรีเท่ากับ <span id=\"MathJax-Element-18-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-99\"><span><span><span id=\"MathJax-Span-100\"><span id=\"MathJax-Span-101\">4</span></span><span></span></span></span><span></span></span></nobr></span> พอดี</p><p>สมมติว่ากราฟที่ได้มีเพียง<a href=\"https://en.wikipedia.org/wiki/Component_(graph_theory)\">คอมโพเนนท์</a>เดียว (หากมีหลายคอมโพเนนท์ก็พิจารณาแบบ<a href=\"https://en.wikipedia.org/wiki/Mathematical_induction\">อุปนัย</a>ลงไป) เนื่องจากทุกจุดยอดมีดีกรีคู่ เราสามารถหา<a href=\"https://en.wikipedia.org/wiki/Eulerian_path\">วงจรออยเลอร์</a>ที่มีขนาด <span id=\"MathJax-Element-19-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-102\"><span><span><span id=\"MathJax-Span-103\"><span id=\"MathJax-Span-104\">2</span><span id=\"MathJax-Span-105\">n</span></span><span></span></span></span><span></span></span></nobr></span> ได้ หากเราหยิบเส้นเชื่อมตามทางเดินในวงจรสลับกัน ซึ่งก็คือ ให้เส้นเชื่อมในวงจรตำแหน่งคี่ไปอยู่กลุ่มที่หนึ่ง ในทำนองเดียวกันให้เส้นเชื่อมตำแหน่งคู่ไปอยู่กลุ่มที่สอง จะได้ว่าแต่ละกลุ่มจะมีเส้นเชื่อม <span id=\"MathJax-Element-20-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-106\"><span><span><span id=\"MathJax-Span-107\"><span id=\"MathJax-Span-108\">n</span></span><span></span></span></span><span></span></span></nobr></span> เส้นเท่ากัน เมื่อแปลงเส้นเชื่อมเหล่านั้นกลับเป็นคู่ของก้อนกรวด ก็จะได้ว่าน้ำหนักรวมของกรวดแต่ละกลุ่มมีค่าเท่ากันด้วย</p><p>และการหยิบเส้นเชื่อมสลับกันไปแบบนี้ ก็ยังรับประกันด้วยว่าจะแบ่งกลุ่มก้อนกรวดให้มีสีเท่ากันด้วย เพราะเมื่อพิจารณาที่จุดยอดสีใดๆ เนื่องจากจุดยอดมีดีกรีเป็น <span id=\"MathJax-Element-21-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-109\"><span><span><span id=\"MathJax-Span-110\"><span id=\"MathJax-Span-111\">4</span></span><span></span></span></span><span></span></span></nobr></span> เมื่อเดินตามวงจรออยเลอร์ที่คำนวณไว้ จะมีการวิ่งเข้าและวิ่งออกอย่างละ <span id=\"MathJax-Element-22-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-112\"><span><span><span id=\"MathJax-Span-113\"><span id=\"MathJax-Span-114\">2</span></span><span></span></span></span><span></span></span></nobr></span> ครั้ง ซึ่งการวิ่งเข้าและวิ่งออกแต่ละครั้งจะจัดกลุ่มเส้นเชื่อมเป็นกลุ่มที่แตกต่างกันเสมอ ดังนั้นแต่ละจุดยอดจะจัดแบ่งเส้นเชื่อมออกไปเป็นสองกลุ่มเท่ากันพอดี</p><blockquote><p><img src=\"https://neizod.dev/images/math/arrange-pebbles.png\" alt=\"\"></p><p>ตัวอย่างเมื่อ <span id=\"MathJax-Element-23-Frame\" tabindex=\"0\"><nobr><span id=\"MathJax-Span-115\"><span><span><span id=\"MathJax-Span-116\"><span id=\"MathJax-Span-117\">n</span><span id=\"MathJax-Span-118\">=</span><span id=\"MathJax-Span-119\">6</span></span><span></span></span></span><span></span></span></nobr></span> เริ่มจากจับคู่ก้อนกรวด แปลงเป็นกราฟเพื่อหาวงจรออยเลอร์ แล้วหยิบเส้นเชื่อมสลับกันเป็นคำตอบ</p></blockquote><p>โอ้ว เป็นโจทย์ที่สนุกอะไรอย่างนี้! เริ่มมาเป็นปัญหา<a href=\"https://en.wikipedia.org/wiki/Combinatorics\">เชิงการจัด</a> ไปยืมเทคนิคจากทฤษฎีจำนวน แล้วแปลงไปจบที่ทฤษฎีกราฟซะได้ แก้เสร็จแล้วยูเรก้ามากๆ 🎉🎉🎉 ขอบคุณพี่ท็อปผู้เปิดโลกคำถามสนุกๆ และเพื่อนร่วมแลปที่มาช่วยขัดเกลาคำตอบให้สมบูรณ์ ณ ที่นี้ด้วย</p><div><div><p><img src=\"https://neizod.dev/images/people/neizod.png\" width=\"72\" height=\"72\"></p></div><div><p><img src=\"https://neizod.dev/images/people/nonthaphat.png\" width=\"72\" height=\"72\"></p><div><p>Nonthaphat Wongwattanakij</p><p><em>coauthor</em></p></div></div></div></div></div>","author":"","siteTitle":"neizod's speculation","siteHash":"939338c5557b1743f2c128736c6006e145dcabc81da9970f1c0dc8ae2feb0830","entryHash":"005cf6ce462f0bbc9930d72a340d287673d59517be16fb8f5565b417a5f6dbf3","category":"Thai"}