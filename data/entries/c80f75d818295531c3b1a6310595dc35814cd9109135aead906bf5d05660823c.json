{"title":"Hacker Cup 2020: ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡πà‡∏≤‡πÉ‡∏ô‡∏ö‡πà‡∏≠‡∏ô‡πâ‡∏≥","link":"https://neizod.github.io/2021/01/04/hacker-cup-2020-pond-precipitation.html","date":1609771084000,"content":"<p>‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏à‡∏≤‡∏Å‡∏£‡∏≠‡∏ö‡∏ä‡∏¥‡∏á‡∏Ç‡∏ô‡∏∞‡πÄ‡∏•‡∏¥‡∏®‡∏Ç‡∏≠‡∏á Facebook Hacker Cup ‡∏õ‡∏µ 2020 ‡∏ó‡∏µ‡πà‡πÅ‡∏°‡πâ‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏¢‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡πÅ‡∏ï‡πà‡∏Å‡πá‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à‡πÉ‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏∞‡∏î‡∏±‡∏ö (‡πÅ‡∏•‡∏∞‡∏´‡∏≤‡∏Å‡πÑ‡∏•‡πà‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ó‡∏≤‡∏á‡∏Å‡πá‡∏à‡∏∞‡∏Ñ‡∏¥‡∏î‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏¥‡∏î) ‡πÑ‡∏î‡πâ‡πÅ‡∏Å‡πà<a href=\"//www.facebook.com/codingcompetitions/hacker-cup/2020/final-round/problems/C\">‡∏Ç‡πâ‡∏≠ Pond Precipitation</a> ‡∏ó‡∏µ‡πà‡πÇ‡∏à‡∏ó‡∏¢‡πå‡πÉ‡∏´‡πâ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡πà‡∏≠‡∏ô‡πâ‡∏≥‡πÅ‡∏´‡πà‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡πà‡∏≤‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡∏≠‡∏¢‡∏π‡πà ‡πÅ‡∏•‡πâ‡∏ß‡∏ñ‡∏≤‡∏°‡∏´‡∏≤<a href=\"//en.wikipedia.org/wiki/Expected_value\">‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á</a>‡∏ß‡πà‡∏≤‡∏ù‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏µ‡πà‡∏´‡∏¢‡∏î‡∏à‡∏∂‡∏á‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡πà‡∏≤‡∏à‡∏°‡∏ô‡πâ‡∏≥ ‡πÇ‡∏î‡∏¢‡∏Ñ‡∏≥‡∏ô‡∏∂‡∏á‡∏ß‡πà‡∏≤‡∏ù‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏´‡∏¢‡∏î‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏ï‡∏Å‡∏•‡∏á‡∏¢‡∏±‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏ô‡∏ö‡πà‡∏≠‡∏ô‡πâ‡∏≥‡πÄ‡∏ó‡πà‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô</p>\n\n<p>‡∏ô‡∏±‡πà‡∏ô‡∏Å‡πá‡∏Ñ‡∏∑‡∏≠ ‡∏´‡∏≤‡∏Å‡πÉ‡∏´‡πâ $X$ ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏∏‡πà‡∏°‡πÅ‡∏ó‡∏ô‡∏ô‡πâ‡∏≥‡∏ù‡∏ô‡∏´‡∏¢‡∏î‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡πà‡∏≤‡∏à‡∏°‡∏ô‡πâ‡∏≥ ‡πÇ‡∏à‡∏ó‡∏¢‡πå‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏´‡∏≤</p>\n\n\\[E(X) = \\sum_{d \\in \\mathbb{N}} d \\cdot P(X=d)\\]\n\n<h2>‡πÅ‡∏õ‡∏•‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°</h2>\n\n<p>‡πÅ‡∏°‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏ö‡πà‡∏≠‡∏ô‡πâ‡∏≥) ‡∏à‡∏∞‡πÄ‡∏•‡πá‡∏Å‡πÄ‡∏û‡∏µ‡∏¢‡∏á $n=30$ ‡πÅ‡∏•‡∏∞‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏ù‡∏ô‡∏ï‡∏Å‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô $n^2$ ‡∏´‡∏¢‡∏î‡∏Å‡πá‡∏à‡∏∞‡∏ó‡πà‡∏ß‡∏°‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡πà‡∏≤ ‡πÅ‡∏ï‡πà‡∏´‡∏≤‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ<a href=\"//en.wikipedia.org/wiki/Algorithm\">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ß‡∏¥‡∏ò‡∏µ</a>‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏´‡∏¢‡∏î‡∏ô‡πâ‡∏≥‡∏ù‡∏ô<a href=\"//en.wikipedia.org/wiki/Brute-force_search\">‡∏ó‡∏∏‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö</a> ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ß‡∏¥‡∏ò‡∏µ‡∏û‡∏∏‡πà‡∏á‡∏™‡∏π‡∏á‡πÄ‡∏õ‡πá‡∏ô $O(n^{n^2})$ ‡∏ô‡∏±‡πà‡∏ô‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ó‡∏≤‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡∏ô‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏Å‡πá‡∏ï‡∏≤‡∏° ‡∏´‡∏≤‡∏Å‡πÉ‡∏Ñ‡∏£‡∏Ñ‡∏∏‡πâ‡∏ô‡πÄ‡∏Ñ‡∏¢‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏ô‡πâ‡∏ô‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ß‡∏¥‡∏ò‡∏µ ‡∏Å‡πá‡∏à‡∏∞‡πÄ‡∏î‡∏≤‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ß‡πà‡∏≤‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô $O(n^6)$ ‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ô‡∏∂‡∏Å‡∏ñ‡∏∂‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏ï‡∏£‡∏∞‡∏Å‡∏π‡∏•‡∏ô‡∏µ‡πâ ‡∏Å‡πá‡∏Ñ‡∏á‡∏´‡∏ô‡∏µ‡πÑ‡∏°‡πà‡∏û‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ<a href=\"//en.wikipedia.org/wiki/Dynamic_programming\">‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏•‡∏ß‡∏±‡∏ï</a>‡∏ô‡∏±‡πà‡∏ô‡πÄ‡∏≠‡∏á</p>\n\n<p>‡∏ñ‡∏∂‡∏á‡∏Å‡∏£‡∏∞‡∏ô‡∏±‡πâ‡∏ô ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏°‡∏≠‡∏á‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏î‡∏±‡∏á‡∏Å‡∏•‡πà‡∏≤‡∏ß‡πÉ‡∏´‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ñ‡∏π‡∏Å‡πÅ‡∏Å‡πâ‡πÇ‡∏î‡∏¢‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏•‡∏ß‡∏±‡∏ï‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏ô‡∏µ‡πâ ‡∏Ñ‡∏∑‡∏≠ ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÅ‡∏ö‡πà‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ä‡∏¥‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ç‡∏±‡πâ‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ä‡∏¥‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏•‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ä‡∏¥‡πâ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÉ‡∏î) ‡πÑ‡∏•‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡πÜ ‡πÇ‡∏î‡∏¢‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ä‡∏¥‡πâ‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ä‡∏¥‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡πÅ‡∏Å‡πâ‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏£‡∏≤‡∏Å‡πá‡∏à‡∏∞‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏•‡πá‡∏Å‡∏°‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏ô</p>\n\n<p>‡πÅ‡∏ï‡πà‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏Å‡∏é‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏î‡∏ô‡πâ‡∏≥‡∏ù‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏Å‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÑ‡∏´‡∏•‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏ó‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏Ç‡∏ß‡∏≤ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏°‡∏≠‡∏á‡πÄ‡∏ú‡∏¥‡∏ô‡πÜ ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏•‡∏ß‡∏±‡∏ï‡πÑ‡∏î‡πâ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏¢‡πà‡∏≠‡∏¢‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡πÄ‡∏´‡∏•‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡πÑ‡∏õ‡∏´‡∏°‡∏î‡∏à‡∏ô‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏•‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏≠‡∏∑‡πà‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÅ‡∏Å‡πâ</p>\n\n<p>‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏Å‡πá‡∏ï‡∏≤‡∏° ‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏õ‡∏•‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏ï‡πà‡∏≥‡∏Ç‡∏≠‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ô‡πÇ‡∏à‡∏ó‡∏¢‡πå ‡πÉ‡∏´‡πâ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡πà‡∏≠‡∏ô‡πâ‡∏≥‡∏¢‡πà‡∏≠‡∏¢‡πÜ ‡∏´‡∏•‡∏≤‡∏¢‡∏ö‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Å‡∏±‡∏ô ‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ö‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏ô‡∏¥‡∏¢‡∏≤‡∏°‡∏ú‡πà‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏∏‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ß‡∏≤‡∏á‡∏£‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Å‡∏é‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏ß‡πâ‡∏ß‡πà‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ö‡πà‡∏≠‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏à‡∏ô‡πÄ‡∏ï‡πá‡∏°‡πÅ‡∏•‡πâ‡∏ß ‡∏ô‡πâ‡∏≥‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏ô‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏à‡∏∞‡πÑ‡∏´‡∏•‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏ö‡πà‡∏≠‡∏ó‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÅ‡∏•‡∏∞‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡πà‡∏≤‡∏à‡∏°‡∏ô‡πâ‡∏≥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ô‡πâ‡∏≥‡∏•‡πâ‡∏ô‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ö‡πà‡∏≠‡∏ã‡πâ‡∏≤‡∏¢‡∏™‡∏∏‡∏î ‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á‡∏ô‡∏µ‡πâ‡∏Ñ‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏ù‡∏≤‡∏Å‡πÑ‡∏ß‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡πâ‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ô‡∏≠‡πà‡∏≤‡∏ô üòú</p>\n\n<blockquote>\n  <p><img src=\"/images/algorithm/misc/pond-precipitation.png\" /></p>\n\n  <p>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡πà‡∏≠‡∏ô‡πâ‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡πà‡∏≠‡∏ô‡πâ‡∏≥‡∏¢‡πà‡∏≠‡∏¢‡πÜ ‡∏ó‡∏µ‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ô‡πâ‡∏≥‡∏•‡πâ‡∏ô‡∏à‡∏∞‡∏•‡πâ‡∏ô‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏ö‡πà‡∏≠‡∏ó‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</p>\n</blockquote>\n\n<p>‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô ‡∏à‡∏≤‡∏Å‡∏ö‡πà‡∏≠‡∏ô‡πâ‡∏≥‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á $n$ ‡∏´‡∏ô‡πà‡∏ß‡∏¢ ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÅ‡∏õ‡∏•‡∏á‡∏°‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡πà‡∏≠‡∏ô‡πâ‡∏≥‡∏¢‡πà‡∏≠‡∏¢‡πÜ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô $m \\le n$ ‡∏ö‡πà‡∏≠ ‡πÇ‡∏î‡∏¢‡∏ö‡πà‡∏≠‡∏ó‡∏µ‡πà $i$ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏∏‡∏ô‡πâ‡∏≥‡∏ù‡∏ô‡πÑ‡∏î‡πâ $c_i$ ‡∏´‡∏¢‡∏î ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á $w_i$ ‡∏´‡∏ô‡πà‡∏ß‡∏¢</p>\n\n<p>‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏ß‡πà‡∏≤ ‡∏ö‡πà‡∏≠‡∏ã‡πâ‡∏≤‡∏¢‡∏™‡∏∏‡∏î (‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏ö‡πà‡∏≠‡∏ó‡∏µ‡πà $1$) ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏∏‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡πá‡πÑ‡∏î‡πâ ‡∏´‡∏≤‡∏Å‡∏ó‡∏∏‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏Ç‡∏ß‡∏≤‡πÉ‡∏ô‡∏ö‡πà‡∏≠‡∏¢‡πà‡∏≠‡∏¢‡∏ô‡∏±‡πâ‡∏ô‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏≤‡∏Å‡∏ö‡πà‡∏≠‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢ ‡πÅ‡∏•‡∏∞‡∏ó‡∏µ‡πà‡∏ö‡πà‡∏≠‡∏Ç‡∏ß‡∏≤‡∏™‡∏∏‡∏î (‡∏ã‡∏∂‡πà‡∏á‡∏Å‡πá‡∏Ñ‡∏∑‡∏≠‡∏ö‡πà‡∏≠‡∏ó‡∏µ‡πà $m$) ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡∏≠‡∏ö‡∏ö‡πà‡∏≠‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤‡∏Å‡πá‡πÑ‡∏î‡πâ ‡πÇ‡∏î‡∏¢‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏Ç‡∏≠‡∏ö‡∏Ç‡∏ß‡∏≤‡∏Ç‡∏≠‡∏á‡∏ö‡πà‡∏≠‡∏ô‡∏µ‡πâ‡∏™‡∏π‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö‡∏Ç‡∏≠‡∏ö‡∏ã‡πâ‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢</p>\n\n<h2>‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏•‡∏ß‡∏±‡∏ï‡∏ï‡∏£‡∏á‡πÑ‡∏õ‡∏ï‡∏£‡∏á‡∏°‡∏≤</h2>\n\n<p>‡πÉ‡∏à‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏•‡∏ß‡∏±‡∏ï‡∏°‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏™‡∏ô‡πÉ‡∏à‡∏ß‡πà‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ô‡πâ‡∏≥‡∏ù‡∏ô‡∏´‡∏¢‡∏î‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß $d$ ‡∏´‡∏¢‡∏î ‡∏à‡∏∞‡∏°‡∏µ‡∏Å‡∏µ‡πà‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡πâ‡∏≥‡∏ù‡∏ô‡∏•‡πâ‡∏ô‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏ó‡πà‡∏ß‡∏°‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡πà‡∏≤ ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ô‡∏≥‡πÑ‡∏õ‡∏´‡∏≤‡∏£‡∏Å‡∏±‡∏ö‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏ô‡πâ‡∏≥‡∏ù‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏Å‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏Å‡πá‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏Ñ‡πà‡∏≤ $P(X=d)$ ‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏ô‡∏±‡πà‡∏ô‡πÄ‡∏≠‡∏á</p>\n\n<p>‡πÉ‡∏´‡πâ $S(i,d)$ ‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏ô‡πâ‡∏≥‡∏ù‡∏ô‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡πà‡∏ß‡∏°‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡πà‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ù‡∏ô‡∏ï‡∏Å‡∏°‡∏≤ $d$ ‡∏´‡∏¢‡∏î‡∏û‡∏≠‡∏î‡∏µ ‡πÇ‡∏î‡∏¢‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ö‡πà‡∏≠‡∏ô‡πâ‡∏≥‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏ö‡πà‡∏≠‡∏ã‡πâ‡∏≤‡∏¢‡∏™‡∏∏‡∏î‡∏à‡∏ô‡∏ñ‡∏∂‡∏á‡∏ö‡πà‡∏≠‡∏ó‡∏µ‡πà $i$ ‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏ù‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏¥‡∏™‡∏£‡∏∞‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏Å $d-1$ ‡∏´‡∏¢‡∏î ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏¢‡∏î‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏¢‡∏î‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ï‡∏Å‡∏•‡∏á‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≥‡∏•‡πâ‡∏ô‡∏à‡∏ô‡∏ó‡πà‡∏ß‡∏°‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡πà‡∏≤</p>\n\n<p>‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤ ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡πà‡∏≠‡∏ô‡πâ‡∏≥‡∏ó‡∏≤‡∏á‡∏Ç‡∏ß‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤ ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏Ç‡∏≠‡∏á $S(i, d)$ ‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏°‡∏≤‡∏ä‡πà‡∏ß‡∏¢ ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏ù‡∏ô‡∏≠‡∏¥‡∏™‡∏£‡∏∞‡∏ä‡∏∏‡∏î‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏™‡∏•‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Å‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏ù‡∏ô‡∏≠‡∏¥‡∏™‡∏£‡∏∞‡∏ä‡∏∏‡∏î‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡πà‡∏≤‡∏à‡∏°‡∏ô‡πâ‡∏≥‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏ö‡πà‡∏≠‡πÄ‡∏ï‡πá‡∏° ‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡∏ô‡πâ‡∏≥‡∏ù‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏≠‡∏¥‡∏™‡∏£‡∏∞‡∏´‡∏¢‡∏∏‡∏î‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏ä‡∏∏‡∏î‡πÄ‡∏Å‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏¢‡∏î‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡πà‡∏≤‡∏à‡∏°‡∏ô‡πâ‡∏≥ ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏Å‡πá‡∏ï‡∏≤‡∏° ‡∏´‡∏≤‡∏Å‡∏ô‡πâ‡∏≥‡∏ù‡∏ô‡∏≠‡∏¥‡∏™‡∏£‡∏∞‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏ä‡∏∏‡∏î‡∏ï‡∏Å‡∏°‡∏≤‡∏à‡∏ô‡πÄ‡∏ï‡πá‡∏°‡πÅ‡∏•‡∏ó‡∏∏‡∏Å‡∏ö‡πà‡∏≠‡πÅ‡∏•‡πâ‡∏ß‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡πà‡∏≤‡∏à‡∏°‡∏ô‡πâ‡∏≥ ‡∏Å‡πá‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏£‡∏ì‡∏µ‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏ó‡∏µ‡πà‡∏ù‡∏ô‡∏´‡∏¢‡∏î‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏à‡∏∞‡∏ï‡∏Å‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô‡∏Å‡πá‡πÑ‡∏î‡πâ ‡∏ã‡∏∂‡πà‡∏á‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡∏Ñ‡∏π‡∏ì‡∏Å‡∏±‡∏ö‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏ô‡πâ‡∏≥‡∏ù‡∏ô‡∏ï‡∏Å‡∏°‡∏≤ $d$ ‡∏´‡∏¢‡∏î‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏ï‡πá‡∏°‡∏ö‡πà‡∏≠‡∏û‡∏≠‡∏î‡∏µ‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏ó‡πà‡∏ß‡∏°‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡πà‡∏≤‡πÅ‡∏ó‡∏ô</p>\n\n<p>‡πÉ‡∏´‡πâ $H(i,d)$ ‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏ô‡πâ‡∏≥‡∏ù‡∏ô‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ó‡πà‡∏ß‡∏°‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡πà‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ù‡∏ô‡∏ï‡∏Å‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß $d$ ‡∏´‡∏¢‡∏î ‡πÇ‡∏î‡∏¢‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ö‡πà‡∏≠‡∏ô‡πâ‡∏≥‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏ö‡πà‡∏≠‡∏ã‡πâ‡∏≤‡∏¢‡∏™‡∏∏‡∏î‡∏à‡∏ô‡∏ñ‡∏∂‡∏á‡∏ö‡πà‡∏≠‡∏ó‡∏µ‡πà $i$ ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏≤ $S$ ‡πÅ‡∏•‡∏∞ $H$ ‡πÑ‡∏î‡πâ‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ</p>\n\n\\[\\begin{align}\nS(i, d+1) &amp;=\n  \\begin{cases}\n    \\displaystyle \\left( \\sum_{k = 1}^i w_k \\right) \\cdot H(i, d) &amp;\n    \\displaystyle \\text{if } d = \\sum_{k=1}^i c_k \\\\\n    \\displaystyle \\sum_{\\substack{a, b \\in \\mathbb{N}_0 \\\\ a+b = d}}\n                  {d \\choose b} \\cdot w_i^b \\cdot S(i, a+1) &amp;\n    \\displaystyle \\text{if } d \\lt \\sum_{k=1}^i c_k \\\\\n    0 &amp; \\text{otherwise}\n  \\end{cases}\n\\\\ \\\\\nH(i, d) &amp;=\n  \\begin{cases}\n    1 &amp; \\text{if } i = 0 \\text{ and } d = 0 \\\\\n    \\displaystyle \\sum_{\\substack{a, b \\in \\mathbb{N}_0 \\\\ a+b = d}}\n                  {d \\choose b} \\cdot w_i^b \\cdot H(i, a) &amp;\n    \\displaystyle \\text{if } d \\le \\sum_{k=1}^i c_k \\\\\n    0 &amp; \\text{otherwise}\n  \\end{cases}\n\\end{align}\\]\n\n<p>‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏ß‡πà‡∏≤‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏∑‡∏≠</p>\n\n\\[E(X) = \\sum_{d \\in \\mathbb{N}} d \\cdot \\frac{S(m, d)}{n^d}\\]\n\n<h2>‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡πà‡∏ß‡∏¢</h2>\n\n<p>‡∏ß‡∏¥‡∏ò‡∏µ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ç‡πâ‡∏≤‡∏á‡∏ï‡πâ‡∏ô‡πÅ‡∏°‡πâ‡∏à‡∏∞‡∏ï‡∏£‡∏á‡πÑ‡∏õ‡∏ï‡∏£‡∏á‡∏°‡∏≤‡πÅ‡∏ï‡πà‡∏Å‡πá‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏™‡∏π‡∏á ‡πÅ‡∏ñ‡∏°‡∏¢‡∏±‡∏á‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏•‡∏ß‡∏±‡∏ï‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ñ‡∏∂‡∏á‡∏™‡∏≠‡∏á‡∏ï‡∏±‡∏ß ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏Å‡πá‡∏ï‡∏≤‡∏°‡πÄ‡∏£‡∏≤‡∏≠‡∏≤‡∏à‡πÅ‡∏õ‡∏•‡∏á‡πÇ‡∏à‡∏ó‡∏¢‡πå‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏¢‡∏¥‡πà‡∏á‡∏Ç‡∏∂‡πâ‡∏ô ‡πÇ‡∏î‡∏¢‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏ß‡πà‡∏≤‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á‡∏°‡∏µ‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ</p>\n\n\\[\\begin{align}\nE(X) &amp;= \\sum_{d \\in \\mathbb{N}} d \\cdot P(X=d) \\\\\n     &amp;= 1 \\cdot P(X=1) + 2 \\cdot P(X=2) + 3 \\cdot P(X=3) + \\cdots \\\\\n     &amp;=\n     \\begin{pmatrix}\n     P(X=1) &amp;+&amp; P(X=2) &amp;+&amp; P(X=3) &amp;+&amp; \\cdots \\\\\n            &amp;+&amp; P(X=2) &amp;+&amp; P(X=3) &amp;+&amp; \\cdots \\\\\n            &amp; &amp;        &amp;+&amp; P(X=3) &amp;+&amp; \\cdots \\\\\n            &amp; &amp;        &amp; &amp;        &amp;+&amp; \\ddots\n     \\end{pmatrix} \\\\\n     &amp;= P(X \\ge 1) + P(X \\ge 2) + P(X \\ge 3) + \\cdots \\\\\n     &amp;= \\sum_{d \\in \\mathbb{N}} P(X \\ge d)\n\\end{align}\\]\n\n<p>‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏°‡∏≤‡πÅ‡∏õ‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á $P(X \\ge d)$ ‡∏Å‡∏±‡∏ô ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ß‡πà‡∏≤ $X$ ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏∏‡πà‡∏°‡πÅ‡∏ó‡∏ô<strong>‡∏ô‡πâ‡∏≥‡∏ù‡∏ô‡∏´‡∏¢‡∏î‡∏ó‡∏µ‡πà</strong>‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡πà‡∏≤‡∏à‡∏°‡∏ô‡πâ‡∏≥ ‡∏ô‡∏±‡πà‡∏ô‡∏Å‡πá‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤ $X \\ge d$ ‡∏à‡∏∞‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡πÄ‡∏´‡∏ï‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏ô‡πâ‡∏≥‡∏ù‡∏ô‡∏´‡∏¢‡∏î‡πÉ‡∏î‡∏Å‡πá‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏´‡∏¢‡∏î‡∏ó‡∏µ‡πà $d$ ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ (‡∏à‡∏ô‡∏ñ‡∏∂‡∏á $\\infty$) ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡πà‡∏≤‡∏à‡∏°‡∏ô‡πâ‡∏≥ ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏µ‡∏Å‡∏ô‡∏±‡∏¢‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Å‡πá‡∏Ñ‡∏∑‡∏≠ ‡∏ô‡πâ‡∏≥‡∏ù‡∏ô‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏´‡∏¢‡∏î‡∏ó‡∏µ‡πà $0$ ‡∏ñ‡∏∂‡∏á $d-1$ ‡∏ô‡∏±‡πâ‡∏ô‡πÑ‡∏°‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡πà‡∏≤‡∏à‡∏°‡∏ô‡πâ‡∏≥‡∏ô‡∏±‡πà‡∏ô‡πÄ‡∏≠‡∏á</p>\n\n<p>‡πÉ‡∏´‡πâ $Y$ ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏∏‡πà‡∏°‡πÅ‡∏ó‡∏ô<strong>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡πâ‡∏≥‡∏ù‡∏ô</strong>‡∏ó‡∏µ‡πà‡∏´‡∏¢‡∏î‡∏•‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡πà‡∏≤‡∏à‡∏°‡∏ô‡πâ‡∏≥ ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ß‡πà‡∏≤</p>\n\n\\[P(X \\ge d) = P(Y = d-1)\\]\n\n<p>‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å $P(Y=d)$ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å ${H(m,d)}$ ‡∏ô‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏µ‡πâ</p>\n\n\\[\\begin{align}\nE(X) &amp;= \\sum_{d \\in \\mathbb{N}_0} P(Y=d) \\\\\n     &amp;= \\sum_{d \\in \\mathbb{N}_0} \\frac{H(m,d)}{n^d}\n\\end{align}\\]\n\n<p>‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡πà‡∏ô‡∏Å‡∏±‡∏ô‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏á‡πâ‡∏≠‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ $S$ ‡∏ó‡∏µ‡πà‡∏¢‡∏∏‡πà‡∏á‡∏¢‡∏≤‡∏Å‡∏≠‡∏µ‡∏Å‡∏ï‡πà‡∏≠‡πÑ‡∏õ</p>\n\n<h2>‡πÇ‡∏Ñ‡πâ‡∏î</h2>\n\n<div><div><pre><code><span>from</span> <span>fractions</span> <span>import</span> <span>Fraction</span>\n<span>from</span> <span>itertools</span> <span>import</span> <span>count</span>\n\n<span>def</span> <span>composition</span><span>(</span><span>n</span><span>):</span>\n    <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>n</span><span>+</span><span>1</span><span>):</span>\n        <span>yield</span> <span>i</span><span>,</span> <span>n</span><span>-</span><span>i</span>\n\n<span>def</span> <span>choose</span><span>(</span><span>n</span><span>,</span> <span>r</span><span>,</span> <span>mem</span><span>=</span><span>{}):</span>\n    <span>if</span> <span>(</span><span>n</span><span>,</span><span>r</span><span>)</span> <span>not</span> <span>in</span> <span>mem</span><span>:</span>\n        <span>if</span> <span>r</span> <span>==</span> <span>0</span> <span>or</span> <span>r</span> <span>==</span> <span>n</span><span>:</span>\n            <span>mem</span><span>[</span><span>n</span><span>,</span><span>r</span><span>]</span> <span>=</span> <span>1</span>\n        <span>else</span><span>:</span>\n            <span>mem</span><span>[</span><span>n</span><span>,</span><span>r</span><span>]</span> <span>=</span> <span>choose</span><span>(</span><span>n</span><span>-</span><span>1</span><span>,</span> <span>r</span><span>)</span> <span>+</span> <span>choose</span><span>(</span><span>n</span><span>-</span><span>1</span><span>,</span> <span>r</span><span>-</span><span>1</span><span>)</span>\n    <span>return</span> <span>mem</span><span>[</span><span>n</span><span>,</span><span>r</span><span>]</span>\n\n<span>def</span> <span>find_intervals</span><span>(</span><span>depths</span><span>):</span>\n    <span>k</span> <span>=</span> <span>0</span>\n    <span>intervals</span> <span>=</span> <span>[]</span>\n    <span>for</span> <span>i</span><span>,</span> <span>j</span> <span>in</span> <span>zip</span><span>(</span><span>count</span><span>(</span><span>0</span><span>),</span> <span>count</span><span>(</span><span>1</span><span>)):</span>\n        <span>if</span> <span>j</span> <span>==</span> <span>len</span><span>(</span><span>depths</span><span>):</span>\n            <span>intervals</span> <span>+=</span> <span>[(</span><span>k</span><span>,</span> <span>j</span><span>)]</span>\n            <span>break</span>\n        <span>elif</span> <span>depths</span><span>[</span><span>i</span><span>]</span> <span>&lt;</span> <span>depths</span><span>[</span><span>k</span><span>]</span> <span>and</span> <span>depths</span><span>[</span><span>i</span><span>]</span> <span>&lt;</span> <span>depths</span><span>[</span><span>j</span><span>]:</span>\n            <span>intervals</span> <span>+=</span> <span>[(</span><span>k</span><span>,</span> <span>i</span><span>)]</span>\n            <span>k</span> <span>=</span> <span>i</span>\n    <span>return</span> <span>intervals</span>\n\n<span>def</span> <span>transform</span><span>(</span><span>depths</span><span>):</span>\n    <span>intervals</span> <span>=</span> <span>find_intervals</span><span>(</span><span>depths</span><span>)</span>\n    <span>capacities</span> <span>=</span> <span>[</span><span>0</span> <span>for</span> <span>_</span> <span>in</span> <span>intervals</span><span>]</span>\n    <span>for</span> <span>i</span><span>,</span> <span>(</span><span>a</span><span>,</span> <span>b</span><span>)</span> <span>in</span> <span>enumerate</span><span>(</span><span>intervals</span><span>):</span>\n        <span>for</span> <span>c</span> <span>in</span> <span>range</span><span>(</span><span>a</span><span>,</span> <span>b</span><span>):</span>\n            <span>if</span> <span>depths</span><span>[</span><span>c</span><span>]</span> <span>&lt;</span> <span>depths</span><span>[</span><span>a</span><span>]:</span>\n                <span>break</span>\n            <span>capacities</span><span>[</span><span>i</span><span>]</span> <span>+=</span> <span>depths</span><span>[</span><span>c</span><span>]</span> <span>-</span> <span>depths</span><span>[</span><span>a</span><span>]</span>\n    <span>sizes</span> <span>=</span> <span>[</span><span>b</span><span>-</span><span>a</span> <span>for</span> <span>a</span><span>,</span> <span>b</span> <span>in</span> <span>intervals</span><span>]</span>\n    <span>sizes</span><span>[</span><span>0</span><span>]</span> <span>+=</span> <span>1</span>\n    <span>sizes</span><span>[</span><span>-</span><span>1</span><span>]</span> <span>-=</span> <span>1</span>\n    <span>return</span> <span>capacities</span><span>,</span> <span>sizes</span>\n\n<span>def</span> <span>calculate_expectation</span><span>(</span><span>depths</span><span>):</span>\n    <span>capacities</span><span>,</span> <span>widths</span> <span>=</span> <span>transform</span><span>(</span><span>depths</span><span>)</span>\n    <span>n</span> <span>=</span> <span>len</span><span>(</span><span>depths</span><span>)</span>\n    <span>m</span> <span>=</span> <span>len</span><span>(</span><span>capacities</span><span>)</span>\n    <span>limit</span> <span>=</span> <span>sum</span><span>(</span><span>capacities</span><span>)</span> <span>+</span> <span>1</span>\n    <span>hold</span> <span>=</span> <span>[[</span><span>0</span> <span>for</span> <span>_</span> <span>in</span> <span>range</span><span>(</span><span>limit</span><span>)]</span> <span>for</span> <span>_</span> <span>in</span> <span>range</span><span>(</span><span>m</span><span>+</span><span>1</span><span>)]</span>\n    <span>hold</span><span>[</span><span>0</span><span>][</span><span>0</span><span>]</span> <span>=</span> <span>1</span>\n    <span>acc_capacity</span> <span>=</span> <span>0</span>\n    <span>for</span> <span>i</span><span>,</span> <span>(</span><span>capacity</span><span>,</span> <span>width</span><span>)</span> <span>in</span> <span>enumerate</span><span>(</span><span>zip</span><span>(</span><span>capacities</span><span>,</span> <span>widths</span><span>)):</span>\n        <span>acc_capacity</span> <span>+=</span> <span>capacity</span>\n        <span>for</span> <span>d</span> <span>in</span> <span>range</span><span>(</span><span>acc_capacity</span><span>+</span><span>1</span><span>):</span>\n            <span>for</span> <span>a</span><span>,</span> <span>b</span> <span>in</span> <span>composition</span><span>(</span><span>d</span><span>):</span>\n                <span>hold</span><span>[</span><span>i</span><span>+</span><span>1</span><span>][</span><span>d</span><span>]</span> <span>+=</span> <span>choose</span><span>(</span><span>d</span><span>,</span> <span>b</span><span>)</span> <span>*</span> <span>width</span><span>**</span><span>b</span> <span>*</span> <span>hold</span><span>[</span><span>i</span><span>][</span><span>a</span><span>]</span>\n    <span>return</span> <span>sum</span><span>(</span><span>Fraction</span><span>(</span><span>hold</span><span>[</span><span>m</span><span>][</span><span>d</span><span>],</span> <span>n</span><span>**</span><span>d</span><span>)</span> <span>for</span> <span>d</span> <span>in</span> <span>range</span><span>(</span><span>limit</span><span>))</span>\n\n<span>def</span> <span>formatting</span><span>(</span><span>frac</span><span>,</span> <span>prime</span><span>=</span><span>1_000_000_007</span><span>):</span>\n    <span>return</span> <span>frac</span><span>.</span><span>numerator</span> <span>*</span> <span>pow</span><span>(</span><span>frac</span><span>.</span><span>denominator</span><span>,</span> <span>prime</span><span>-</span><span>2</span><span>,</span> <span>prime</span><span>)</span> <span>%</span> <span>prime</span>\n\n<span>for</span> <span>t</span> <span>in</span> <span>range</span><span>(</span><span>int</span><span>(</span><span>input</span><span>())):</span>\n    <span>_</span> <span>=</span> <span>input</span><span>()</span>\n    <span>depths</span> <span>=</span> <span>[</span><span>int</span><span>(</span><span>x</span><span>)</span> <span>for</span> <span>x</span> <span>in</span> <span>input</span><span>().</span><span>split</span><span>()]</span>\n    <span>answer</span> <span>=</span> <span>calculate_expectation</span><span>(</span><span>depths</span><span>)</span>\n    <span>print</span><span>(</span><span>f</span><span>'Case #</span><span>{</span><span>t</span><span>+</span><span>1</span><span>}</span><span>: </span><span>{</span><span>formatting</span><span>(</span><span>answer</span><span>)</span><span>}</span><span>'</span><span>)</span>\n</code></pre></div></div>","author":"","siteTitle":"neizod's speculation","siteHash":"939338c5557b1743f2c128736c6006e145dcabc81da9970f1c0dc8ae2feb0830","entryHash":"c80f75d818295531c3b1a6310595dc35814cd9109135aead906bf5d05660823c","category":"Thai"}