{"title":"สิ่งที่เปลี่ยนแปลงใน Golang 1.16 กับ Docker","link":"https://www.somkiat.cc/docker-with-golang-1-16/","date":1615958679000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2021/03/golang-docker-150x150.jpg\" class=\"attachment-post-thumbnail size-post-thumbnail wp-post-image\" alt=\"\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/03/golang-docker-150x150.jpg 150w, https://www.somkiat.cc/wp-content/uploads/2021/03/golang-docker-75x75.jpg 75w\" sizes=\"(max-width: 150px) 100vw, 150px\" /></p><!-- wp:image {\"id\":21652,\"width\":571,\"height\":316,\"sizeSlug\":\"large\"} -->\n<figure class=\"wp-block-image size-large is-resized\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/03/golang-docker-1024x568.jpg\" alt=\"\" class=\"wp-image-21652\" width=\"571\" height=\"316\"/></figure>\n<!-- /wp:image -->\n\n<!-- wp:paragraph -->\n<p>วันนี้ลองเปลี่ยน Docker Image ของ Golang เป็น version 1.16<br>พบว่าจะทำการ build ไม่ผ่านนะ<br>เนื่องจาก Golang 1.16 นั้นใช้ Go Module เป็นค่า default แล้ว<br>ดังนั้นจึงแก้ไขขั้นตอนการสร้าง Docker Image ใหม่ดังนี้</p>\n<!-- /wp:paragraph -->\n\n\n<span id=\"more-21647\"></span>\n\n\n<!-- wp:paragraph -->\n<p>ก่อนอื่น project ต้องเป็น Go Module<br>ด้วยการใช้คำสั่ง $go mod init &lt;name></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p><strong>ส่วนใน Dockerfile เพิ่มส่วนของ $go mod tidy ไปด้วย</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:shortcode -->\n[gist id=\"46c2adb4db8cf4b9391e75a1243ed11d\" file=\"Dockerfile\"]\n<!-- /wp:shortcode -->\n\n<!-- wp:paragraph -->\n<p><strong>เพิ่งสังเกตว่า Docker version ใหม่เปลี่ยน log การ build ดังนี้</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:shortcode -->\n[gist id=\"46c2adb4db8cf4b9391e75a1243ed11d\" file=\"1.txt\"]\n<!-- /wp:shortcode -->\n\n<!-- wp:paragraph -->\n<p>แก้ไขแบบง่าย ๆ เรียบร้อยแล้ว</p>\n<!-- /wp:paragraph -->","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"120d6f89709cf56b220b51148e9ccdbeff9e49d022e69ef7758a9923bdecc1a1","category":"Thai"}