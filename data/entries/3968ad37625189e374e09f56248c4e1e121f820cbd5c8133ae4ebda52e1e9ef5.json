{"title":"คำแนะนำสำหรับ Docker + Angular","link":"https://www.somkiat.cc/docker-and-angular/","date":1619435743000,"content":"<p><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/04/angular_docker-150x150.png\" /></p>\n<figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/04/angular_docker.png\" /></figure>\n\n\n\n<p>จากคำถามในกลุ่ม <strong><a href=\"https://www.facebook.com/groups/858633044176588/permalink/4185026948203831\" target=\"_blank\">Docker in Thai</a></strong> <br />เรื่องการ build Angular project ใน Docker<br />ว่าเกิด error ขึ้นมา คือ ไม่เจอคำสั่ง ng (Angular CLI) <br />ในการสร้าง Docker Image ด้วย Dockerfile<br />ดังนั้นจึงสรุปแนวทางการแก้ไขไว้นิดหน่อย</p>\n\n\n\n<span></span>\n\n\n\n<p><strong>ในการใช้ Docker เพื่อ build Docker image</strong></p>\n\n\n\n<p>ควรรู้และเข้าใจก่อนว่า<br />เราต้องทำการติดตั้งอะไรบ้าง<br />เมื่อติดตั้งในแต่ละ OS แล้วจะเข้าใช้งานอย่างไร<br />จะทำให้การทำงานง่ายขึ้นและสามารถทำซ้ำได้<br />ทั้งในเครื่องเราและเครื่องอื่น ๆ (Repeatable)<br />ไม่ควรเกิดเหตุการณ์ที่ Work on my Machaine/Docker อีกแล้ว<br />นั่นหมายความว่า มีอะไรที่แตกต่างอย่างแน่นอน</p>\n\n\n\n<p><strong>สิ่งที่ควรระวังมีดังต่อไปนี้</strong></p>\n\n\n\n<ul><li>อย่า copy node_modules จากเครื่องเราไป ให้ทำการ build ในการสร้าง Image เท่านั้น</li><li>เพื่อไม่ให้ลืมหรือพลาด ควรกำหนดพวก node_module ในไฟล์ .dockerignore ไปด้วยเสมอ</li><li>ใช้คำสั่ง COPY . . เมื่อคุณเข้าใจและต้องการมันจริง ๆ อย่าใช้เพราะว่า เห็นตัวอย่างเขาก็ทำแบบนี้</li></ul>\n\n\n\n<p><strong>มาดูตัวอย่าง Dockerfile ในการ build Angular app แบบง่าย ๆ</strong></p>\n\n\n\n<p>โดยสิ่งที่ทำเพิ่มเข้ามาคือ <strong>การ set PATH ไปยัง node_module</strong> ที่สร้างใน Image ด้วย</p>\n\n\n\n[gist id=\"bd0464893a0d05051730567a4f0e9c1a\" file=\"Dockerfile\"]\n\n\n\n<p>ลองใช้งานดูครับ</p>\n\n\n\n<p><strong><em>ปล. จะสังเกตได้ว่า ในการสร้าง Dockerfile นั้น<br />จำเป็นต้องใช้ skill ทั้ง developer และ operation ด้วย<br />ดังนั้นควรทำงานร่วมกันเพื่อสร้าง Dockerfile ขึ้นมา<br />ไม่ใช่กำหนดไปเลยว่าต้องหน้าที่ใคร<br />เพราะว่าต้องใช้งานจากทั้งคู่ครับ</em></strong></p>\n","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"3968ad37625189e374e09f56248c4e1e121f820cbd5c8133ae4ebda52e1e9ef5","category":"Thai"}