{"title":"How to Use the New AWS Application Migration Service for Lift-and-Shift Migrations","link":"https://aws.amazon.com/blogs/aws/how-to-use-the-new-aws-application-migration-service-for-lift-and-shift-migrations/","date":1621273920000,"content":"<p>Since AWS acquired CloudEndure in 2019, our new colleagues have offered CloudEndure Migration and CloudEndure Disaster Recovery. CloudEndure Migration can move applications from any physical, virtual, or cloud-based infrastructure to AWS at no charge. This complements AWS Server Migration Service (AWS SMS), which is an agentless service for migrating on-premises workloads to AWS. CloudEndure Disaster Recovery is a separate business continuity offering, designed to help you minimize downtime and data loss. It continuously replicates the contents of your on-premises, virtual, or cloud-based systems to a low-cost staging area in the AWS Region of your choice, within the confines of your AWS account. This offer is available to all AWS customers and partners.</p> \n<p>Recently, we launched <a href=\"https://aws.amazon.com/application-migration-service/\">AWS Application Migration Service</a> (<span>AWS MGN</span>), which we now recommend as the primary migration service for lift-and-shift migrations to AWS. We encourage customers who are currently using CloudEndure Migration or AWS SMS to switch to <span>AWS MGN</span> for future migrations. <span>AWS MGN</span> enables organizations to move applications to AWS without having to make any changes to the applications, their architecture, or the migrated servers.</p> \n<p>With <span>AWS MGN</span>, you can minimize time-intensive, error-prone manual processes by automatically replicating entire servers and converting your source servers from physical, virtual, or cloud infrastructure to run natively on AWS. The service simplifies your migration by enabling you to use the same automated process for a wide range of applications. By launching non-disruptive tests before migrating, you can be confident that your most critical applications such as SAP, Oracle, and SQL Server will work seamlessly on AWS.</p> \n<p><span>AWS MGN</span> reduces overall migration costs because there is no need to invest in multiple migration solutions, specialized cloud development, or application-specific skills. This is because <span>AWS MGN</span> can be used to migrate any application from any source infrastructure that runs supported operating systems.</p> \n<p><strong><u>How <span>AWS MGN</span> Works</u></strong><br /> To migrate to AWS, you install the <span>AWS MGN</span> Replication Agent on your source servers and then view and define replication settings in the <span>AWS MGN</span> console. <span>AWS MGN</span> uses these settings to create and manage a staging area subnet with lightweight <a href=\"https://aws.amazon.com/ec2/\">Amazon Elastic Compute Cloud (EC2)</a> instances, that act as replication servers used to replicate data between your source servers and AWS.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/04/15/2021-aws-mgn-how-it-works.jpg\" /></p> \n<p>Replication servers receive data from the agent running on your source servers and write this data to the <a href=\"https://aws.amazon.com/ebs/\">Amazon Elastic Block Store (EBS)</a> volumes. Your replicated data is compressed and encrypted in transit and at rest using EBS encryption. <span>AWS MGN</span> keeps your source servers up to date on AWS using continuous, block-level data replication. It uses your defined launch settings to launch instances when you conduct non-disruptive tests or perform a cutover.</p> \n<p>When you launch test or cutover instances, <span>AWS MGN</span> converts your source servers to boot and run natively on AWS. After confirming that your launched instances are operating properly on AWS, you can decommission your source servers. You can then choose to modernize your applications by using AWS services and capabilities.</p> \n<p><strong><u><span>AWS MGN</span> – Getting Started<br /> </u></strong>To get started, create the replication settings template in the <span>AWS MGN</span><a href=\"https://console.aws.amazon.com/mgn/home\"> console</a>. This template will determine how data replication will work for each newly added source server. Before you configure your template, ensure that you meet the <a href=\"https://docs.aws.amazon.com/mgn/latest/ug/preparing-environments.html\">network requirements</a> for running <span>AWS MGN</span>.</p> \n<p>In the <span>AWS MGN</span> console, choose <strong>Get started</strong> to create the template.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/04/14/2021-aws-mgn-getting-started.png\" /></p> \n<p>The replication settings configured in this template will be applied to each newly added source server. You can change the settings at any time for any individual source server or group of source servers.</p> \n<p>Replication servers are lightweight EC2 instances that are used to replicate data between your source servers and AWS. They are automatically launched and terminated as needed. You can use data routing and throttling settings to control how data is routed from your source servers to the replication servers.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/04/14/2021-aws-mgn-replication-template.png\" /></p> \n<p>After you create your template, you can add your source servers. To edit your template, in the left navigation pane, choose <strong>Settings</strong>. You can edit individual server replication settings after you add your source servers.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/04/14/2021-aws-mgn-firstsourceservers.png\" /></p> \n<p>To add source servers to <span>AWS MGN</span>, install the <span>AWS MGN</span> Replication Agent on them. You can install the agent on servers running Linux and Windows. For more information, see <a href=\"https://docs.aws.amazon.com/mgn/latest/ug/adding-servers.html\">adding source servers</a> in the documentation.</p> \n<p>For example, download the <code>aws-replication-installet-init.py</code> agent installer with the <code>wget</code> command and run the installation script in your Linux source server.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/04/22/2021-aws-mgn-source-servers-linuxagent.png\" /></p> \n<p>After the AWS Replication Agent is installed, the server will be added to <span>AWS MGN</span> console and undergo the initial sync process.​</p> \n<p>The <strong>Source Servers</strong> page displays a list of source servers. Each row in the list represents a single server. The <a href=\"https://docs.aws.amazon.com/mgn/latest/ug/lifecycle.html\">migration lifecycle</a> column shows the current state of each source server. After the initial sync process has been completed successfully, data replication will start automatically.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/04/22/2021-aws-mgn-source-server-1.png\" /></p> \n<p>After you have added your source servers, you must configure the launch settings for each server. The launch settings are a set of instructions that determine how a test or cutover instance will be launched for each source server on AWS.</p> \n<p>You must configure the launch settings before you launch test or cutover instances. To access the launch settings, choose the host name of a source server and then navigate to the <strong>Launch settings</strong> tab.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/04/14/2021-aws-mgn-launch-settings.png\" /></p> \n<p>After you have added your source servers and configured their launch settings, you are ready to launch a test instance. You must test the migration of your source servers to AWS before you initiate a cutover, to verify that your source servers function properly in the AWS environment.</p> \n<p>To launch a test or cutover instance for a single source server or multiple source servers, on the <strong>Source Servers</strong> page, select the checkbox for each server for which you want to launch a test instance.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/04/22/2021-aws-mgn-source-test-cutover-servers-1.png\" /></p> \n<p>You can test one source server at a time or multiple source servers simultaneously. For each source server, you will be informed of the success or failure of the test. Choose <strong>Launch test instances</strong> to start the test, and then choose <strong>Launch</strong>.</p> \n<p>When the test has started, the console will display a <strong>Launch job started</strong> message. To view the specific job for the test launch, choose <strong>View job details</strong>.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/04/14/2021-aws-mgn-finish-test-jobs.png\" /></p> \n<p>Use the <strong>Migration dashboard </strong>tab to monitor the progress in relation to the <a href=\"https://docs.aws.amazon.com/mgn/latest/ug/lifecycle.html\">migration lifecycle</a>.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/04/14/2021-aws-mgn-migration-dashboard.png\" /></p> \n<p>As a best practice, perform a test at least one week before you plan to migrate your source servers. This allows you time to identify and solve problems before the cutover takes place. After you launch the test instances, use SSH (Linux) or RDP (Windows) to connect to your instance and ensure that everything is working correctly.</p> \n<p>After you have finalized the testing of your source servers, you are ready for a cutover. It’s a best practice to schedule the cutover time in advance. After the cutover action is performed, the server is considered migrated, and you should redirect your users from your original source servers to the migrated ones.</p> \n<p>If you are completely done with your migration and performed a successful cutover, you can finalize the cutover. This will change your source servers’ migration lifecycle status to <strong>Cutover complete</strong>, indicating that the cutover is complete and that the migration has been performed successfully.</p> \n<p><strong><u>Monitoring and Troubleshooting</u></strong><br /> You can monitor <span>AWS MGN</span> using <a href=\"https://aws.amazon.com/cloudwatch/\">Amazon CloudWatch</a>, <a href=\"https://aws.amazon.com/eventbridge\">Amazon EventBridge</a>, and AWS CloudTrail, which collect raw data and process it into readable, near-real-time metrics. For more information, see <a href=\"https://docs.aws.amazon.com/mgn/latest/ug/monitoring-overview.html\">Monitoring Application Migration Service</a> in the documentation.</p> \n<p>If you encounter any issues and want to launch new test or cutover instances, you can revert the test or cutover action. This will revert your source servers lifecycle status to the previous stage, indicating that these servers have not undergone cutover. During a revert, you will also have the option to delete your test or cutover instances for cost-saving purposes. For more information, see <a href=\"https://docs.aws.amazon.com/mgn/latest/ug/troubleshooting.html\">Troubleshooting</a> in the documentation.</p> \n<p><strong><u>Now Available<br /> </u></strong><a href=\"https://aws.amazon.com/application-migration-service/\">AWS Application Migration Service</a> (<span>AWS MGN</span>) is now available in the US East (N. Virginia), US West (Oregon), US East (Ohio), Asia Pacific (Tokyo), Asia Pacific (Sydney), Asia Pacific (Singapore), Europe (Ireland), Europe (Frankfurt), and Europe (Stockholm). If your preferred AWS Region is not currently supported by <span>AWS MGN</span>, consider using <a href=\"https://console.cloudendure.com/#/register/register\">CloudEndure Migration</a>. If you cannot install an agent on your servers, consider using <a href=\"https://aws.amazon.com/server-migration-service/\">AWS Server Migration Service</a> (AWS SMS).</p> \n<p>Although the use of <span>AWS MGN</span> is free for 90 days, you will incur charges for any AWS infrastructure that is provisioned during migration and after cutover. For more information, see the <span>AWS MGN</span><a href=\"https://aws.amazon.com/application-migration-service/pricing/\"> pricing page</a>.</p> \n<p><strong><a href=\"https://aws.amazon.com/application-migration-service/?sc_detail=blog_cta1\">Get started</a> with the AWS Application Migration Service today.</strong> Please send feedback through your AWS Support contacts.</p> \n<p>– <a href=\"https://twitter.com/channyun\">Channy</a></p> \n<p><em>For an overview of <span>AWS MGN</span>benefits, service, and network architecture details, watch the <a href=\"https://www.youtube.com/watch?v=ao8geVzmmRo\">video</a>.</em></p> \n<p></p>","author":"Channy Yun","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"87d865ccc7684ef83091d3f1e63069947107db48770efd366cacca667d0a42a2","category":"Tech"}