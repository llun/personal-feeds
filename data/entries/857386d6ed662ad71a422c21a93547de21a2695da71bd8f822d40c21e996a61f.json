{"title":"Using Grommet In React Applications","link":"https://smashingmagazine.com/2021/01/grommet-react-applications/","date":1610980213000,"content":"<p>Over the years, the React ecosystem has grown with the invention of libraries that help the development of React applications. In this tutorial, we are going to learn to use <a href=\"https://v2.grommet.io/\">Grommet</a> for developing responsive, accessible, and mobile-first components for React applications. We’ll take a closer look at its core concepts, some of its use cases, and build a simple example. It’s important to note that Grommet is open-source with 6.9k stars on <a href=\"https://github.com/grommet/grommet\">GitHub</a>.</p>\n<p>This tutorial will be beneficial to readers who are interested in developing responsive components in their React application using Grommet. This article requires a basic understanding of React and Styled-components.</p>\n<h3>What Is Grommet?</h3>\n<p><a href=\"https://v2.grommet.io/\">Grommet</a> is a React component library that boasts of responsive and accessible mobile-first code components. It does this through its components — which are the building blocks for the library. They include Layouts, Types, Colors, Controls, Inputs, Visualizations Media and utilities. All grommet components are inbuilt with accessibility and responsiveness in mind. </p>\n<p>Grommet provides support for <a href=\"https://www.w3.org/TR/WCAG21/\">W3C’s spec</a> which makes it score a huge point in terms of accessibility. It also provides powerful themes and tools that allow you to customize your color, type, component elements and layout needs according to your project needs. </p>\n<p>Some popular alternatives to Grommet include <a href=\"https://tailwindcss.com/\">tailwindcss</a> and <a href=\"https://styled-components.com/\">styled components</a>, although very popular among developers, each framework differ in approach in building applications. Grommet is mobile-first, accessible, responsive and themes out of the box and has support for W3C for easy creation of React applications while Tailwind CSS is a highly customizable and utility framework that allows developers to build applications without the restrictions of CSS such as its cascading rules. Styled-components aim to help developers write reusable React components by allowing us to write CSS code in our JavaScript using object literals and it also uses components as low-level styling construct. </p>\n<p>In our project, we will be using Grommet in our projects due to its customizable components, accessibility, and theme properties which we’d need as we go forward in this tutorial.</p>\n<h4>Using Grommet Components</h4>\n<p>Grommet like so many other component libraries comes pre-built with some components for layouts and themes such as Box, Card and Header components. To use first you’d need to install the grommet package using NPM or yarn, like the code block below. </p>\n<pre><code>npm i grommet styled-components</code></pre>\n\n<p>Or:</p>\n<pre><code>yarn add grommet styled-components</code></pre>\n\n<p>From the above, you can see that we also installed styled-components. This is because Grommet uses styled-components for customizing styles in components; it's advisable to install styled-components in your projects. </p>\n<p>To use a Grommet component in a React project, you need to import <code>grommet</code>. Let’s build a card component below to explain:</p>\n<pre><code>import React from 'react';\nimport { Grommet, Card } from 'grommet';\n\nexport default function GrommetExample() {\n  return (\n     &lt;Card&gt;\n        &lt;CardBody pad=\"medium\"&gt;Body&lt;/CardBody&gt;\n          &lt;Button\n            icon={&lt;Icons.Favorite color=\"red\" /&gt;}\n              hoverIndicator\n            /&gt;\n        &lt;/Card&gt;\n      );\n    }</code></pre>\n\n<p>In the code block above, first imported <code>Grommet</code> and the <code>Card</code> component from <code>grommet</code> package into your file, next we wrapped our component using the <code>Card</code> component we’ve imported. Styles can be added to a Grommet component as objects like we did to the <code>Button</code> or they can be styled using styled-components. </p>\n<p>Let’s see more examples of Grommet components by looking at Form components.</p>\n<h3>Why Grommet?</h3>\n<p>Grommet's primary purpose is to improve the experience of developers and make for a faster way of building React applications with its mobile-first, accessible, and responsive components. Grommet seamlessly aligns a design and a developer workflow to create a seamless experience, making it very easy for anyone to get started with. </p>\n<p>Grommet also provides support for screen readers out of the box, theme variants such as dark-mode are gotten from grommet out of the box and they can be set up using the <code>themeMode</code> prop in a React application, like below.</p>\n<div>\n <pre><code>import React from \"react\";\nimport { Grommet, Box, Button, Heading, dark } from \"grommet\";\nimport { grommet } from \"grommet\";\nconst App = () =&gt; {\n  const [darkMode, setDarkMode] = React.useState(false);\n  return (\n    &lt;Grommet full theme={grommet} themeMode={darkMode ? \"dark\" : \"light\"}&gt;\n      &lt;Box pad=\"large\"&gt;\n        &lt;Heading level=\"1\"&gt;Grommet Darkmode toggle&lt;/Heading&gt;\n        &lt;Button\n          label=\"Toggle Theme\"\n          primary\n          alignSelf=\"center\"\n          margin=\"large\"\n          onClick={() =&gt; setDarkMode(!darkMode)}\n        /&gt;\n      &lt;/Box&gt;\n    &lt;/Grommet&gt;\n  );\n};\nexport default App;</code></pre>\n</div>\n\n<p>In the code block above, we are using the <code>themeMode</code> property to add a dark mode. Using a ternary operator, we check if the page is on dark mode, we can toggle it to light mode, next we added a button for toggling between the light and dark mode on our application, you can check here for a demo on <a href=\"https://codesandbox.io/s/gallant-wilson-o2s2b?file=/src/App.js\">Codesandbox</a>.</p>\n<p>Grommet can also exist with other frameworks and doesn’t add a global style that will affect existing components in your React application, functions and styles can be interpolated into an object literal for styles. Grommet also features Layout components, which features some CSS properties such as flexbox, it also takes in all flexbox properties as props. </p>\n<p>Grommet features a big library of SVG icons that are accessible using the <code>&lt;Icon /&gt;</code> component, unlike many other frameworks. Grommet features components for data visualization such as bar charts, maps and even progress trackers. </p>\n<p>Several firms use Grommet today to create real-world applications, including Netflix, IBM, Sony, Samsung, Shopify, GitHub and Twilio.</p>\n<h3>Building A Pricing Component With Grommet</h3>\n<p>Now we know the basics and core concepts of Grommet, we are going to create a pricing component using Grommet components, it should feature components such as Card, Box and Buttons from the Grommet library. </p>\n<p>Without further ado, let’s start!</p>\n<h3>Setting Up Your Environment</h3>\n<p>First, let’s create a bare React application, write the code block below on your terminal.</p>\n<pre><code>create-react-app grommet-app</code></pre>\n\n<p>The above code will create a bare React application using the <a href=\"https://github.com/facebook/create-react-app\">create-react-app</a> package. Move into the project directory.</p>\n<pre><code>cd grommet-app</code></pre>\n\n<p>Next is to install the dependencies we’d need in our project.</p>\n<pre><code>yarn add grommet styled-components</code></pre>\n\n<p>If you’ve done this, then start the project server using the command below.</p>\n<pre><code>yarn start</code></pre>\n\n<p>For this project, we’d need a single component for our cards and style with styled-components.</p>\n<p>Let’s create the first card below </p>\n<pre><code>import React from \"react\";\nimport styled from \"styled-components\";\n\nexport default function GrommetCard() {\n  return (\n    &lt;&gt;\n       &lt;CardWrapper&gt;\n        &lt;Card left&gt;\n          &lt;Div&gt;\n            &lt;Div&gt;\n              &lt;CardContent&gt;\n                &lt;small&gt;Basic&lt;/small&gt;\n                &lt;h1&gt;$588&lt;/h1&gt;\n              &lt;/CardContent&gt;\n              &lt;CardContent&gt;\n                &lt;p&gt;500 GB storage&lt;/p&gt;\n              &lt;/CardContent&gt;\n              &lt;CardContent&gt;\n                &lt;p&gt;2 Users Allowed&lt;/p&gt;\n              &lt;/CardContent&gt;\n              &lt;CardContent&gt;\n                &lt;p&gt;Send Up To 3 GB&lt;/p&gt;\n              &lt;/CardContent&gt;\n            &lt;/Div&gt;\n            &lt;CardButton secondary&gt;LEARN MORE&lt;/CardButton&gt;\n          &lt;/Div&gt;\n        &lt;/Card&gt;\n   &lt;/CardWrapper&gt;\n    &lt;/&gt;\n  );\n}</code></pre>\n\n<p>In the code block above, we are using the component <code>CardWrapper</code> to wrap all of our <code>Card</code> components, next we added a new component, <code>CardContent</code> which is used to wrap all of our content in each card component. The <code>CardButton</code> component is a button component that is used on cards on Grommet. </p>\n<p>Next, let’s create styles for our application using styled-components. Write the file below:</p>\n<div>\n<pre><code>const primaryGradient = \"linear-gradient(hsl(236, 72%, 79%), hsl(237, 63%, 64%))\";\n\nconst CardWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: max-content;\n  margin: 20px;\n  @media all and (max-width: 1240px) {\n    flex-direction: column;\n  }\n`;</code></pre>\n</div>\n\n<p>In the above, we defined a style object for our <code>CardWrapper</code> in our application. Let’s add style objects for our Card component above.</p>\n<div>\n<pre><code>const Card = styled.div<code>min-width: 380px;\n  box-shadow: 3px -2px 19px 0px rgba(50, 50, 50, 0.51);\n  border-radius: ${(props) =&amp;gt; (props.left ? \" 6px 0 0 6px\" : props.right ? \"0 6px 6px 0\" : \"6px\")};\n  background: ${(props) =&amp;gt; (props.secondary === undefined ? \"#fff\" : primaryGradient)};\n  padding: 25px 20px;\n  height: ${(props) =&amp;gt; (props.center ? \"520px\" : \"480px\")};\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  @media all and (max-width: 1240px) {\n    margin-bottom: 20px;\n    border-radius: 6px;\n    height: 480px;\n  }\n  @media all and (max-width: 420px) {\n    min-width: 90%;\n  }</code>;</code></pre>\n</div>\n\n<p>Let’s add more styles to our components.</p>\n<div>\n<pre><code>const CardButton = styled.div<code>min-width: 100%;\n  padding: 10px 15px;\n  min-height: 50px;\n  box-shadow: 1px 1px 0 rgba(0, 0, 0, 0.2), 0px 0px 2px rgba(0, 0, 0, 0.2);\n  color: ${(props) =&amp;gt; (props.secondary !== undefined ? \"#fff\" : \"#7c7ee3\")};\n  background: ${(props) =&amp;gt; (props.secondary === undefined ? \"#fff\" : primaryGradient)};\n  text-align: center;\n  margin-top: 25px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  font-size: 16px;\n  border-radius: 6px;</code>;\nconst CardContent = styled.div<code>width: 100%;\n  color: ${(props) =&amp;gt; (props.secondary !== undefined ? \"#fff\" : \"#000\")};\n  padding-bottom: 10px;\n  margin-bottom: 10px;\n  border-bottom: 1.3px solid #eee;\n  text-align: center;</code>;\nconst Div = styled.div<code>min-width: 100%;</code>;</code></pre>\n</div>\n\n<p>Once we’ve done all this, our project should look similar to the image below.</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/d260f2bd-6b7d-442b-8ad3-1f234e7bd432/4-grommet-react-applications.png\" /></p>\n<p>We need to add more cards to our component using the code block below.</p>\n<pre><code> &lt;Card center secondary&gt;\n         &lt;Div&gt;\n            &lt;Div&gt;\n              &lt;CardContent secondary&gt;\n                &lt;small&gt;Premium&lt;/small&gt;\n                &lt;h1&gt;$788&lt;/h1&gt;\n              &lt;/CardContent&gt;\n              &lt;CardContent secondary&gt;\n                &lt;p&gt;75 GB storage&lt;/p&gt;\n              &lt;/CardContent&gt;\n              &lt;CardContent secondary&gt;\n                &lt;p&gt;4 Users Allowed&lt;/p&gt;\n              &lt;/CardContent&gt;\n              &lt;CardContent secondary&gt;\n                &lt;p&gt;Send Up To 5 GB&lt;/p&gt;\n              &lt;/CardContent&gt;\n            &lt;/Div&gt;\n            &lt;CardButton&gt;LEARN MORE&lt;/CardButton&gt;\n          &lt;/Div&gt;\n        &lt;/Card&gt;\n\n       &lt;Card right&gt;\n          &lt;Div&gt;\n            &lt;Div&gt;\n              &lt;CardContent&gt;\n                &lt;small&gt;PRO&lt;/small&gt;\n                &lt;h1&gt;$1000&lt;/h1&gt;\n              &lt;/CardContent&gt;\n              &lt;CardContent&gt;\n                &lt;p&gt;1TB storage&lt;/p&gt;\n              &lt;/CardContent&gt;\n              &lt;CardContent&gt;\n                &lt;p&gt;Unlimited Users Allowed&lt;/p&gt;\n              &lt;/CardContent&gt;\n              &lt;CardContent&gt;\n                &lt;p&gt;Send Up To 10 GB&lt;/p&gt;\n              &lt;/CardContent&gt;\n            &lt;/Div&gt;\n            &lt;CardButton secondary&gt;LEARN MORE&lt;/CardButton&gt;\n          &lt;/Div&gt;\n        &lt;/Card&gt;\n      &lt;/CardWrapper&gt;\n    &lt;/&gt;\n  );\n}\n</code></pre>\n\n<p>Here, we created two more card components, adding our own custom components with styled-components and used the style objects we defined above to wrap our Grommet components and improve styling. </p>\n<p>Our final price card application should look like the image below.</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/568ff530-80c3-407f-94d3-20ecf068e67c/5-grommet-react-applications.png\" /></p>\n<h3>Using Grommet In Production (Building List App)</h3>\n<p>To see an example of what it’d look like using Grommet in another application, we are going to build a simple app that will allow a user to add, view and delete list items. We will be using in-built React Context API to manage the state of the application, Grommet for our UI components and styled-components for styling our application. </p>\n<p>Again, let’s initialize a react app using the command below.</p>\n<pre><code>create-react-app list-app</code></pre>\n\n<p>cd into the project directory</p>\n<pre><code>cd list-app</code></pre>\n\n<pre><code>yarn add grommet grommet-controls grommet-icons styled-components</code></pre>\n\n<p>In the above code block, we installed:</p>\n<table>\n  <tbody>\n    <tr>\n      <td><code>grommet</code></td>\n      <td>Our UI component library</td>\n    </tr>\n    <tr>\n      <td><code>grommet-controls</code>, <code>grommet-icons</code></td>\n      <td>Icons and controls packages we need to install to work with Grommet</td>\n    </tr>\n    <tr>\n      <td><code>styled-components</code></td>\n      <td>For utilizing tagged literals for styling react components and grommet</td>\n    </tr>\n  </tbody>\n</table>\n\n<h3>Building The App Context</h3>\n<p>In the application we need to share the user’s data across multiple components, to achieve that we would make use of Context API. With this, we can create an App Context that would hold the lists and logic for our application. You can check out this <a href=\"https://www.smashingmagazine.com/2020/01/introduction-react-context-api/\">article</a> to learn more about Context API.</p>\n<p>To create our app context, first create a folder called <code>context</code> in the <code>src</code> directory of our application, next create a file called <code>AppContext.js</code> this will be the file for all our app context, let’s do that in the code block below:</p>\n<pre><code>import React, { createContext, useState } from 'react';\nexport const Context = createContext();\nconst AppContext = ({children}) =&gt; {\n  const [lists, setLists] = useState([]);\n  const removeList = item =&gt; {\n    let newLists = [...lists];\n\n    lists.map((list, id) =&gt; {\n      return list === item &amp;&amp; newLists.splice(id, 1);\n    });\n    setLists(newLists);\n  }</code></pre>\n\n<p>In the code block above, we imported the context API hook <code>createContext</code> and the <code>useState</code> hook all from React, using the <code>useState</code> component, we created a central state for our application, this was done so that the component can act as a Context Provider for other components in our application. Next, we created a new variable named <code>removeList</code> that takes in an item as a parameter, using the spread operator we are spreading what’s in the state and splicing out the object that’s equal to the item we want to remove. </p>\n<p>Next, we will use the logic above to create methods for adding and deleting list items in our application, we do that in the code block below:</p>\n<pre><code>return (\n    &lt;Context.Provider value={{\n      lists,\n      addToLists: (newItem) =&gt; setLists([...lists, newItem]),\n      deleteFromList: (item) =&gt; removeList(item)\n    }}&gt;\n      {children}\n    &lt;/Context.Provider&gt;\n  )\n}\nexport default AppContext;</code></pre>\n\n<p>Here, we are returning the <code>Context.Provider</code> and accepting children props, we are doing this so that other component will be able to access the properties we pass in the value prop, we initialized the <code>lists</code> object to take in our lists, the <code>addToList</code> method takes in a <code>newItem</code> parameter to add new lists to our application state and the <code>deleteFromList</code> removes or deletes an item from the list store.</p>\n<h3>Building The List Component</h3>\n<p>In this section, we are going to build our List component using Grommet for our UI components and styled-components to style some parts of our UI. First, create a components folder inside our application <code>src</code> directory, then inside the components folder, create a new file <code>List.js</code> and inside it, write the code below.</p>\n<div>\n <pre><code>import React from \"react\";\nimport styled from \"styled-components\";\nimport { Card, CardBody, Box, Text, Button } from \"grommet\";\nfunction List(props) {\n  return (\n    &lt;StyledDiv&gt;\n      &lt;Card&gt;\n        &lt;CardBody className=\"card_body\"&gt;\n          &lt;Box direction=\"row\" className=\"item_box\"&gt;\n            &lt;Text className=\"text\"&gt;{props.list}&lt;/Text&gt;\n            &lt;Box className=\"button_box\"&gt;\n              &lt;Button\n                onClick={props.deleteList.bind(this, props.list)}\n                className=\"button\"\n              &gt;\n                Delete\n              &lt;/Button&gt;\n            &lt;/Box&gt;\n          &lt;/Box&gt;\n        &lt;/CardBody&gt;\n      &lt;/Card&gt;\n    &lt;/StyledDiv&gt;\n  );\n}\nexport default List;</code></pre>\n</div>\n\n<p>In the code above, we first imported components Card, CardBody, Box, Text and Button from grommet, next we created a List component to take in props, using Grommet components we created a card component with a delete button that will be automatically added to a list. Next is to style our component below: </p>\n<pre><code>const StyledDiv = styled.div`\n  .button {\n    background-color: #8b0000;\n    color: white;\n    padding: 10px;\n    border-radius: 5px;\n  }\n  .card_body {\n    padding: 20px;\n    margin-top: 20px;\n  }\n  .item_box {\n    justify-content: space-between;\n  }\n  .text {\n    margin-top: auto;\n    margin-bottom: auto;\n  }\n`;\n</code></pre>\n\n<p>Once we do the above, our component should look like the image below.</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/66a9062a-0330-4e4d-b0fe-a6f5652536b4/3-grommet-react-applications.png\" /></p>\n<h3>Building The List Display Component</h3>\n<p>This component displays all the lists we’ve added and also automatically generates a delete button as soon as a new list is added. </p>\n<div>\n<pre><code>import React from \"react\";\nimport List from \"./List\";\nimport { Context } from '../context/AppContext';\nfunction ListDisplay() {\n  return (\n    &lt;Context.Consumer&gt;\n      {(context) =&gt; (\n        &lt;div className=\"container\"&gt;\n          {context.lists.length ? \n            context.lists.map((list, id) =&gt; (\n              &lt;List key={id} list={list} deleteList={context.deleteFromList} /&gt;\n            )) : null\n          }\n        &lt;/div&gt;\n      )}\n    &lt;/Context.Consumer&gt;\n  );\n}\nexport default ListDisplay;</code></pre>\n</div>\n\n<p>In this component, we created a function <code>ListDisplay</code> and wrapped it using the <code>Context.Consumer</code> from our <code>appContext</code> component, next using a <code>div</code> for our container tag, we destructured the <code>list</code> and <code>deleteList</code> methods from the app context, by doing this we can be able to pass them as props. Next, we map through the <code>lists</code> to return a new list, which we can use in building a single list by passing the returned object as props to the <code>List</code> component. </p>\n<p>Our component should look like this with lists added:</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/368de418-1c3d-4eaa-8463-57ee6bb046ac/1-grommet-react-applications.png\" /></p>\n<h3>NavBar Component</h3>\n<p>This component will be the bulk of our application, here we will wrao our component using the <code>Context.Consumer</code> and similar to our other components, we will be styling with styled components for styling. Let’s build this component below.</p>\n<div>\n <pre><code>import React, { useState } from \"react\";\nimport { Heading, Form, TextInput, Button } from \"grommet\";\nimport styled from \"styled-components\";\nimport { Context } from '../context/AppContext';\nfunction Navbar() {\n  const [value, setValue] = useState(\"\");\n  return (\n    &lt;Context.Consumer&gt;\n      {store =&gt; (\n        &lt;StyledDiv className=\"container\"&gt;\n          &lt;Heading className=\"title\"&gt;Grommet List App&lt;/Heading&gt;\n          &lt;Form onSubmit={() =&gt; store.addToLists(value)} className=\"form-group\"&gt;\n            &lt;TextInput\n              className=\"form\"\n              value={value}\n              type=\"text\"\n              onChange={(e) =&gt; setValue(e.target.value)}\n              placeholder=\"Enter item\"\n            /&gt;\n            &lt;Button type='submit' className=\"button\"&gt;Add to List&lt;/Button&gt;\n          &lt;/Form&gt;\n        &lt;/StyledDiv&gt;\n      )}\n    &lt;/Context.Consumer&gt;\n  );\n}\nconst StyledDiv = styled.div<code>.button {\n    margin-top: 10px;\n    background-color: purple;\n    color: white;\n    padding: 10px;\n    border-radius: 5px;\n  }</code>;\nexport default Navbar;\n</code></pre>\n</div>\n\n<p>First, in order to access the properties in the application context provider, we wrapped our component in a <code>Context.Consumer</code> component. Next, we added a <code>Heading</code> tag from Grommet, and then we created an input form for adding our lists by using the method <code>addToList</code> which takes in a value parameter (in our case the value is the user’s input). Last but not least, we added a Submit button to handle the form submit. </p>\n<p>Once done correctly, our app should look like this:</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/87ca0ae8-4f01-4792-a735-cef9a9e4d883/2-grommet-react-applications.png\" /></p>\n<h3>Conclusion</h3>\n<p>In this article, we learned about Grommet, a component library with responsiveness and accessibility in mind. We also went through the process of creating a pricing component application using Grommet and a list application. Have fun using Grommet for your component and UI needs for your next React application. The code for the Grommet list application can be found on <a href=\"https://codesandbox.io/s/affectionate-shape-scpeq?file=/src/components/navbar.js\">Codesandbox</a> and the pricing component can be found <a href=\"https://codesandbox.io/s/zen-thompson-8r5xc?file=/src/App.js\">here</a>.</p>\n<h4>Resources</h4>\n<ul>\n<li><a href=\"https://v2.grommet.io/\">Grommet docs</a></li>\n<li><a href=\"https://medium.com/@ddarrowphl/grommet-5a6c5accd45e\">An introduction to Grommet</a></li>\n<li><a href=\"https://www.smashingmagazine.com/2020/01/introduction-react-context-api/\">Introduction to React’s Context API</a></li>\n</ul>","author":"","siteTitle":"Articles on Smashing Magazine — For Web Designers And Developers","siteHash":"ab069ca35bf300e9db0da36f49701f66485a5b0d2db0471dfeee07cef6204939","entryHash":"857386d6ed662ad71a422c21a93547de21a2695da71bd8f822d40c21e996a61f","category":"Tech"}