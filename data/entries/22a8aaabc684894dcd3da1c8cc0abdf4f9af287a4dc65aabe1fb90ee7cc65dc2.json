{"title":"Elasticsearch 7.11 :: ว่าด้วยเรื่อง Schema on read","link":"https://www.somkiat.cc/elasticsearch-schema-on-read/","date":1614176472000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2021/02/schema-on-read-vs-schema-on-write-150x150.jpg\" class=\"attachment-post-thumbnail size-post-thumbnail wp-post-image\" alt=\"\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/02/schema-on-read-vs-schema-on-write-150x150.jpg 150w, https://www.somkiat.cc/wp-content/uploads/2021/02/schema-on-read-vs-schema-on-write-75x75.jpg 75w\" sizes=\"(max-width: 150px) 100vw, 150px\" /></p><!-- wp:image {\"id\":21533,\"sizeSlug\":\"large\"} -->\n<figure class=\"wp-block-image size-large\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/02/schema-on-read-vs-schema-on-write-1024x767.jpg\" alt=\"\" class=\"wp-image-21533\"/></figure>\n<!-- /wp:image -->\n\n<!-- wp:paragraph -->\n<p>ปกติ Elasticsaearch ข้อมูลต่าง ๆ ที่จัดเก็บในแต่ละ index <br>จะสามารถค้นหาได้ก็ต่อเมื่อ ทำการบันทึกลงใน disk แล้วเท่านั้น<br>หรือเรียกว่า Schema on write<br>โดย schema หรือโครงสร้างข้อมูลจะต้องถูกวางแผนก่อนเสมอ<br>ว่าจะมีโครงสร้างอย่างไร <br>ว่าแต่ละ field จะมีชนิดอะไร</p>\n<!-- /wp:paragraph -->\n\n\n<span id=\"more-21532\"></span>\n\n\n<!-- wp:paragraph -->\n<p>แน่นอนว่าต้องใช้เวลาที่สูงขึ้นในการออกแบบและวางแผน<br>เพื่อทำให้ Elasticsearch มี performance ที่ดี<br>การทำงานที่รวดเร็ว และ ถูกต้อง</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph {\"fontSize\":\"medium\"} -->\n<p class=\"has-medium-font-size\"><strong>ดังนั้นทาง <a href=\"https://www.elastic.co/blog/whats-new-elastic-7-11-0-searchable-snapshots-schema-on-read\" target=\"_blank\" rel=\"noreferrer noopener\">Elasticsearch 7.1</a>1 จึงได้คิดแนวทางที่จะลดเวลาในการออกแบบและวางแผน</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>สำหรับการสร้าง schema ลงไปได้ไหม<br>สำหรับการทดลองหรือการปรับเปลี่ยน schema ที่มีบ่อยครั้ง<br>จึงได้สร้างสิ่งที่เรียกว่า <strong>Schema on read</strong> ขึ้นมา<br>ด้วยสิ่งที่เรียกว่า <strong><a rel=\"noreferrer noopener\" href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.11/runtime.html\" target=\"_blank\">Runtime fields</a></strong> แต่ยังเป็น beta version อยู่นะ <br>พร้อมเปลี่ยนแปลงได้เสมอ<br>ดังนั้นลองไปใช้งานกันดู</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>โดยที่เราสามารถกำหนดได้ในระดับ field/property ได้เลยว่า<br>จะให้ทำงานแบบใดระหว่าง write หรือ read<br>น่าสนใจมาก ๆ</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p><strong>Reference Websites</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p><a href=\"https://luminousmen.com/post/schema-on-read-vs-schema-on-write\">https://luminousmen.com/post/schema-on-read-vs-schema-on-write</a></p>\n<!-- /wp:paragraph -->","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"22a8aaabc684894dcd3da1c8cc0abdf4f9af287a4dc65aabe1fb90ee7cc65dc2","category":"Thai"}