{"title":"ทำความรู้จักกับ Dapr (Distributed application runtime)","link":"https://www.somkiat.cc/introduction-to-dapr/","date":1613725548000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2021/02/overview-150x150.png\" class=\"attachment-post-thumbnail size-post-thumbnail wp-post-image\" alt=\"\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/02/overview-150x150.png 150w, https://www.somkiat.cc/wp-content/uploads/2021/02/overview-75x75.png 75w\" sizes=\"(max-width: 150px) 100vw, 150px\" /></p><!-- wp:paragraph -->\n<p>เห็นใน feed มีสิ่งที่น่าสนใจคือ <strong><a href=\"https://dapr.io/\" target=\"_blank\" rel=\"noreferrer noopener\">Dapr</a> (Distributed application runtime)<br></strong>คำถามแรกคือ มันคืออะไร<br>ถูกสร้างมาเพื่ออะไร<br>จึงทำการอ่านและสรุปไว้นิดหน่อย</p>\n<!-- /wp:paragraph -->\n\n\n<span id=\"more-21494\"></span>\n\n\n<!-- wp:paragraph {\"customFontSize\":25} -->\n<p style=\"font-size:25px\"><strong>Distributed application runtime คืออะไร</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>ระบบส่วนใหญ่จะทำงานแบบกระจายหรือ Distributed อยู่แล้ว<br>นั่นคือระบบต่าง ๆ กระจายทำงานของตนเองไป<br>แต่ว่าส่วนงานต่าง ๆ ต้องทำงานร่วมกัน<br>จึงจำเป็นต้องการตัวจัดการต่าง ๆ ดังนี้</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list -->\n<ul><li><strong>State management</strong> ไม่ว่าจะอยู่ใน Data store ทั้ง RDBMS และ NoSQL เพื่อจัดการกับ state ต่าง ๆ ของระบบงาน</li><li><strong>การติดต่อสื่อสารระหว่าง system/service/component</strong> ซึ่งมีทั้งแบบ service-to-service และ event-driven (Pub/Sub)</li><li><strong>ในการติดต่อสื่อสารแบบ service-to-service</strong> จำเป็นต้องมีการจัดการเรื่อง retry, rate limit และ circuite breaking อีกด้วย เพื่อให้การทำงานของระบบน่าเชื่อถือมากขึ้น</li><li><strong>เรื่องของ Observability</strong> ทั้ง Distributed tracing, Health check, Logging และ Metrics</li><li><strong>จัดการ resource</strong> ต่าง ๆ เช่น Secret เป็นต้น</li></ul>\n<!-- /wp:list -->\n\n<!-- wp:paragraph -->\n<p>นี่คือ สิ่งพื้นฐานสำหรับระบบที่ทำงานแบบกระจาย</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph {\"customFontSize\":25} -->\n<p style=\"font-size:25px\"><strong>โดยท่ีทาง Microsoft ได้สร้าง open source project ชื่อว่า Dapr ออกมา</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>เพื่อช่วยจัดการระบบงานตามความต้องการพื้นฐานที่อธิบายมา<br>เป็น implementation ของ Distributed application runtime นั่นเอง<br>ทำให้สามารถจัดการระบบงานในรูปแบบต่าง ๆ ใน runtime เดียวกันได้</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:image {\"id\":21498,\"sizeSlug\":\"large\",\"className\":\"is-style-default\"} -->\n<figure class=\"wp-block-image size-large is-style-default\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/02/building_blocks-1024x416.png\" alt=\"\" class=\"wp-image-21498\"/></figure>\n<!-- /wp:image -->\n\n<!-- wp:paragraph {\"fontSize\":\"medium\"} -->\n<p class=\"has-medium-font-size\"><strong>ในแต่ละส่วนการทำงานของ Dapr จะเป็นอิสระต่อกัน</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>โดยที่ Dapr นั้นจะทำงานเหนือ infrastructure ซึ่งเป็นอะไรก็ได้ <br>ทั้ง On-premise และ Cloud sytem<br>แสดงดังรูป</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:image {\"id\":21496,\"sizeSlug\":\"large\",\"className\":\"is-style-default\"} -->\n<figure class=\"wp-block-image size-large is-style-default\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/02/overview-1024x484.png\" alt=\"\" class=\"wp-image-21496\"/></figure>\n<!-- /wp:image -->\n\n<!-- wp:paragraph {\"customFontSize\":25} -->\n<p style=\"font-size:25px\"><strong>อีกเรื่องคือ Dapr นั้นจะเน้นขึ้นไปใกล้ชิดกับ application มากกว่า Kubernetes</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>ซึ่งสามารถนำ <strong>Dapr</strong> ไป run บน Kubernetes ได้<br>ด้วยการสร้าง sidecar container เข้ามาจัดการ Pods ต่าง ๆ<br>หรือจะ deploy แบบ standalone ก็ได้<br>ต่างจากกับพวก Service mesh เช่น Istio และ Linkerd<br>จะเน้นไปที่ <strong>network infrastructure layer </strong>มากกว่า<br>สำหรับการติดต่อสื่อสารระหว่าง service ผ่าน sidecar<br>แต่ก็ไม่ได้เพิ่ม feature ใด ๆ เข้ามาเลย</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph {\"customFontSize\":25} -->\n<p style=\"font-size:25px\"><strong>ไปเจอรูปนี้มา น่าสนใจดี</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>เกี่ยวกับ Dapr และ Service mesh</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:image {\"id\":21500,\"sizeSlug\":\"large\"} -->\n<figure class=\"wp-block-image size-large\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/02/image-13-1024x377-1.png\" alt=\"\" class=\"wp-image-21500\"/><figcaption>https://blog.nillsf.com/index.php/2020/04/26/introduction-to-dapr/</figcaption></figure>\n<!-- /wp:image -->","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"e49d7b7293a89fe0cc722811344fb9132451d3364ba1474f0eb5a33fbfaffd99","category":"Thai"}