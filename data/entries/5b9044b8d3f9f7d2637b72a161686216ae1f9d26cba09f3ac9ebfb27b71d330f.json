{"title":"ว่าด้วยเรื่องของ Serial ใน PostgreSQL","link":"https://www.somkiat.cc/serial-in-postgresql/","date":1615533239000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2021/03/postgresql-150x150.jpeg\" class=\"attachment-post-thumbnail size-post-thumbnail wp-post-image\" alt=\"\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/03/postgresql-150x150.jpeg 150w, https://www.somkiat.cc/wp-content/uploads/2021/03/postgresql-75x75.jpeg 75w\" sizes=\"(max-width: 150px) 100vw, 150px\" /></p><!-- wp:image {\"id\":21610,\"sizeSlug\":\"large\"} -->\n<figure class=\"wp-block-image size-large\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/03/postgresql.jpeg\" alt=\"\" class=\"wp-image-21610\"/></figure>\n<!-- /wp:image -->\n\n<!-- wp:paragraph -->\n<p>พอดีนั่งอ่านหนังสือไปเรื่อย ๆ <br>ก็เจอคำถามใน <strong><a rel=\"noreferrer noopener\" href=\"https://www.facebook.com/groups/584867114995854/permalink/1900049303477622\" target=\"_blank\">facebook เรื่องของการ กำหนด Primary key ใน PostgreSQL</a></strong><br>ซึ่งมีทั้งการใช้ Serial, Primary key และ Constraint <br>จึงลองไปดูการทำงานของ Serial หน่อยว่าเป็นอย่างไร ?</p>\n<!-- /wp:paragraph -->\n\n\n<span id=\"more-21609\"></span>\n\n\n<!-- wp:paragraph {\"customFontSize\":25} -->\n<p style=\"font-size:25px\"><strong>ปกติแล้วนั้น serial ใน PostgreSQL มันคือ </strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>auto increment ใน MySQL/SQLite นั่นเอง<br>มักจะใช้งานแบบนี้</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:shortcode -->\n[gist id=\"f6e8b94312ecb8bd7ec39ed1ef72107e\" file=\"1.txt\"]\n<!-- /wp:shortcode -->\n\n<!-- wp:paragraph -->\n<p><strong>การทำงานภายในจะเป็นดังนี้</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:shortcode -->\n[gist id=\"f6e8b94312ecb8bd7ec39ed1ef72107e\" file=\"2.txt\"]\n<!-- /wp:shortcode -->\n\n<!-- wp:paragraph {\"fontSize\":\"medium\"} -->\n<p class=\"has-medium-font-size\"><strong>Data type ที่ PostgreSQL มีให้เลือกคือ</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list -->\n<ul><li>SMALLSERIAL ค่าระหว่าง 1-32,767</li><li>SERIAL ค่าระหว่าง 1-2,147,483,647</li><li>BIGSERIAL ค่าระหว่าง 1-9,223,372,036,854,775,807</li></ul>\n<!-- /wp:list -->\n\n<!-- wp:paragraph -->\n<p><strong>โดยที่การทำงานของ Serial เป็นดังนี้</strong><br>ค่าของ sequence number <strong>จะเริ่มที่ 1 และเพิ่มครั้งละ 1</strong><br>Constraint ที่มาพร้อมคือ <strong>NOT NULL</strong><br>ส่วน Primary หรือ Unique key ไม่จำเป็นต้องใส่<br>มันขึ้นอยู่ที่ความต้องการของเราเอง</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph {\"fontSize\":\"medium\"} -->\n<p class=\"has-medium-font-size\"><strong>ถ้าเป็น Primary Key ง่าย ๆ ก็ใช้งานแบบนี้</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:shortcode -->\n[gist id=\"f6e8b94312ecb8bd7ec39ed1ef72107e\" file=\"3.txt\"]\n<!-- /wp:shortcode -->\n\n<!-- wp:paragraph -->\n<p><strong>แต่ถ้าเป็น composite key ก็ใช้งาน constraint จะเหมาะสมกว่า</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:shortcode -->\n[gist id=\"f6e8b94312ecb8bd7ec39ed1ef72107e\" file=\"4.txt\"]\n<!-- /wp:shortcode -->\n\n<!-- wp:paragraph -->\n<p>ลองใช้งานกันดูครับ</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph {\"fontSize\":\"medium\"} -->\n<p class=\"has-medium-font-size\"><strong>Reference Websites</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p><a href=\"https://www.postgresql.org/docs/9.1/datatype-numeric.html\" target=\"_blank\" rel=\"noreferrer noopener\">PostgreSQL Documentation :: Numeric Type</a></p>\n<!-- /wp:paragraph -->","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"5b9044b8d3f9f7d2637b72a161686216ae1f9d26cba09f3ac9ebfb27b71d330f","category":"Thai"}