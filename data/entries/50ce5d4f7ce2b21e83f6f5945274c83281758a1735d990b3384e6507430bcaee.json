{"title":"ใช้งาน Selenium 4 กับ Chrome DevTool APIs","link":"https://www.somkiat.cc/selenium-4-with-chrome-devtools-api/","date":1616939567000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2021/03/selenium-4-devtools-150x150.png\" class=\"attachment-post-thumbnail size-post-thumbnail wp-post-image\" alt=\"\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/03/selenium-4-devtools-150x150.png 150w, https://www.somkiat.cc/wp-content/uploads/2021/03/selenium-4-devtools-75x75.png 75w\" sizes=\"(max-width: 150px) 100vw, 150px\" /></p><!-- wp:image {\"id\":21721,\"width\":511,\"height\":306,\"sizeSlug\":\"large\"} -->\n<figure class=\"wp-block-image size-large is-resized\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/03/selenium-4-devtools-1024x613.png\" alt=\"\" class=\"wp-image-21721\" width=\"511\" height=\"306\"/></figure>\n<!-- /wp:image -->\n\n<!-- wp:paragraph -->\n<p>ใน Selenium 4 นั้นเป็นเหมือนกับการยกเครื่องใหม่ของ Selenium กันเลย<br>โดยหนึ่งใน API ที่เพิ่มเข้ามาก็คือ <strong><a rel=\"noreferrer noopener\" href=\"https://www.selenium.dev/documentation/en/support_packages/chrome_devtools/\" target=\"_blank\">Chrome DevTool APIs</a></strong><br>ทำให้ Selenium สามารถจัดการ browser ที่สร้างมาจาก Chromium ได้<br>ยกตัวอย่างเช่น Chrome, Opera และ Microsoft Edge<br>ช่วยให้ง่ายต่อการ debug และ investigate ปัญหาต่าง ๆ ของ web</p>\n<!-- /wp:paragraph -->\n\n\n<span id=\"more-21720\"></span>\n\n\n<!-- wp:paragraph {\"customFontSize\":25} -->\n<p style=\"font-size:25px\"><strong>มาดูความสามารถที่มีใน Selenium Chrome DevTool APIs</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list -->\n<ul><li>URL filter</li><li>เพิ่ม Header ของ HTTP Request ได้</li><li>Intercept ทั้ง request และ response ที่เข้าและออกจาก browser ทำหน้าที่เป็นเหมือน proxy นั่นเอง</li><li>ดึงข้อมูลเรื่อง performance metric การทำงานทั้ง browser และเรื่องของ network ได้</li><li>จำลองการทำงานของ Network ตามที่เราต้องการ</li><li>จัดการเรื่อง security</li><li>ทำงานกับ console</li><li>จัดการเรื่องของ Geo Location</li></ul>\n<!-- /wp:list -->\n\n<!-- wp:paragraph -->\n<p><strong>ตัวอย่างการใช้งานก็ไม่ยาก</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>มาดูตัวอย่างง่าย ๆ ที่พัฒนาด้วยภาษา Java<br></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph {\"customFontSize\":25} -->\n<p style=\"font-size:25px\"><strong>เริ่มจากการเพิ่ม dependency ของ <a href=\"https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\" target=\"_blank\" rel=\"noreferrer noopener\">Selenium 4 Java</a> มา</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>ซึ่งยังเป็น beta version อยู่</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:shortcode -->\n[gist id=\"0f9342fa5a34f97bc2cdb5148eb99007\" file=\"pom.xml\"]\n<!-- /wp:shortcode -->\n\n<!-- wp:paragraph {\"customFontSize\":25} -->\n<p style=\"font-size:25px\"><strong>การสร้าง session การทำงานของ DevTools</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>ซึ่งสร้างจาก <a href=\"https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver\" target=\"_blank\" rel=\"noreferrer noopener\">ChromeDriver</a> ผลที่ได้คือ เปิด Chrome ขึ้นมา ดังนี้</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:shortcode -->\n[gist id=\"0f9342fa5a34f97bc2cdb5148eb99007\" file=\"1.java\"]\n<!-- /wp:shortcode -->\n\n<!-- wp:paragraph {\"customFontSize\":25} -->\n<p style=\"font-size:25px\"><strong>ทำการ Ignore certificated ที่ Errorถ้านึกไม่ออก</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>คือ หน้า error แบบนี้ จะทำการ ignore ไปเลย</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:image {\"id\":21726,\"width\":511,\"height\":339,\"sizeSlug\":\"large\"} -->\n<figure class=\"wp-block-image size-large is-resized\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/03/Screen-Shot-2564-03-28-at-20.34.16-1024x681.png\" alt=\"\" class=\"wp-image-21726\" width=\"511\" height=\"339\"/></figure>\n<!-- /wp:image -->\n\n<!-- wp:paragraph -->\n<p>ตัวอย่าง code</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:shortcode -->\n[gist id=\"0f9342fa5a34f97bc2cdb5148eb99007\" file=\"2.java\"]\n<!-- /wp:shortcode -->\n\n<!-- wp:paragraph -->\n<p>เพียงเท่านี้ก็สามารถใช้งานได้แล้ว<br>ลองศึกษาเพิ่มเติมกันดูครับ</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph {\"fontSize\":\"medium\"} -->\n<p class=\"has-medium-font-size\"><strong>Reference Websites</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list -->\n<ul><li><a rel=\"noreferrer noopener\" href=\"https://medium.com/@ohanaadi/chrome-devtools-and-selenium-4-eadab5d755b7\" target=\"_blank\">Demo selenium 4 and DevTools API</a></li><li><a rel=\"noreferrer noopener\" href=\"https://developers.google.com/web/tools/chrome-devtools\" target=\"_blank\">Chrome DevTools</a></li><li><a href=\"https://www.selenium.dev/documentation/en/support_packages/chrome_devtools/\" target=\"_blank\" rel=\"noreferrer noopener\">Official :: Selenium 4 DevTools</a></li></ul>\n<!-- /wp:list -->\n\n<!-- wp:paragraph -->\n<p></p>\n<!-- /wp:paragraph -->","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"50ce5d4f7ce2b21e83f6f5945274c83281758a1735d990b3384e6507430bcaee","category":"Thai"}