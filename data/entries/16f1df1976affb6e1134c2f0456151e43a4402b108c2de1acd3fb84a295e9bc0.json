{"title":"Overflow Issues In CSS","link":"https://smashingmagazine.com/2021/04/css-overflow-issues/","date":1618398000000,"content":"<p>If you’re a front-end developer, you may have come across horizontal scrollbar issues, especially on mobile. Because there are many causes of scrollbar problems, there is no straightforward solution. Some issues can be fixed quickly, and some need a little debugging skill.</p>\n<h3>What Is an Overflow Issue?</h3>\n<p>Before discussing overflow issues, we should ascertain what one is. An overflow issue occurs when a horizontal scrollbar unintentionally appears on a web page, allowing the user to scroll horizontally. It can be caused by different factors.</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/a4846411-468f-4afe-9f11-0b4a0b80bea6/overflow-intro.jpg\" /></p>\n<p>It could occur because of unexpectedly wide content or a fixed-width element that is wider than the viewport. We will explore all of the causes in this article.</p>\n<h3>How to Spot Overflow</h3>\n<p>An important part of solving this issue is noticing it in the first place. If we know when and where it happens, we can home in on that part of a web page. There are different ways to detect overflow, from manually scrolling to the left or right or by using JavaScript.</p>\n<p>Let’s explore the ways to detect overflow.</p>\n<h4>Scrolling to the Left or Right</h4>\n<p>The first way to discover an overflow issue is by scrolling the page horizontally. If you’re able to scroll, this is a warning that something is wrong with the page.</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/68f6caf4-c973-4674-8949-4bf0545479c6/overflow-notice-1.jpg\" /></p>\n<h4>Using JavaScript to Find Elements Wider Than the Body</h4>\n<p>We can add a <a href=\"https://css-tricks.com/findingfixing-unintended-body-overflow/\">snippet to the browser</a> console to show any elements wider than the body. This is handy for pages with a lot of elements.</p>\n<pre><code>var docWidth = document.documentElement.offsetWidth;\n\n[].forEach.call(\n  document.querySelectorAll('*'),\n  function(el) {\n    if (el.offsetWidth &gt; docWidth) {\n      console.log(el);\n    }\n  }\n);\n</code></pre>\n\n<h4>CSS Outline to the Rescue</h4>\n<p>Applying CSS’ <code>outline</code> to all elements on the page gives us a hint about elements that go beyond the page’s <code>body</code>.</p>\n<pre><code>* {\n    outline: solid 1px red;\n}\n</code></pre>\n\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/d8e3b1f6-773a-401f-89a7-4a591e783c87/overflow-notice-outline.jpg\" /></p>\n<p>Even better, Addy Osmani <a href=\"https://gist.github.com/addyosmani/fd3999ea7fce242756b1\">has a script</a> that adds an outline to each element on the page with a random color.</p>\n<div>\n <pre><code>[].forEach.call($$(\"<em>\"),function(a){a.style.outline=\"1px solid #\"+(~~(Math.random()</em>(1&lt;&lt;24))).toString(16)})\n</code></pre>\n</div>\n\n<h4>Overflow Label in Firefox</h4>\n<p>Firefox has a helpful feature that tells you which elements are causing overflow. Hopefully, other browsers will add this!</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/a7704c6c-0662-4c10-944d-10c0a16fe168/overflow-notice-firefox-label.jpg\" /></p>\n<h4>Deleting Page Elements</h4>\n<p>Another common way is to open the browser’s DevTools and start deleting elements one by one. Once the issue disappears, then the section you’ve just deleted is probably the cause. I found this method useful in cases where you’ve identified the issue but don’t know why it’s happening.</p>\n<p>Once you’ve found where the overflow is happening, then it will be easier to make a <a href=\"https://css-tricks.com/reduced-test-cases/\">reduced test case</a> for further debugging.</p>\n<h3>Common Overflow Issues</h3>\n<h3>Fixed-Width Elements</h3>\n<p>One of the most common causes of overflow is fixed-width elements. Generally speaking, don’t fix the width of any element that should work at multiple viewport sizes.</p>\n<pre><code>.element {\n    /* Don’t do this */\n    width: 400px;\n}\n</code></pre>\n\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/48a82f58-9002-4c4d-b3aa-e63580035895/common-fixed-width.jpg\" /></p>\n<h4>Using Flexbox Without Wrapping</h4>\n<p>As useful as Flexbox is, not allowing items to wrap to a new line when no space is available is risky.</p>\n<pre><code>.parent {\n    display: flex;\n}\n</code></pre>\n\n<p>Here, flex items might cause horizontal overflow in case the space isn’t enough to fit them all in one line:</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/72120f2f-1674-439d-bb1e-7b16cbd929c2/common-flexbox.jpg\" /></p>\n<p>Make sure to use <code>flex-wrap: wrap</code> when the flex parent is supposed to work at different viewport sizes.</p>\n<pre><code>.parent {\n    display: flex;\n    /* Do this */\n    flex-wrap: wrap;\n}\n</code></pre>\n\n<h4>CSS Grid</h4>\n<p>When you’re using CSS grid, designing responsively is important. Take the following grid:</p>\n<pre><code>.wrapper {\n    display: grid;\n    grid-template-columns: 1fr 300px 1fr;\n    grid-gap: 1rem;\n}\n</code></pre>\n\n<p>The example above will work great unless the viewport is narrower than 300 pixels. If it is, then overflow will occur.</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/2e6ce014-0b09-4ad2-9bf0-0ebb2a06a008/common-grid.jpg\" /></p>\n<p>To avoid such an issue, use grid only when enough space is available. We can use a CSS media query like so:</p>\n<pre><code>.wrapper {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-gap: 1rem;\n}\n\n@media (min-width: 400px) {\n    .wrapper {\n        grid-template-columns: 1fr 300px 1fr;\n    }\n}\n</code></pre>\n\n<h4>Long Words</h4>\n<p>Another common reason for overflow is a long word that doesn’t fit in the viewport. This happens more on mobile because of the viewport’s width.</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/0bfe982a-87ba-4418-a781-e40275853a64/common-long-word.png\" /></p>\n<p>To fix this, we need to use the <code>overflow-wrap</code> property.</p>\n<pre><code>.article-content p {\n  overflow-wrap: break-word;\n}\n</code></pre>\n\n<p>I’ve written a detailed article on <a href=\"https://ishadeed.com/article/css-short-long-content/\">handling both short and long content</a> with CSS.</p>\n<p>This fix is particularly useful with user-generated content. A perfect example of this is a comments thread. A user might paste a long URL in their comment, and this should be handled with the <code>overflow-wrap</code> property.</p>\n<h4>Minimum Content Size in CSS Flexbox</h4>\n<p>Another interesting cause of overflow is the minimum content size in Flexbox. What does this mean?</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/5e625ca3-f71e-4c0b-b22c-7a6c6d276bff/common-min-content-size-flex.png\" /></p>\n<p>According to the <a href=\"https://www.w3.org/TR/css-flexbox-1/\">specification</a>:</p>\n<blockquote>“By default, flex items won’t shrink below their minimum content size (the length of the longest word or fixed-size element). To change this, set the <code>min-width</code> or <code>min-height</code> property.”</blockquote>\n\n<p>This means that a flex item with a long word won’t shrink below its minimum content size.</p>\n<p>To fix this, we can either use an <code>overflow</code> value other than <code>visible</code>, or we can set <code>min-width: 0</code> on the flex item.</p>\n<pre><code>.card__name {\n    min-width: 0;\n    overflow-wrap: break-word;\n}\n</code></pre>\n\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/40adc1f1-96b6-4147-b4fb-bebcbeb547a3/common-min-content-size-flex-2.png\" /></p>\n<h4>Minimum Content Size in CSS Grid</h4>\n<p>As with Flexbox, we have the same concept of minimum content size with CSS Grid. However, the solution is a bit different. CSS-Tricks refers to it as “<a href=\"https://css-tricks.com/preventing-a-grid-blowout/\">grid blowout</a>”.</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/1238c3e5-9c1a-44f2-8837-8db9df348d86/common-min-content-size-grid.jpg\" /></p>\n<p>Let’s explore the issue. Suppose we have a wrapper with an aside and a main section laid out with CSS grid.</p>\n<pre><code>.wrapper {\n    display: grid;\n    grid-template-columns: 248px minmax(0, 1fr);\n    grid-gap: 40px;\n}\n</code></pre>\n\n<p>Also, we have a scrolling section in the main section, for which I’ve used flexbox.</p>\n<pre><code>.section {\n    display: flex;\n    gap: 1rem;\n    overflow-x: auto;\n}\n</code></pre>\n\n<p>Notice that I didn’t add <code>flex-wrap</code>, because I want the flex items to be on the same line. This didn’t work, however, and it’s causing horizontal overflow.</p>\n<p>To fix this, we need to use <code>minmax()</code> instead of <code>1fr</code>. This way, the main element’s minimum content size won’t be <code>auto</code>.</p>\n<pre><code>.wrapper {\n  display: grid;\n  grid-template-columns: 248px minmax(0, 1fr);\n  grid-gap: 40px;\n}\n</code></pre>\n\n<h4>Negative Margins</h4>\n<p>An element positioned off screen can cause overflow. Usually, that is because the element has a negative margin.</p>\n<p>In the following example, we have an element with a negative margin, and the document’s language is English (i.e. left to right).</p>\n<pre><code>.element {\n    position: absolute;\n    right: -100px;\n}\n</code></pre>\n\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/f6767fed-9691-4e42-b5c6-b825e79c98f9/element-off-screen.jpg\" /></p>\n<p>Interestingly, when the element is positioned on the opposite side, there is no overflow. Why is that?</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/d9645a40-9791-4074-ade6-e2df8bea6f57/element-off-screen-2.jpg\" /></p>\n<p>I faced this issue lately and <a href=\"https://ishadeed.com/article/clip-scrollable-areas-inline-start/\">wrote about it</a>. It turns out that this behavior is intentional. According to the <a href=\"https://www.w3.org/TR/css-overflow-3/#scrolling-direction\">CSS specification</a>:</p>\n<blockquote>“UAs must clip the scrollable overflow area of scroll containers on the block-start and inline-start sides of the box (thereby behaving as if they had no scrollable overflow on that side).”</blockquote>\n\n<p>For an English document, the inline-start side is the <strong>left</strong> side, so any element positioned off-screen on the left will be clipped, and thus there will be no overflow.</p>\n<p>If positioning an element off screen is really necessary, make sure to apply <code>overflow: hidden</code> to the parent to avoid any overflow.</p>\n<h4>Images Without <code>max-width</code></h4>\n<p>If you don’t take care of large images ahead of time, you will see overflow. Make sure to set <code>max-width: 100%</code> on all images.</p>\n<pre><code>img {\n    max-width: 100%;\n}\n</code></pre>\n\n<h4>Viewport Units</h4>\n<p>Using <code>100vw</code> does have a downside, which is that it can cause overflow when the scrollbar is visible. On macOS, <code>100vw</code> is fine and won’t cause horizontal scroll.</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/3a9ee944-57d6-4e6e-9c3d-b674020dfe5d/body-100vw.png\" /></p>\n<p>On Windows, scrollbars are always visible by default, so overflow will occur.</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/1ce6aff7-5396-486b-993d-f3f9936790de/body-100vw-1.png\" /></p>\n<p>The reason for this is that with the value <code>100vw</code>, there is no awareness of the <strong>width of the browser’s vertical scrollbar</strong>. As a result, the <code>width</code> will be equal to <code>100vw</code> plus the scrollbar’s width. Unfortunately, there is no CSS fix to that.</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/f8c0d360-bc6b-4a45-bbd2-bce511f5324f/body-100vw-2.png\" /></p>\n<p>However, we can <a href=\"https://jaketrent.com/post/100vw-not-scrollbar-aware\">use JavaScript</a> to measure the viewport’s width excluding the scrollbar.</p>\n<div>\n <pre><code>function handleFullWidthSizing() {\n  const scrollbarWidth = window.innerWidth - document.body.clientWidth\n\n  document.querySelector('myElement').style.width = <code>calc(100vw - ${scrollbarWidth}px)</code>\n}\n</code></pre>\n</div>\n\n<h4>Injected Ads</h4>\n<p>Ads injected on page load can cause overflow if they’re wider than their parent. Add <code>overflow-x: hidden</code> to the parent element to prevent this.</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/da0ac033-0cc5-458a-b6cc-4700777871bf/common-ad.jpg\" /></p>\n<p>Double-check every ad on the website to ensure that it’s not causing overflow.</p>\n<h3>Is Applying <code>overflow-x: hidden</code> to <code>body</code> a Good Idea?</h3>\n<p>Opting for <code>overflow-x: hidden</code> is like putting on a bandage without addressing the problem. If you have overflow, then it’s better to solve the root issue.</p>\n<p>Moreover, applying <code>overflow-x: hidden</code> to the <code>body</code> element is not a good idea because <code>position: sticky</code> won’t work if a parent has <code>overflow-x: hidden</code>.</p>\n<h3>How to Avoid Overflow in CSS</h3>\n<p>Below are things to check to reduce overflow issues in CSS. I hope you find it useful!</p>\n<h4>Test With Real Content</h4>\n<p>Nothing beats testing with real content on a website. In doing so, you ensure that the layout can handle different varieties of content.</p>\n<h4>Account for User-Generated Content</h4>\n<p>For a component like a comments thread, account for cases in which the user will paste a long URL or type a long word, as explained above.</p>\n<h4>Use CSS Grid and Flexbox Carefully</h4>\n<p>As useful as CSS grid and flexbox are, they can easily cause overflow if used incorrectly. As we discussed, not using <code>flex-wrap: wrap</code> can cause overflow, as can <code>grid-template-columns: 1fr 350px</code> when the screen is narrower than 350 pixels.</p>\n<h4>Further Reading on SmashingMag:</h4>\n\n<ul>\n  <li><a href=\"https://www.smashingmagazine.com/2021/02/things-you-can-do-with-css-today/\">Things You Can Do With CSS Today</a></li>\n  <li><a href=\"https://www.smashingmagazine.com/2021/03/complete-guide-accessible-front-end-components/\">Accessible Front-End Components</a></li>\n  <li><a href=\"https://www.smashingmagazine.com/2021/03/css-auditing-tools/\">CSS Auditing Tools</a></li>\n  <li><a href=\"https://www.smashingmagazine.com/2021/03/css-generators/\">CSS Generators</a></li>\n  <li>...and more in our <a href=\"https://www.smashingmagazine.com/guides/css-layout/\">CSS Layout Guide</a>.</li>\n</ul>","author":"","siteTitle":"Articles on Smashing Magazine — For Web Designers And Developers","siteHash":"ab069ca35bf300e9db0da36f49701f66485a5b0d2db0471dfeee07cef6204939","entryHash":"16f1df1976affb6e1134c2f0456151e43a4402b108c2de1acd3fb84a295e9bc0","category":"Tech"}