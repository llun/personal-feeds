{"title":"จัดโครงสร้างของ Test ใน Jest แบบไหนดี ?","link":"https://www.somkiat.cc/organize-test-with-jest/","date":1617197451000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2021/03/test-with-jest-150x150.png\" class=\"attachment-post-thumbnail size-post-thumbnail wp-post-image\" alt=\"\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/03/test-with-jest-150x150.png 150w, https://www.somkiat.cc/wp-content/uploads/2021/03/test-with-jest-75x75.png 75w\" sizes=\"(max-width: 150px) 100vw, 150px\" /></p><!-- wp:image {\"id\":21756,\"sizeSlug\":\"large\"} -->\n<figure class=\"wp-block-image size-large\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/03/test-with-jest-1024x529.png\" alt=\"\" class=\"wp-image-21756\"/></figure>\n<!-- /wp:image -->\n\n<!-- wp:paragraph -->\n<p>จากคำถามจากกลุ่มใน facebook :: <strong><a href=\"https://www.facebook.com/groups/react.th/permalink/4035993509754708/\" target=\"_blank\" rel=\"noreferrer noopener\">ReactJS Developer Thailand</a></strong> <br>เรื่อง การจัดโครงสร้าง folder ของ test ใน Jest สำหรับ React <br>ว่าควรเป็นอย่างไรดี ?</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>จากสำหรับ React ที่สร้างด้วย <strong><a rel=\"noreferrer noopener\" href=\"https://github.com/facebook/create-react-app\" target=\"_blank\">Create React App</a></strong><br>จะทำการสร้าง test ไว้ที่เดียวกับ production code ให้เลย <br>ซึ่งไม่แปลกอะไรหรือจะเปลี่ยนใหม่ตามใจเราก็ได้</p>\n<!-- /wp:paragraph -->\n\n\n<span id=\"more-21755\"></span>\n\n\n<!-- wp:paragraph {\"customFontSize\":25} -->\n<p style=\"font-size:25px\"><strong>สำหรับระบบอื่น ๆ ที่พัฒนาด้วยภาษา JavaScript</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>ทั้งฝั่ง Frontend และ Backend แล้วควรจะต้องเป็นแบบไหนละ ?</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p><strong><a rel=\"noreferrer noopener\" href=\"https://jestjs.io/docs/configuration\" target=\"_blank\">ในเอกสารของ Jest</a> ก็บอก<strong>เพียง</strong>ว่า</strong><br>ขอให้ชื่อ file หรือ folder ตามที่กำหนดไว้ก็พอแล้ว<br>ที่เหลือก็แล้วแต่เราจะใช้งาน<br>หรือสามารถเปลี่ยน naming convention ใหม่ตามใจเราได้อีก<br><br><strong><em>แต่ถ้าทีมไม่กำหนดโครงสร้างกันไว้ก่อน <br>คิดว่าน่าจะมั่วดังนั้นเรามากำหนดกันหน่อยดีไหม ?</em></strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph {\"customFontSize\":25} -->\n<p style=\"font-size:25px\"><strong>ยกตัวอย่างจากที่ผมทำและเห็นบ่อย ๆ </strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>มักจะทำดังนี้</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list -->\n<ul><li>แยก test ไปไว้ใน folder <strong>tests</strong> หรือ <strong>__tests__</strong> กันไปเลย</li><li>เขียน test ไว้ที่เกียวกับ production code ไปเลย อาจจะมี <strong>suffix</strong> ด้วย <strong>tests</strong> หรือ <strong>specs</strong> ก็ว่าไป</li></ul>\n<!-- /wp:list -->\n\n<!-- wp:paragraph -->\n<p><strong>แต่เพื่อความสนุกสนานในการเขียน test เพิ่มขึ้น</strong><br>ก็มักจะแยกตาม level ของ test ใน folder tests เข้าไปอีก ยกตัวอย่างเช่น</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list -->\n<ul><li>unit test</li><li>integration test</li><li>component test</li><li>end-to-end test</li></ul>\n<!-- /wp:list -->\n\n<!-- wp:paragraph -->\n<p>หรือบางคนอาจจะใส่ test level ในชื่อไฟล์ไปอีกด้วย<br>เช่น <strong>index.unit.tests.js</strong> เป็นต้น<br>แต่เคยทำแล้ว มันแปลก ๆ ยังไงก็ไม่รู้<br>แต่ก็เป็นอีกทางเลือกนะ</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph {\"customFontSize\":25} -->\n<p style=\"font-size:25px\"><strong>จะเห็นได้ว่า เรื่องของโครงสร้างของ test มีหลากหลายรูปแบบมาก ๆ</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>นั่นหมายความว่า <br>วันนี้คุณอาจจะมีรูปแบบหนึ่งแต่เมื่อเวลาผ่านไป <br>คุณอ่านจะพบวิธีการที่ดีกว่า หรือ เหมาะสมกว่าก็เป็นไปได้<br>ถ้าเรากลับมาคุย มา review และ refactor กันบ่อย ๆ<br></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p><em><strong>เรื่องของโครงสร้าง จำเป็นต้องมีการปรับปรุงให้เหมาะสมเสมอ</strong></em></p>\n<!-- /wp:paragraph -->","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"4b4d8a81f03d72c919fbac3fd44d503b13771a3fa28a0d1f4da7b6a6c0806301","category":"Thai"}