{"title":"Terraform AzureAD Provider Now Supports Microsoft Graph","link":"https://www.hashicorp.com/blog/terraform-azuread-provider-now-supports-microsoft-graph","date":1621954800000,"content":"<p><a href=\"https://docs.microsoft.com/en-us/graph/overview\">Microsoft Graph</a> is a unified API for accessing <a href=\"https://azure.microsoft.com/en-us/services/active-directory/\">Azure Active Directory</a> and the <a href=\"https://www.microsoft.com/en-us/microsoft-365?\">Microsoft 365</a> productivity suite. In addition to the new Microsoft 365 functionality, it replaces the Azure Active Directory Graph API, which is scheduled to be deactivated in June 2022. Ahead of this timeline, we are pleased to announce support for Microsoft Graph in the <a href=\"https://registry.terraform.io/providers/hashicorp/azuread/latest\">Terraform AzureAD provider</a>, offering immediate benefits to practitioners.</p>\n<ul>\n<li>Microsoft Graph produces faster response times than Azure Active Directory Graph and completes asynchronous actions more quickly.</li>\n<li>It returns more up to date information from Azure Active Directory, reducing the likelihood of consistency-related errors during a Terraform apply operation.</li>\n</ul>\n<p>To assist practitioners in transitioning to Microsoft Graph, we are launching initial beta support in version 1.5.0 of the AzureAD provider. Although the two APIs are considerably different, we have worked hard to maintain compatibility and most Terraform configurations should continue to work unchanged.</p>\n<h2><a href=\"#how-to-get-started\">»</a><a></a>How To Get Started</h2>\n<p>We encourage you to try out this support for Microsoft Graph, although we do not recommend usage in production until after the beta period. In order to use Microsoft Graph in the Terraform AzureAD provider, you will need:</p>\n<ul>\n<li>Terraform v0.12 or greater installed</li>\n<li>Version 1.5.0 or later of the Terraform AzureAD provider</li>\n</ul>\n<p>You can enable this support with a feature flag in your provider configuration block.</p><pre><code>provider \"azuread\" {\n  use_microsoft_graph = true\n}</code></pre><p>Alternatively, you can set the following environment variable to any non-empty value.</p><pre><code># sh\nexport AAD_USE_MICROSOFT_GRAPH=1\n\n# PowerShell\n$env:AAD_USE_MICROSOFT_GRAPH = \"1\"</code></pre><h2><a href=\"#upgrading-the-terraform-azuread-provider-to-v1-5-0\">»</a><a></a>Upgrading the Terraform AzureAD Provider to v1.5.0</h2>\n<p>Upgrading the Terraform AzureAD provider to version 1.5.0 from version 1.0.0 or later should maintain compatibility with most Terraform configurations. However, due to the nature of the upcoming transition to Microsoft Graph in version 2.0, a number of deprecations have been published that will appear when you run <code>terraform plan</code>. Although it’s not necessary to make these changes immediately, we encourage practitioners to review these warnings and plan to update their configurations to prepare for version 2.0.</p>\n<p>For more context and guidance on these deprecations and other upcoming changes related to the switch to Microsoft Graph, practitioners can review the <a href=\"https://registry.terraform.io/providers/hashicorp/azuread/latest/docs/guides/microsoft-graph\">AzureAD v2.0 and Microsoft Graph upgrade guide</a> on the Terraform Registry.</p>\n<h2><a href=\"#future-developments\">»</a><a></a>Future Developments</h2>\n<p>This support is the first big step in our roadmap for transitioning entirely to Microsoft Graph and enabling new features and functionality that were previously unattainable. The next major release of the provider, 2.0, will use Microsoft Graph exclusively and we are looking forward to implementing some of its new features:</p>\n<ul>\n<li>\n<p>Many of the latest features of Azure Active Directory, including newly available properties of <a href=\"https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app\">Application Registrations</a> and <a href=\"https://docs.microsoft.com/en-us/azure/active-directory/develop/app-objects-and-service-principals\">Service Principals</a>, enabling better integration with the <a href=\"https://www.youtube.com/watch?v=y_fgJAatVhk\">Microsoft Identity Platform</a>.</p>\n</li>\n<li>\n<p>A much wider range of Azure Active Directory features, such as Directory Role Assignments, App Role Assignments, Administrative Units, and even premium features such as Conditional Access and Entitlement Management.</p>\n</li>\n</ul>\n<h2><a href=\"#feedback\">»</a><a></a>Feedback</h2>\n<p>We would love to hear your feedback in trying out support for Microsoft Graph. If you experience any issues, please report them on the <a href=\"https://github.com/hashicorp/terraform-provider-azuread/issues\">Terraform AzureAD provider issue tracker</a>. For more detailed information on upgrading to v1.5, and eventually v2.0, of the Terraform AzureAD provider, please review the <a href=\"https://registry.terraform.io/providers/hashicorp/azuread/latest/docs/guides/microsoft-graph\">upgrade guide</a>.</p>","author":"Tom Bamford","siteTitle":"HashiCorp Blog","siteHash":"219aa6310b3388f2335eba49871f4df9581f2c58eaeb5e498363b54e835b7001","entryHash":"3c4712113bca5c16e37f03499d70a6f67424a9edc966b763e0221576d8d67bdd","category":"Tech"}