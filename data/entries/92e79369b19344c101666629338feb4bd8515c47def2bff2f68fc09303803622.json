{"title":"New Amazon FinSpace Simplifies Data Management and Analytics for Financial Services","link":"https://aws.amazon.com/blogs/aws/amazon-finspace-simplifies-data-management-and-analytics-for-financial-services/","date":1620082116000,"content":"<p>Managing data is the core of the Financial Services Industry (FSI). I worked for private banking and fund management companies and helped analysts to collect, aggregate, and analyze hundreds of petabytes of data from internal data sources, such as portfolio management, order management, and accounting systems, but also from external data sources, such as real-time market feeds and historical equities pricing and alternative data systems. During that period, I spent my time trying to access data across organizational silos, to manage permissions, and to build systems to automate recurring tasks in ever-growing and more complex environments.</p> \n<p>Today, we are launching a solution that would have reduced the time I spent on such projects: <strong><a href=\"https://aws.amazon.com/finspace\">Amazon FinSpace</a></strong> is a data management and analytics solution purpose-built for the financial services industry. <span>Amazon FinSpace</span> reduces the time it takes to find and prepare data from months to minutes so analysts can spend more time on analysis.</p> \n<p><strong><span>What Our Customers Told Us</span><br /> </strong>Before data can be combined and analyzed, analysts spend weeks or months to find and access data across multiple departments, each specialized by market, instrument, or geography. In addition to this logical segregation, data is also physically isolated in different IT systems, file systems, or networks. Because access to data is strictly controlled by governance and policy, analysts must prepare and explain access requests to the compliance department. This is a very manual, ad-hoc process.</p> \n<p>Once granted access, they often must perform computational logic (such as <a href=\"https://en.wikipedia.org/wiki/Bollinger_Bands\">Bollinger Bands</a>, <a href=\"https://en.wikipedia.org/wiki/Moving_average#Exponential_moving_average\">Exponential Moving Average</a>, or <a href=\"https://en.wikipedia.org/wiki/Average_true_range\">Average True Range</a>) on larger and larger datasets to prepare data for analysis or to derive information out of the data. These computations often run on servers with constrained capacity, as they were not designed to handle the size of workloads in the modern financial world. Even server-side systems are struggling to scale up and keep up with the ever-growing size of the datasets they need to store and analyze.</p> \n<p><span><strong>How <span>Amazon FinSpace</span> Helps<br /> </strong></span><span>Amazon FinSpace</span> removes the undifferentiated heavy lifting required to store, prepare, manage, and audit access to data. It automates the steps involved in finding data and preparing it for analysis. <span>Amazon FinSpace</span> stores and organizes data using industry and internal data classification conventions. Analysts connect to the <span>Amazon FinSpace</span> web interface to search for data using familiar business terms (“S&amp;P500,” “CAC40,” “private equity funds in euro”).</p> \n<p>Analysts can prepare their chosen datasets using a built-in library of more than 100 specialized functions for time series data. They can use the integrated <a href=\"https://jupyter.org/\">Jupyter</a> notebooks to experiment with data, and parallelize these financial data transformations at the scale of the cloud in minutes. Finally, <span>Amazon FinSpace</span> provides a framework to manage data access and to audit who is accessing what data and when. It tracks usage of data and generates compliance and audit reports.</p> \n<p><span>Amazon FinSpace</span> also makes it easy to work on historical data. Let’s imagine I built a model to calculate credit risk. This model relies on interest rate and inflation rate. These two rates get updated frequently. The risk level associated with a customer is not the same today as it was a few months ago, when inflation and interest rates were different. When data analysts are looking at data as it is now and as it was in the past, they call it <a href=\"https://en.wikipedia.org/wiki/Bitemporal_Modeling\">bitemporal modeling</a>. <span>Amazon FinSpace</span> makes it easy to go back in time and to compare how models are evolving alongside multiple dimensions.</p> \n<p>To show you how <span>Amazon FinSpace</span> works, let’s imagine I have a team of analysts and data scientists and I want to provide them a tool to search, prepare, and analyze data.</p> \n<p><span><strong>How to Create an <span>Amazon FinSpace</span> Environment</strong></span><br /> As an AWS account administrator, I create a working environment for my team of financial analysts. This is a one-time setup.</p> \n<p>I navigate to the <span>Amazon FinSpace</span> <a href=\"https://us-east-1.console.aws.amazon.com/finspace/home\">console</a> and click <strong>Create Environment</strong>:</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-16_15-05-12.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-16_15-05-12-1024x370.png\" /></a></p> \n<p>I give my environment a name. I select a <span>KMS</span> encryption key that will serve to encrypt data at rest. Then I choose either to integrate with <span>AWS Single Sign-On</span> or to manage usernames and passwords in <span>Amazon FinSpace</span>. <a href=\"https://aws.amazon.com/single-sign-on/\">AWS Single Sign-On</a> integration allows your analysts to authenticate with external systems, such as a corporate Active Directory, to access the <span>Amazon FinSpace</span> environment. For this example, I choose to manage the credentials by myself.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-15_10-51-14.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-15_10-51-14-1024x855.png\" /></a></p> \n<p>I create a superuser who will have administration permission on the <span>Amazon FinSpace</span> environment. I click <strong>Add Superuser</strong>:</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-16_14-11-31.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-16_14-11-31-1024x409.png\" /></a><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-16_14-11-55.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-16_14-11-55-1024x538.png\" /></a>I take a note of the temporary password. I copy the text of the message to send to my superuser. This message includes the connection instructions for the initial connection to the environment.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-16_14-12-26.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-16_14-12-26-1024x697.png\" /></a></p> \n<p>The superuser has permission to add other users and to manage these users’ permissions in the <span>Amazon FinSpace</span> environment itself.</p> \n<p>Finally, and just for the purpose of this demo, I choose to import an initial dataset. This allows me to start with some data in the environment. Doing so is just a single click in the console. The storage cost of this dataset is $41.46 / month and I can delete it at any time.</p> \n<p>Under<strong> Sample data bundles</strong>, <strong>Capital Markets sample data</strong>, I click <strong>Install dataset</strong>. This can take several minutes, so it’s a good time to stand up, stretch your legs, and grab a cup of coffee.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-21_08-47-10.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-21_08-47-10-1024x447.png\" /></a></p> \n<p><span><strong>How to Use an <span>Amazon FinSpace</span> Environment<br /> </strong></span>In my role as financial analyst, my AWS account administrator sends me an email containing a URL to connect to my <span>Amazon FinSpace</span> Environment along with the related credentials. I connect to the <span>Amazon FinSpace</span> environment.</p> \n<p>A couple of points are worth noting on the welcome page. First, on the top right side, I click the gear icon to access the environment settings. This is where I can add other users and manage their permissions. Second, you can browse the different data by categories on the left side, or search for specific terms by typing your search query on the search bar on top of the screen, and refine your search on the left side.</p> \n<p>I can use <span>Amazon FinSpace</span> as my data hub. Data are fed through the API or I can load data directly from my workstation. I use tags to describe datasets. Datasets are containers for data; changes are versioned and I can create historical views of data or use the auto-updating data view that <span>Amazon FinSpace</span> maintains for me.</p> \n<p>For this demo, let’s imagine I received a request from a portfolio manager who wants a chart showing <a href=\"https://www.nasdaq.com/glossary/r/realized-volatility\">realized volatility</a> using 5 minute time bars for AMZN stock. Let me show you how I use the search bar to locate data and then use a notebook to analyze that data.</p> \n<p>First, I search my dataset for stock price time bar summary, with 5 min intervals. I type “equity” in the search box. I’m lucky: The first result is the one I want. If needed, I could have refined the results using the facets on the left.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/29/2021-03-29_19-38-38.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/29/2021-03-29_19-38-38-1024x667.png\" /></a></p> \n<p>Once I find the dataset, I explore its description, the schema, and other information. Based on these, I decide if this is the correct dataset to answer my portfolio manager’s request.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/29/2021-03-29_19-40-13.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/29/2021-03-29_19-40-13-1024x613.png\" /></a></p> \n<p> </p> \n<p>I click <strong>Analyze in notebook</strong> to start a <a href=\"https://jupyter.org/\">Jupyter</a> notebook where I’ll be able to further explore the data with <a href=\"https://spark.apache.org/docs/latest/api/python/\">PySpark</a>. Once the notebook is open, I first check it is correctly configured to use the <span>Amazon FinSpace</span> PySpark kernel (starting the kernel takes 5-8 minutes).</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-21_10-30-15.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-21_10-30-15-300x133.png\" /></a></p> \n<p>I click “play” on the first code box to connect to the Spark cluster.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-21_10-25-53.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-21_10-25-53-1024x558.png\" /></a></p> \n<p>To analyze my dataset and answer the specific question from my PM, I need to type a bit of PySpark code. For the purpose of this demo, I am using <a href=\"https://github.com/aws/amazon-finspace-examples/tree/main/notebooks/compute_and_plot_volatility_from_taq\">sample code</a> from the <span>Amazon FinSpace</span> <a href=\"https://github.com/aws/amazon-finspace-examples/tree/main/notebooks/compute_and_plot_volatility_from_taq\">GitHub repository</a>. You can upload the Notebook to your environment. Click the up arrow as shown on the top left of the screen above to select the file from your local machine.</p> \n<p>This notebook pulls data from the <span>Amazon FinSpace</span> catalog “US Equity Time-Bar Summary” data I found earlier, and then uses the <span>Amazon FinSpace</span> built-in analytic function <code>realized_volatility()</code> to compute realized volatility for a group of tickers and exchange event types.</p> \n<p>Before creating any graph, let’s have a sense of the dataset. What is the time range of the data ? What tickers are in this dataset ? I answer these questions with simple <code>select()</code> or <code>groupby()</code> functions provided by <span>Amazon FinSpace</span>. I prepare my <code>FinSpaceAnalyticsAnalyser</code> class with the code below :</p> \n<pre><code>from aws.finspace.analytics import FinSpaceAnalyticsManager\nfinspace = FinSpaceAnalyticsManager(spark = spark, endpoint=hfs_endpoint)\n\nsumDF = finspace.read_data_view(dataset_id = dataset_id, data_view_id = view_id)</code></pre> \n<p>Once done, I can start to explore the dataset:<a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-21_21-25-58.png\"><br /> <img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-21_21-25-58-1024x697.png\" /></a></p> \n<p>I can see there are 561778 AMZN trades and price quotes between Oct. 1, 2019 and March 31, 2020.</p> \n<p>To plot the realized volatility, I use <a href=\"https://pandas.pydata.org/\">Panda</a> to plot the values:</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-21_21-26-37.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-21_21-26-37-1024x524.png\" /></a></p> \n<p>When I execute this code block, I receive:</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/04/27/Screen-Shot-2021-04-13-at-8.25.29-PM-copy.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/04/27/Screen-Shot-2021-04-13-at-8.25.29-PM-copy.png\" /></a></p> \n<p> </p> \n<p>Similarly, I can start a Bollinger Bands analysis to check if the volatility spike created an oversold condition on the AMZN stock. I am also using <a href=\"https://pandas.pydata.org/\">Panda</a> to plot the values.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-21_21-26-59.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/03/22/2021-03-21_21-26-59-1024x541.png\" /></a></p> \n<p>and generate this graph:</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/04/27/Screen-Shot-2021-04-13-at-8.26.27-PM-copy.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/04/27/Screen-Shot-2021-04-13-at-8.26.27-PM-copy.png\" /></a></p> \n<p> </p> \n<p>I am ready to answer the portfolio manager’s question. But why was there a spike on Jan 30 2020 ? The answer is <a href=\"https://www.cnbc.com/2020/01/30/amazon-amzn-q4-2019-earnings.html\">in the news</a>: “Amazon soars after huge earnings beat.” :-)</p> \n<p><span><strong>Availability and Pricing</strong></span><br /> <a href=\"https://aws.amazon.com/finspace\">Amazon FinSpace</a> is available today in <span>US East (N. Virginia)</span>, <span>US East (Ohio)</span>, <span>US West (Oregon)</span>, <span>Europe (Ireland)</span>, and <span>Canada (Central)</span>.</p> \n<p>As usual, we charge you only for the resources your project uses. Pricing is based on three dimensions: the number of analysts with access to the service, the volume of data ingested, and the compute hours used to apply your transformations. Detailed pricing information is available on <a href=\"https://aws.amazon.com/finspace/pricing\">the service pricing page</a>.</p> \n<p><strong>Give it a try today</strong> and let us know your feedback.</p> \n<a href=\"https://twitter.com/sebsto\">-- seb</a>","author":"Sébastien Stormacq","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"92e79369b19344c101666629338feb4bd8515c47def2bff2f68fc09303803622","category":"Tech"}