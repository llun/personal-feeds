{"title":"ลองใช้งาน Smocker สำหรับการทำ HTTP Mock Server","link":"https://www.somkiat.cc/http-mock-server-with-smocker/","date":1625326777000,"content":"<p><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/07/mock-150x150.png\" /></p>\n<figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/07/mock-1024x603.png\" /></figure>\n\n\n\n<p>ในการพัฒนาระบบงาน มักจะมีการใช้งาน service อื่น ๆ<br />ผ่าน HTTP protocol ด้วยเสมอ<br />เราจะเรียก service เหล่านั้นว่า dependency<br /><br />บ่อยครั้งที่การ integration test มักจะมีปัญหา<br />ดังนั้นจึงต้องทำการจำลอง service เหล่านั้นขึ้นมา<br />เพื่อให้เราสามารถพัฒนาและทดสอบไปได้อย่างราบรื่น<br />หนึ่งในเครื่องมือที่น่าสนใจและลองใช้งานหน่อยคือ <strong><a href=\"https://smocker.dev/\" target=\"_blank\">Smocker</a></strong></p>\n\n\n\n<span></span>\n\n\n\n<p><strong>Smocker นั้นสามารถทำได้ดังนี้</strong></p>\n\n\n\n<ul><li>Static mock server</li><li>Dynamic mock server</li><li>Proxy</li></ul>\n\n\n\n<p>โดยที่ Smocker มี use case ในการใช้งานดังนี้</p>\n\n\n\n<p><strong>1. ทำตัวเป็น API gateway </strong></p>\n\n\n\n<p>เพื่อทำการจำลอง service ที่ต้องการ<br />รวมทั้งสามารถเรียกใช้งาน service จริงได้อีก</p>\n\n\n\n<figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/07/mock-01-1024x312.png\" /></figure>\n\n\n\n<p><strong>2. ทำตัวเป็น http proxy ก็ได้</strong></p>\n\n\n\n<figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/07/mock-02-1024x443.png\" /></figure>\n\n\n\n<p><strong>อีกอย่างที่น่าสนใจคือ พัฒนาด้วยภาษา Go นะ</strong></p>\n\n\n\n<p>แถมมีหน้า UI ในการจัดการแบบง่าย ๆ อีกด้วย</p>\n\n\n\n<figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/07/screenshot-mocks-1024x512.png\" /></figure>\n\n\n\n<p><strong>การติดตั้งก็มีแบบง่าย ๆ หลายแบบ</strong></p>\n\n\n\n<p>ยกตัวอย่างเช่น Docker กันเลย</p>\n\n\n\n[gist id=\"38da543646142917db354aede6d77902\" file=\"1.txt\"]\n\n\n\n<p>ลองสร้าง Mock API ในรูปแบบของ YAML แบบง่าย ๆ<br />ซึ่งเป็นแบบ <strong>Static mock server</strong></p>\n\n\n\n[gist id=\"38da543646142917db354aede6d77902\" file=\"api.yml\"]\n\n\n\n<p><strong>นำไปใส่ผ่าน UI ใน port 8081 ได้เลย</strong></p>\n\n\n\n<figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/07/mock-03-1024x432.png\" /></figure>\n\n\n\n<p><strong>สามารถใช้งานผ่าน port 8080 ได้ดังนี้</strong></p>\n\n\n\n<figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/07/mock-04.png\" /></figure>\n\n\n\n<p>ใช้งานง่ายดี ไว้ไปลองแบบ dynamic และ proxy กันบ้าง<br />น่าจะตอบโจทย์หลาย ๆ เรื่องได้อีกมาก</p>\n","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"973e976d671f6821a7123babd2309b5e8c832839356a219eda68480a5941bc2d","category":"Thai"}