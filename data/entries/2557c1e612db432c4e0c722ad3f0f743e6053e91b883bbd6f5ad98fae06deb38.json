{"title":"[Slack API] ทำการดึง API token สำหรับ client scope","link":"https://www.somkiat.cc/slack-api-token-with-client-scope/","date":1622995320000,"content":"<p><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/06/slack_oauth_flow_diagram-150x150.png\" /></p>\n<p><strong>ปัญหาสำหรับการ integrate กับ Slack API</strong><br />โดยทำการสร้าง app ใน workspace <br />จากนั้นกำหนด permission scope เป็น admin<br />จะได้ token สำหรับการเข้าถึง<br />แต่เมื่อนำ token นี้ไปใช้งานกลับเจอปัญหานี้</p>\n\n\n\n<span></span>\n\n\n\n[gist id=\"852e609bc58d89134aa3ff2a2d95a89b\" file=\"1.txt\"]\n\n\n\n<p>ไปดูในการ config app ก็ไม่เจอ<br />สำหรับการเพิ่ม scope ของ client</p>\n\n\n\n<p><strong>ก็เลยลองไปดูหน่อยว่า Token มันทำงานอย่างไร ?</strong></p>\n\n\n\n<p>เป็น Legacy feature !!</p>\n\n\n\n<figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/06/slack_oauth_flow_diagram-1024x575.png\" /></figure>\n\n\n\n<p><strong>ดังนั้นต้องทำการส่ง request ไปเพื่อ Authorization สำหรับ scope=client</strong><br />และ client_id ของ app ดังนี้</p>\n\n\n\n[gist id=\"852e609bc58d89134aa3ff2a2d95a89b\" file=\"2.txt\"]\n\n\n\n<p><strong>จากนั้นทำการขอ Token จากผลการ Authorization </strong></p>\n\n\n\n[gist id=\"852e609bc58d89134aa3ff2a2d95a89b\" file=\"3.txt\"]\n\n\n\n<p>สุดท้ายก็ได้ <strong>Token</strong> ที่เอาไปใช้งานได้แล้ว<br />ง่ายไหมเนี่ย !!</p>\n","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"2557c1e612db432c4e0c722ad3f0f743e6053e91b883bbd6f5ad98fae06deb38","category":"Thai"}