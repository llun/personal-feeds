{"title":"รีวิว Synology DS420+: NAS ที่ใช้งานเป็นเซิร์ฟเวอร์เต็มรูปแบบได้ในตัว","link":"https://www.blognone.com/node/121089","date":1612851838000,"content":"<div class=\"field field-name-body field-type-text-with-summary field-label-hidden\"><div class=\"field-items\"><div class=\"field-item even\"><p>แม้ในช่วงหลังบริการคลาวด์สตอเรจจะได้รับความนิยมเป็นอย่างมาก แต่ความสะดวกในการถ่ายรูปและแชร์เอกสารที่มากขึ้นก็ทำให้หลายคน มองหา NAS มาใช้งานในบ้านกัน โดย NAS ในช่วงหลังเริ่มปรับปรุงซอฟต์แวร์จนใกล้เคียงบริการคลาวด์มากขึ้น พร้อมกับความได้เปรียบด้านความเร็วที่ตัว NAS เชื่อมต่อเน็ตเวิร์คในระดับกิกะบิตต่อวินาทีทำให้การซิงก์ไฟล์ขนาดใหญ่ทำได้สะดวกขึ้น</p>\n<p>ทาง Synology ได้ส่ง Synology DS420+ มาให้ Blognone ได้ทดสอบ (ข้อมูลเปิดเผย ทีมงานได้รับ NAS ตัวนี้ไว้เลยหลังการรีวิว แต่ไม่มีข้อตกลงอื่นรวมถึงการส่งรีวิวให้ทางบริษัทตรวจสอบแต่อย่างใด)</p>\n<p><img alt=\"No Description\" src=\"https://www.blognone.com/sites/default/files/externals/b1989faef68bf4cc343724156216c33b.jpg\" ></p>\n<h2>### สเปคฮาร์ดแวร์</h2>\n<p>Synology DS420+ เป็นหนึ่งใน NAS ตระกูลผู้ใช้ตามบ้านที่ออกมาชุดล่าสุด ความเหมือนกันในตระกูลที่ออกมาพร้อมกันเหล่านี้คือจะใช้ซีพียู Celeron ทำให้สามารถรันซอฟต์แวร์ x86 ได้เหมือนกับพีซีทั่วไป</p>\n<ul>\n<li>ซีพียู Intel Celeron J4025 2 คอร์ 2 เธรด</li>\n<li>แรม DDR4 2GB ใส่เพิ่มได้ 1 slot ตามข้อมูลบริษัทระบุว่าเพิ่มได้อีก 4GB (รวมถึงแนะนำว่าให้ติดตั้งแรมจาก Synology โดยตรงเท่านั้น) แต่ก็<a href=\"https://www.youtube.com/watch?v=vs-uvB_GDCo&amp;feature=emb_logo\">มีผู้ทดสอบว่าสามารถติดตั้งแรมเพิ่มอีก 16GB ได้</a></li>\n<li>ช่อง HDD 3.5 นิ้ว 4 ช่อง รองรับการเปลี่ยนแบบ hot-swap</li>\n<li>ช่อง SSD ขนาด 2280 2 ช่อง</li>\n<li>LAN แบบกิกะบิต 2 ช่อง รองรับการทำ link aggregation</li>\n<li>USB 3.1 2 ช่อง</li>\n<li>น้ำหนัก 2.18 กิโลกรัม</li>\n</ul>\n<h2>การออกแบบฮาร์ดแวร์</h2>\n<p><img alt=\"No Description\" src=\"https://www.blognone.com/sites/default/files/externals/ab5bf0e02bf81e824be45b59ad03d202.jpg\" ></p>\n<p>ภาพรวมของการออกแบบเคสของ Synology DS420+ ค่อนข้างตรงไปตรงมา ฮาร์ดดิสก์ทั้งหมดสามารถถอดเปลี่ยนได้จากด้านหน้า ความพิเศษเล็กๆ ของช่องฮาร์ดดิสก์คือมี “กุญแจ” สำหรับล็อกฮาร์ดดิสก์มาให้ด้วย แม้จะไม่ใช่มาตรการความปลอดภัยหลัก (เพราะงัดจริงๆ ก็เอาฮาร์ดดิสก์ไปได้) แต่น่าจะลดอุบัติเหตุการถอดฮาร์ดิสก์ผิดลูกไปได้มาก</p>\n<p><img alt=\"No Description\" src=\"https://www.blognone.com/sites/default/files/externals/505d1984bf4a63262754d89c6684f430.jpg\" ></p>\n<p>อีกส่วนที่น่าสนใจคือฮาร์ดแวร์เสริมทั้งหมดสามารถติดตั้งได้โดยไม่ต้องใช้ไขควงเปิดเคสออกมาแต่อย่างใด มีเพียงฮาร์ดดิสก์ที่มีน็อตให้ยึดกับถาดเท่านั้น แต่แรมและ SSD สามารถติดตั้งได้ทันที</p>\n<p><img alt=\"No Description\" src=\"https://www.blognone.com/sites/default/files/externals/67762d816bd2e4c1a11d889ed51f43a4.jpg\" ></p>\n<p><img alt=\"No Description\" src=\"https://www.blognone.com/sites/default/files/externals/c4f913b7fa7f82a998e1eff9d14a5163.jpg\" ></p>\n<p><img alt=\"No Description\" src=\"https://www.blognone.com/sites/default/files/externals/c421787055db128715a1cf20c5430258.jpg\" ></p>\n<p>ตัวแปลงไฟ AC-DC เป็นแบบ 4 ขา กำลังไฟรวม 90 วัตต์ หนักเกือบครึ่งกิโลกรัม</p>\n<h2>Synology DiskStation Manager</h2>\n<p>จุดขายของ NAS นอกจากเคสภายนอกที่ออกแบบมาเฉพาะสำหรับการติดตั้งสตอเรจจำนวนมากแล้ว จุดสำคัญอย่างมากก็คือซอฟต์แวร์ที่มักเป็นลินุกซ์ที่ปรับแต่งมาเฉพาะ เว็บอินเทอร์เฟซสามารถใช้งานได้ง่าย และรองรับฟีเจอร์ทั่วๆ ไปโดยไม่ต้องมึความรู้เทคนิคมากนัก ซอฟต์แวร์ของ Synology เองก็ใช้ชื่อว่า DiskStation Manager หรือ DSM โดยปัจจุบันอยู่ที่เวอร์ชั่น 6.5 แม้จะ<a href=\"https://event.synology.com/en-global/dsm_preview\">เปิดตัวเวอร์ชั่น 7 ออกมาแล้ว</a> แต่ก็ยังอยู่ในสถานะพรีวิว</p>\n<p><img alt=\"No Description\" src=\"https://www.blognone.com/sites/default/files/externals/4499a91a1b699bfd8040614a8192b2c5.jpg\" ></p>\n<p>ตัว DSM เปล่าๆ เมื่อติดตั้งครั้งแรกนั้น จะมาพร้อมกับฟีเจอร์พื้นฐานสำหรับการจัดการสตอเรจ เช่น เพิ่มบัญชีผู้ใช้, จัดการฮาร์ดดิสก์, และเปิดแชร์สตอเรจในตัวเครื่องออกไปด้วยโปรโตคอลต่างๆ สำหรับโปรโตคอลแชร์ไฟล์ที่ DSM รองรับในตัวแต่แรก คือ SMB (Windows Share), AFP (Apple Filing Protocol), NFS (Network File System), FTP พร้อมการเข้ารหัสแบบ FTPS, TFTP, และ rsync</p>\n<p>แต่ฟีเจอร์เด่นๆ จำนวนมากของ DSM จะเป็นซอฟต์แวร์แยกที่ต้องกดติดตั้งเพิ่มภายหลัง ในบทความนี้จะแนะนำ 4 ฟีเจอร์ที่ผมมองว่าสำคัญสำหรับการใช้งานโดยทั่วไป คือ Synology Drive, Cloud Sync, Survillance Station, และ Docker</p>\n<h2>Synology Drive แชร์ไฟล์เหมือนบริการคลาวด์</h2>\n<p>บริการตัวสำคัญตัวหนึ่งของ DSM คือ Synology Drive ที่ให้บริการแชร์ไฟล์ผ่านเว็บและแอปแทนที่จะเป็นการแชร์ผ่านไดรฟ์ของระบบปฎิบัติการ ข้อจำกัดสำคัญของการแชร์ไฟล์ผ่าน Synology Drive นี้คือหากเราไม่มี public IP จริงแล้วก็จะใช้งานได้เฉพาะภายในบ้านหรือบริษัทเท่านั้น แต่ข้อดีคือความเร็วความเร็วที่เราเชื่อมต่อกับตัว NAS อยู่ ทำให้การแชร์ไฟล์ขนาดใหญ่ก็ง่ายขึ้้นมาก</p>\n<p><img alt=\"No Description\" src=\"https://www.blognone.com/sites/default/files/externals/333f348de59d75b743b80c662cb58a32.jpg\" ></p>\n<p>ถัดจากการทำงานร่วมกันเป็นกลุ่มตามรายชื่อผู้ใช้ในองค์กรแล้ว ตัว Synology Drive ยังสามารถแชร์เป็นลิงก์สาธารณะ ซึ่งหากไม่ได้ต่อตัว NAS เป็น public IP ไว้แล้วก็แปลว่าจะใช้งานได้ในสำนักงานเท่านั้น</p>\n<p>นอกจาก Synology Drive แล้วแพ็กเกจซอฟต์แวร์เพิ่มเติมยังมีอีกหลายตัว เช่น Synology Office สำหรับงานเอกสาร, บริการเซิร์ฟเวอร์อีเมล (จำกัดจำนวนผู้ใช้ ต้องซื้อไลเซนส์เพิ่ม), ไปจนถึงบริการแชต</p>\n<h2>Single Sign-On</h2>\n<p>ระบบผู้ใช้ของ Synology เองก็ทำได้เป็นพื้นฐาน เช่นหากเราต้องการสร้างบัญชีสำหรับทุกคนในบ้านก็สามารถสร้างบัญชีภายในตัว NAS ได้เองเลย ส่วนระดับองค์กรอาจจะต้องการสร้าง LDAP Server สำหรับควบคุมบัญชีผู้ใช้จากศูนย์กลาง เวลาที่พนักงานออกจากบริษัทไปจะได้ตัดทุกบริการไปพร้อมกัน ตัว DSM เองมีแพ็กเกจ LDAP Server ให้ใช้งาน และตัว NAS เองก็สามารถเชื่อมต่อบัญชีเข้ากับ LDAP ได้</p>\n<p>ที่น่าสนใจคือมันรองรับบริการ Single Sign-On (SSO) ด้วย โดยการล็อกอินผ่าน SSO นี้จะสร้างเว็บกลางของบริษัทขึ้นมา และหากพนักงานล็อกอินเว็บกลางนี้แล้วก็จะเข้าถึงบริการทั้งหมดที่รองรับได้ทันที รูปแบบเดียวกับทุกวันนี้ที่เราล็อกอิน Gmail แล้วเข้าทุกบริการของกูเกิลได้ทั้งหมด หรือล็อกอิน Outlook แล้วเข้าใช้งาน Office.com ของไมโครซอฟท์ได้ทันที</p>\n<p><img alt=\"No Description\" src=\"https://www.blognone.com/sites/default/files/externals/44677ea0476d4a8de5dcef0ecc5fa64a.jpg\" ></p>\n<p>บริการหลายตัวใน DSM รวมถึง Synology Drive นั้นรองรับการล็อกอินแบบ SSO อยู่ 3 ช่องทางหลัก คือ</p>\n<ul>\n<li>SSO Server ของ DSM เอง เป็นโปรโตคอลเฉพาะแม้จะใช้ OAuth เป็นฐาน แต่ไม่ใช้ได้ OpenID Connect สำหรับการแลกเปลี่ยนข้อมูลผู้ใช้โดยตรง ทาง Synology มี <a href=\"https://global.download.synology.com/download/Document/Software/DeveloperGuide/Package/SSOServer/All/enu/Synology_SSO_API_Guide.pdf?_ga=2.222865817.304087620.1612689444-1176950232.1611987691&amp;_gl=1*buqehu*_ga*MTE3Njk1MDIzMi4xNjExOTg3Njkx*_ga_9Q8XT3X20D*MTYxMjcxNTQ4MC41LjEuMTYxMjcxNjM4NS42MA..\">JavaScript SDK</a> สำหรับใช้งาน SSO Server บนเว็บอื่นๆ นอก DSM เองด้วย</li>\n<li>AzureAD สำหรับองค์กรที่ใช้งาน AzureAD อยู่แล้วสามารถเชื่อมเข้าได้ทันที ทำให้ทุกครั้งที่เข้าใช้งาน Synology <a href=\"https://www.synology.com/th-th/knowledgebase/DSM/tutorial/Management/How_to_join_NAS_to_Azure_AD_Domain\">ผู้ใช้สามารถล็อกอินจากหน้าเว็บไมโครซอฟท์</a>ได้เลย</li>\n<li>IBM WebSphere</li>\n</ul>\n<p>แม้ว่าเบื้องหลังแล้ว DSM จะรองรับ OpenID Connect แต่ก็รองรับไม่ครบทั้งโปรโตคอล ทำไม่สามารถใช้เซิร์ฟเวอร์อื่นๆ ตามใจได้ เช่นบางองค์กรอาจจะติดตั้ง Keycloak สำหรับล็อกอินบริการภายใน ก็ต้องรอทาง Synology รองรับ Keycloak โดยมี<a href=\"https://www.reddit.com/r/synology/comments/fggltx/syno_nas_to_authenticate_against_keycloak_openid/\">ข่าวว่าน่าจะออกแพตช์มาในอนาคต</a></p>\n<h2>Cloud Sync</h2>\n<p>แม้ว่าความเร็วจะเป็นจุดได้เปรียบของการใช้ NAS ในองค์กร แต่การสำรองข้อมูลไว้บนคลาวด์อีกทีก็น่าจะสร้างความสบายใจได้ดีกว่ามาก ตัว DSM มีแพ็กเกจ Cloud Sync สำหรับสำรองข้อมูลกลับออกไปยังคลาวด์หลัก แทบทุกเจ้า เช่น AWS S3, Azure Storage, Backblaze, Alibaba Cloud, JD Cloud, Tencent Cloud รวมถึงบริการคอนซูมเมอร์เช่น Dropbox, Google Drive, หรือ Microsoft OneDrive ก็ตาม</p>\n<p><img alt=\"No Description\" src=\"https://www.blognone.com/sites/default/files/externals/a00941c946caf3b0db61a2cfbcda7188.jpg\" ></p>\n<p>ผมทดสอบใช้ Backblaze B2 เนื่องจากราคาค่อนข้างถูกก็สามารารถใช้งานได้ดี เมื่อใส่ข้อมูล keyID และ Application key แล้ว ตัว Cloud Sync จะแสดงรายการ bucket ขึ้นมาให้เลือกทันที</p>\n<p><img alt=\"No Description\" src=\"https://www.blognone.com/sites/default/files/externals/98603230e82138c9bc2ed5a1b9aa6e21.jpg\" ></p>\n<p>เมื่อเปิดการซิงก์ เราสามารถเลือกเข้ารหัสไฟล์บนคลาวด์ได้ โดย Cloud Sync จะให้ตั้งรหัสผ่านกุญแจเข้ารหัส และให้เราเซฟไฟล์กุญแจเข้ารหัสเก็บเอาไว้ หลังจากนั้นตัว NAS ก็จะซิงก์ไฟล์ตลอดเวลา โดยเราอาจจะเลือกใช้ซิงก์เฉพาะบางช่วงเวลา เช่น นอกเวลาทำงานก็ได้</p>\n<h2>Surveillance Station</h2>\n<p>ฟีเจอร์สำคัญอีกอย่างหนึ่งของ DSM คือมันสามารถทำหน้าที่สตอเรจสำหรับกล้องวงจรปิดได้โดยไม่ต้องซื้อกล่อง DVR แยกต่างหาก โดย Surveillance Station รองรับกล้องหลากหลายยี่ห้อที่รองรับโปรโตคอล ONVIF ซึ่งกล้องแบรนด์ที่มี DVR ขายเป็นชุดด้วยกันก็มักจะรองรับอยู่แล้ว</p>\n<p><img alt=\"No Description\" src=\"https://www.blognone.com/sites/default/files/externals/78e44a1ce8f03b012a815b12f62214c2.jpg\" ></p>\n<p>ข้อดีของการใช้ NAS เป็น DVR คือเราไม่ต้องจัดการสตอเรจหลายแห่งแยกกัน รวมถึง DSM มีความสามารถในการลดระยะเวลาเก็บภาพกล้องวงจรปิดลงหากสตอเรจเริ่มเหลือพื้นที่น้อย ในกรณีองค์กรก็อาจจะจัดการการเข้าถึงภาพกล้องวงจรปิดผ่านทางระบบ LDAP และ SSO ของ DSM ไปได้พร้อมกันด้วย อย่างไรก็ดีควรระวังว่า Synology DS420+ นี้จำกัดไลเซนส์กล้องวงจรปิดที่ใช้งานได้เพียงสองตัวเท่านั้น หากต้องการใช้งานกล้องมากกว่านั้นจำเป็นต้องซื้อไลเซนส์มาติดตั้งเพิ่ม</p>\n<h2>Docker</h2>\n<p>ฟีเจอร์สุดท้ายของ DSM ที่ผมคิดว่าควรกล่าวถึงคือ Docker เนื่องจาก DS420+ ใช้ซีพียู x86 และรองรับ Docker ค่อนข้างเต็มรูปแบบทำให้สามารถเพิ่มบริการบน DS420+ ขึ้นมาได้</p>\n<p><img alt=\"No Description\" src=\"https://www.blognone.com/sites/default/files/externals/96facd497df89e157e399feaae0bf946.jpg\" ></p>\n<p>บริการหนึ่งที่หายไปจากระบบปฎิบัติการ DSM คือการรองรับการแชร์ไฟล์ด้วยโปรโตคอล S3 ที่ซอฟต์แวร์สำรองข้อมูลจำนวนมากรองรับ ในกรณีนี้เราก็อาจจะรัน Docker ด้วยอิมเมจ minio เพื่อให้บริการสำรองข้อมูลจากโปรแกรมที่รองรับโปรโตคอล S3 ได้</p>\n<p>บริการ Docker ใน DSM รองรับ private registry แต่ไม่รองรับการ build Dockerfile ในตัว เราจึงต้องสร้างอิมเมจพร้อมใช้งานเตรียมไว้ล่วงหน้าหรือใช้อิมเมจสำเร็จรูปเท่านั้น</p>\n<h2>บทสรุป</h2>\n<p>ผมคิดว่า NAS อย่าง Synology DS420+ น่าจะเป็นตัวเลือกสำหรับ power user ที่ต้องการเซิร์ฟเวอร์ในบ้านที่ใช้งานหลากหลายมากขึ้น มันไม่ได้เป็นเพียงสตอเรจสำหรับสำรองข้อมูลจากคอมพิวเตอร์ในบ้านเพียงอย่างเดียวอีกต่อไป การใช้งานที่หลากหลายและการใช้งานที่สะดวกทำให้ NAS เหล่านี้กลายเป็นทางเลือกสำหรับคนที่ไม่ต้องการเสียเวลาติดตั้งทุกอย่างจากศูนย์เอง เช่น ซื้อ Raspberry Pi หรือ NUC มาทำเซิร์ฟเวอร์ในบ้าน เคสที่เหมาะสมพอดีกับการใช้งานสตอเรจและซอฟท์แวร์ที่ใช้งานง่ายกว่าก็น่าจะคุ้มค่าตัวของ DS420+ แล้ว</p>\n<p>สำหรับสำนักงานขนาดเล็ก DS420+ อาจจะเหมาะกับสำนักงานที่ใช้งานไม่เกิน 10-20 คน เนื่องจากพลังประมวลผลที่ไม่สูงนัก</p>\n<p>อย่างไรก็ดี DSM เองก็ยังมีข้อจำกัดอยู่บ้าง ตัวแรมเริ่มต้นให้มา 2GB อาจจะน้อยเกินไปสำหรับคนที่ต้องการรันแอปพลิเคชั่นหลากหลายขึ้น แถมบริษัทยังพยายามบอกให้ใช้แรมของบริษัทเองที่อัพเกรดได้สูงสุดที่ 6GB และแม้การขายไลเซนส์จะเป็นเรื่องปกติของวงการ NAS แต่สำหรับ DS420+ หากให้ไลเซนส์มารองรับกล้องสัก 4 ตัวก็น่าจะทำหน้าที่เซิร์ฟเวอร์กลางในบ้านได้โดยไม่ต้องกังวลเรื่องไลเซนส์กันมากเกินไป</p>\n</div></div></div><div class=\"field field-name-taxonomy-vocabulary-1 field-type-taxonomy-term-reference field-label-above\"><div class=\"field-label\">Topics:&nbsp;</div><div class=\"field-items\"><div class=\"field-item even\"><a href=\"/topics/synology\">Synology</a></div><div class=\"field-item odd\"><a href=\"/topics/nas\">NAS</a></div></div></div>","author":"lew","siteTitle":"Blognone","siteHash":"ededadcf18490b3937e7dd89ebe8c00dc129addbdf1ebe4aff1f458146693da0","entryHash":"367a6164b19b0b08cdede26cfdb182b2cc6c618e7212a885ddd8ea9c8d93f432","category":"Thai"}