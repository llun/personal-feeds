{"title":"ว่าง ๆ มาลองเล่น Go 1.16 rc 1 กันหน่อย","link":"https://www.somkiat.cc/go-1-16-rc-1/","date":1611997366000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2021/01/golang-150x150.jpg\" class=\"attachment-post-thumbnail size-post-thumbnail wp-post-image\" alt=\"\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/01/golang-150x150.jpg 150w, https://www.somkiat.cc/wp-content/uploads/2021/01/golang-75x75.jpg 75w\" sizes=\"(max-width: 150px) 100vw, 150px\" /></p><!-- wp:image {\"id\":21374,\"sizeSlug\":\"large\"} -->\n<figure class=\"wp-block-image size-large\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/01/golang-1024x576.jpg\" alt=\"\" class=\"wp-image-21374\"/></figure>\n<!-- /wp:image -->\n\n<!-- wp:paragraph -->\n<p>เห็นว่า Go เพิ่มปล่อย <strong><a rel=\"noreferrer noopener\" href=\"https://groups.google.com/g/golang-announce/c/U_FUHY4wuSc/m/3_Vw3oqpAgAJ?pli=1\" target=\"_blank\">version 1.16 RC 1</a></strong> มาให้ลองใช้งานกัน<br>ก็เลยลองเล่นกันหน่อยว่า มีอะไรที่เปลี่ยนแปลงไปบ้าง<br>ในการใช้งานทั่วไป มาดูกัน</p>\n<!-- /wp:paragraph -->\n\n\n<span id=\"more-21362\"></span>\n\n\n<!-- wp:paragraph -->\n<p>โดยก่อนหน้าที่อธิบายเรื่อง <a rel=\"noreferrer noopener\" href=\"https://www.somkiat.cc/go-embed/\" target=\"_blank\">Embed package</a> ไปแล้ว</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph {\"fontSize\":\"medium\"} -->\n<p class=\"has-medium-font-size\"><strong>ในการทดสอบ ถ้าเจอ code ใช้ในงาน os.Exit(int) แล้ว การทดสอบนั้นจะ fail ทันที</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>ซึ่งแตกต่างจากเดิมคือ ไม่สนใจ<br>ทำให้การทดสอบนั้น ๆ ผ่าน</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>รวมทั้งการ run test ได้ต้อง runใน project ที่เป็น go module เท่านั้น</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:shortcode -->\n[gist id=\"f9f4bca9a3bad0909b8a3e7587a62b1f\" file=\"2.txt\"]\n<!-- /wp:shortcode -->\n\n<!-- wp:paragraph {\"fontSize\":\"medium\"} -->\n<p class=\"has-medium-font-size\"><strong>เพิ่ม env ตัวใหม่ชื่อว่า GOVCS เข้ามา</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>สำหรับกำหนดว่า จะทำการ download source code ของ library ต่าง ๆ มาจากไหน<br>โดยค่า default คือ git และ hg</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph {\"fontSize\":\"medium\"} -->\n<p class=\"has-medium-font-size\"><strong>เพิ่ม Package ใหม่ชื่อว่า io/fs เข้ามา สำหรับการอ่านไฟล์และ directory เท่านั้น</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>โดยการใช้งานผ่าน interface ชื่อว่า fs.FS ดังนี้</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>[gist id=\"f9f4bca9a3bad0909b8a3e7587a62b1f\" file=\"fs.go\"]</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>ยังไม่พอนะ ได้เตรียม <strong><a rel=\"noreferrer noopener\" href=\"https://tip.golang.org/pkg/testing/fstest/\" target=\"_blank\">package testing/fstest</a></strong> ใช้สำหรับการทดสอบให้อีกด้วย<br>ซึ่งจะทำการจำลองในหน่วยความจำให้แทน<br>ทำให้การทดสอบง่ายขึ้นไปอีก</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>ส่วน package <strong><a rel=\"noreferrer noopener\" href=\"https://tip.golang.org/pkg/io/ioutil/\" target=\"_blank\">io/ioutil</a></strong> นั้นถูก deprecated แล้ว<br>ใครใช้งานอยู่หรือคิดจะใช้งาน ก็เปลี่ยนได้แล้ว</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>จากที่ทดสอบการ build พบว่า ขนาดของไฟล์ binary ที่ได้เล็กลงอีกแล้ว !!</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>อ่านการเปลี่ยนแปลงเพิ่มได้ที่ <strong><a href=\"https://tip.golang.org/doc/go1.16\" target=\"_blank\" rel=\"noreferrer noopener\">Go 1.16 Release Notes</a></strong></p>\n<!-- /wp:paragraph -->","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"6800485181c4fc6c593f34bf9cb8e432a3fd718f738719e1103d3b5da780ffcf","category":"Thai"}