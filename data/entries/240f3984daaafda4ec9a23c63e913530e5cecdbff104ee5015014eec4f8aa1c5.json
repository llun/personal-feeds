{"title":"Using Waypoint Runners To Enable GitOps Workflows","link":"https://www.hashicorp.com/blog/using-waypoint-runners-to-enable-gitops-workflows","date":1621875600000,"content":"<p>Getting started with GitOps and software delivery has never been easier, thanks to <a href=\"https://www.waypointproject.io/\">HashiCorp Waypoint</a>. Through the use of its runners, integrating GitOps into your workflow is no longer out of reach. <a href=\"https://www.gitops.tech/\">GitOps is a strategy</a> that uses a Git repository with declarative configuration to automate and deploy infrastructure. Many GitOps workflows focus on the final steps of typical application deployment. You can use HashiCorp Waypoint to facilitate workflows like GitOps to build, deploy, and release your applications.</p>\n<p>Starting with <a href=\"https://www.hashicorp.com/blog/announcing-hashicorp-waypoint-0-3-0\">version 0.3</a>, Waypoint installs a single runner after successfully executing <code>waypoint server install</code>. Runners can perform Git operations like tracking which commit is linked to builds, deployments, and releases. Runners also allow remote operations such as <code>waypoint up</code>, <code>waypoint build</code>, and <code>waypoint deploy</code>. When paired with authentication credentials, they enable beneficial functionality and helpful patterns at every step of your GitOps workflow. In this post, you’ll learn how to configure a Waypoint runner and set up Git integration.</p><img src=\"https://www.datocms-assets.com/2885/1621874098-waypoint-lambda-example.png\" /><h2><a href=\"#git-integration\">»</a><a></a>Git Integration</h2>\n<p>Waypoint tracks Git commits with builds, deploys, releases, and runs <code>waypoint up</code> when changes get pushed to a repository.</p>\n<p>Waypoint allows for configuring the <a href=\"https://www.waypointproject.io/docs/projects/git\">Git data source</a> via the CLI or Waypoint's web UI. By doing so, the Waypoint server stores sensitive information rather than it being present in your Waypoint project configuration.</p>\n<p>If you want to configure Waypoint's Git settings in the web UI, you can run the following command to open the Waypoint UI automatically:</p>\n<pre><code>$ waypoint ui -authenticate \n</code></pre>\n<p>Navigating to a project’s settings will let you set all of the appropriate values for your builds, deploys, and releases.</p><img src=\"https://www.datocms-assets.com/2885/1621874190-waypoint-git-configuration.png\" /><p>If you'd like to enable Git settings via your project file, you can set values as follows:</p><pre><code>project = \"example\"\n\nrunner {\n  enable = true\n\n  data_source \"git\" {\n    url  = \"https://github.com/hashicorp/waypoint-examples.git\"\n    path = \"docker/node-js\"\n  }\n}\n\napp \"example\" {\n  // etc\n}</code></pre><p>Waypoint supports additional polling and ref tracking options <a href=\"https://www.waypointproject.io/docs/projects/git\">documented on our website</a>.</p>\n<h2><a href=\"#runner-configuration\">»</a><a></a>Runner Configuration</h2>\n<p>You can use the  -runner flag to add configuration details to the Waypoint Runner:</p>\n<pre><code>$ waypoint config set -runner AWS_ACCESS_KEY_ID=abcd AWS_SECRET_ACCESS_KEY=1234\n</code></pre>\n<p>Currently, when you set your configuration, these values are exposed on every runner. Waypoint configuration values include the CLI operations run locally. If you’d like to unset any variables, you can assign them an empty value to remove them:</p>\n<pre><code>$ waypoint config set -runner AWS_ACCESS_KEY_ID=\n</code></pre>\n<p>To view your current configuration values, you can run:</p>\n<pre><code>$ waypoint config get -runner\n</code></pre>\n<p>Waypoint installs a single runner during the Waypoint install step. The documentation shows how you can also <a href=\"https://www.waypointproject.io/docs/runner/run-manual\">add more runners</a>.</p>\n<p>Waypoint works with just about any application deployment workflow that you have while providing an extensible toolkit for you to work with, whether you are making a GitOps journey of your own or looking to deploy a demo for a brand new application idea.</p>\n<h2><a href=\"#what-s-next-for-waypoint\">»</a><a></a>What's Next for Waypoint</h2>\n<p>In the next major release of Waypoint, we plan to add significant foundational features for the project, like supporting variables within the <code>waypoint.hcl</code> file, health check report forwarding, mutable deployment patterns with Helm, Nomad job files, and more.</p>\n<p>You can also see work on the project's milestones in GitHub. Please check out the <a href=\"https://github.com/hashicorp/waypoint/milestone/12\">0.4.0 milestone</a> for a list of what we’re currently working on. If you have any questions or suggestions about improving the Waypoint project, please let us know in the <a href=\"https://discuss.hashicorp.com/c/waypoint/51\">Waypoint Discuss forums</a>.</p>\n<h2><a href=\"#learn-more\">»</a><a></a>Learn More</h2>\n<ul>\n<li>See our <a href=\"https://www.hashicorp.com/resources/hashicorp-waypoint-a-whiteboard-video-with-armon-dadgar\">whiteboard introduction</a> to Waypoint and our <a href=\"https://www.hashicorp.com/resources/demo-introduction-to-waypoint\">demo introduction</a>.</li>\n<li>Get started using Waypoint with <a href=\"https://learn.hashicorp.com/tutorials/waypoint/get-started-intro?in=waypoint/get-started-docker\">tutorials on HashiCorp Learn</a>.</li>\n<li>Learn how to use <a href=\"https://waypointproject.io/docs/projects/git\">Git integration</a>, <a href=\"https://waypointproject.io/docs/runner\">runners</a>, and <a href=\"https://learn.hashicorp.com/tutorials/waypoint/aws-lambda?in=waypoint/deploy-aws\">Lambda</a>.</li>\n<li>Read the 0.3.0 release notes on the <a href=\"https://discuss.hashicorp.com/t/waypoint-0-3-0-released/\">Waypoint Discuss forum</a>.</li>\n<li><a href=\"https://www.waypointproject.io/community\">Contribute to the open source Waypoint project</a> and participate in its community</li>\n<li><a href=\"https://www.waypointproject.io/docs/extending-waypoint\">Extend Waypoint</a> by creating a plugin</li>\n</ul>","author":"Taylor Dolezal","siteTitle":"HashiCorp Blog","siteHash":"219aa6310b3388f2335eba49871f4df9581f2c58eaeb5e498363b54e835b7001","entryHash":"240f3984daaafda4ec9a23c63e913530e5cecdbff104ee5015014eec4f8aa1c5","category":"Tech"}